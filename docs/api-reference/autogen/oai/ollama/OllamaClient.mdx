---
sidebarTitle: OllamaClient
title: autogen.oai.ollama.OllamaClient
---
<h2 id="autogen.oai.ollama.OllamaClient" class="doc doc-heading">
    <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>
    <span class="doc doc-object-name doc-class-name">OllamaClient</span>
</h2>

```python
OllamaClient(**kwargs)
```

    Client for Ollama's API.<br/>Note that no api_key or environment variable is required for Ollama.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `**kwargs` |  |

### Class Attributes

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### TOOL_CALL_MANUAL_INSTRUCTION
<br />

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### TOOL_CALL_MANUAL_STEP1
<br />

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### TOOL_CALL_MANUAL_STEP2
<br />

    <br />

### Static Methods

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### get_usage

```python
get_usage(response) -> dict
```

    Return usage summary of the response using RESPONSE_USAGE_KEYS.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `response` |  |

<br />

### Instance Methods

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### cost

```python
cost(self, response) -> float
```

    

<b>Parameters:</b>
| Name | Description |
|--|--|
| `response` |  |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### create

```python
create(self, params: dict) -> ChatCompletionExtended
```

    

<b>Parameters:</b>
| Name | Description |
|--|--|
| `params` | **Type:** dict |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### message_retrieval

```python
message_retrieval(self, response) -> list
```

    Retrieve and return a list of strings or a list of Choice.Message from the response.<br/>NOTE: if a list of Choice.Message is returned, it currently needs to contain the fields of OpenAI's ChatCompletion Message object,
    since that is expected for function or tool calling in the rest of the codebase at the moment, unless a custom agent is being used.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `response` |  |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### oai_messages_to_ollama_messages

```python
oai_messages_to_ollama_messages(
    self,
    messages: list[dict[str, Any]],
    tools: list
) -> list[dict[str, Any]]
```

    Convert messages from OAI format to Ollama's format.<br/>We correct for any specific role orders and types, and convert tools to messages (as Ollama can't use tool messages)

<b>Parameters:</b>
| Name | Description |
|--|--|
| `messages` | **Type:** list[dict[str, Any]] |
| `tools` | **Type:** list |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### parse_params

```python
parse_params(self, params: dict[str, Any]) -> dict[str, Any]
```

    Loads the parameters for Ollama API from the passed in parameters and returns a validated set. Checks types, ranges, and sets defaults

<b>Parameters:</b>
| Name | Description |
|--|--|
| `params` | **Type:** dict[str, Any] |

<br />
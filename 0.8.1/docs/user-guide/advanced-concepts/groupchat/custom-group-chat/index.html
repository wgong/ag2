<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=http://docs.ag2.ai/latest/docs/user-guide/advanced-concepts/groupchat/custom-group-chat/ rel=canonical><link href=../tools/ rel=prev><link href=../resuming-group-chat/ rel=next><link rel=icon href=../../../../../assets/img/favicon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.7"><title>Customized GroupChat flows - AG2</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../css/timeago.css><link rel=stylesheet href=../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../stylesheets/extra.aa8cf5.min.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - Customized GroupChat flows"><meta property=og:description content="A programming framework for agentic AI"><meta content=http://docs.ag2.ai/latest/docs/user-guide/advanced-concepts/groupchat/custom-group-chat/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - Customized GroupChat flows"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link href=../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#1-callable-speaker-selection-method class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> You're viewing the <strong class=primary-text>work in progress</strong> version of the documentation. Please click <a rel=me href=http://docs.ag2.ai><strong>here</strong></a> for the latest. </div> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Customized GroupChat flows </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../../api-reference/autogen/AfterWork/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../../faq/FAQ/ class=md-tabs__link> FAQs </a> </li> <li class=md-tabs__item> <a href=../../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> Basic Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2 checked> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Advanced Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Advanced Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../rag/ class=md-nav__link> <span class=md-ellipsis> RAG </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_2 checked> <label class=md-nav__link for=__nav_2_2_2 id=__nav_2_2_2_label tabindex=0> <span class=md-ellipsis> GroupChat </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> GroupChat </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../groupchat/ class=md-nav__link> <span class=md-ellipsis> Groupchat </span> </a> </li> <li class=md-nav__item> <a href=../tools/ class=md-nav__link> <span class=md-ellipsis> Tools </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Custom Group Chat </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Custom Group Chat </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-callable-speaker-selection-method class=md-nav__link> <span class=md-ellipsis> 1. Callable speaker selection method </span> </a> </li> <li class=md-nav__item> <a href=#2-specified-flows-using-graphs class=md-nav__link> <span class=md-ellipsis> 2. Specified flows using graphs </span> </a> <nav class=md-nav aria-label="2. Specified flows using graphs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#more-groupchat-examples class=md-nav__link> <span class=md-ellipsis> More GroupChat examples </span> </a> </li> <li class=md-nav__item> <a href=#api class=md-nav__link> <span class=md-ellipsis> API </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../resuming-group-chat/ class=md-nav__link> <span class=md-ellipsis> Resuming Group Chat </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../swarm/deep-dive/ class=md-nav__link> <span class=md-ellipsis> Swarm </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../realtime-agent/ class=md-nav__link> <span class=md-ellipsis> RealtimeAgent </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../code-execution/ class=md-nav__link> <span class=md-ellipsis> Code Execution </span> </a> </li> <li class=md-nav__item> <a href=../../conversation-patterns-deep-dive/ class=md-nav__link> <span class=md-ellipsis> Conversation Patterns Deep Dive </span> </a> </li> <li class=md-nav__item> <a href=../../llm-configuration-deep-dive/ class=md-nav__link> <span class=md-ellipsis> LLM Configuration Deep Dive </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../models/amazon-bedrock/ class=md-nav__link> <span class=md-ellipsis> Model Providers </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../reference-agents/ class=md-nav__link> <span class=md-ellipsis> Reference Agents </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../reference-tools/ class=md-nav__link> <span class=md-ellipsis> Reference Tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../api-reference/autogen/AfterWork/ class=md-nav__link> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../faq/FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-callable-speaker-selection-method class=md-nav__link> <span class=md-ellipsis> 1. Callable speaker selection method </span> </a> </li> <li class=md-nav__item> <a href=#2-specified-flows-using-graphs class=md-nav__link> <span class=md-ellipsis> 2. Specified flows using graphs </span> </a> <nav class=md-nav aria-label="2. Specified flows using graphs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#more-groupchat-examples class=md-nav__link> <span class=md-ellipsis> More GroupChat examples </span> </a> </li> <li class=md-nav__item> <a href=#api class=md-nav__link> <span class=md-ellipsis> API </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/website/mkdocs/docs/docs/user-guide/advanced-concepts/groupchat/custom-group-chat.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>Custom Group Chat</h1> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>If you haven't had a chance to read about or use AG2's GroupChat orchestration, check out the <a href=groupchat>GroupChat Overview</a> for more information.</p> </div> <p><code>GroupChat</code>'s four built-in conversation patterns, <code>automatic</code>, <code>round robin</code>, <code>random</code>, and <code>manual</code> provide a good degree of flexibility to orchestrate agents in a group chat setting.</p> <p>However, there are two additional methods to control the flow in a GroupChat:</p> <ol> <li> <p>Use a <code>Callable</code> as a speaker selection method</p> </li> <li> <p>Define a graph specifying valid transitions</p> </li> </ol> <p>Here's a walk-through of each of these methods.</p> <h2 id=1-callable-speaker-selection-method>1. Callable speaker selection method<a class=headerlink href=#1-callable-speaker-selection-method title="Permanent link">#</a></h2> <p>By specifying a <code>Callable</code> as the speaker selection method for a GroupChat, a function is called after each agent replies and the agent it returns will be the next agent.</p> <h4 id=setting-up>Setting up<a class=headerlink href=#setting-up title="Permanent link">#</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># Imports and an LLM configuration for our agents</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>AssistantAgent</span><span class=p>,</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>UserProxyAgent</span><span class=p>,</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>Agent</span><span class=p>,</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>GroupChat</span><span class=p>,</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>GroupChatManager</span><span class=p>,</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=p>)</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=c1># Put your key in the OPENAI_API_KEY environment variable</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=n>config_list</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;api_type&quot;</span><span class=p>:</span> <span class=s2>&quot;openai&quot;</span><span class=p>,</span> <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o&quot;</span><span class=p>}</span>
</code></pre></div> <h4 id=agents-and-workflow>Agents and workflow<a class=headerlink href=#agents-and-workflow title="Permanent link">#</a></h4> <p>We have 5 agents in our workflow:</p> <ul> <li>Planner: Give a plan and revise.</li> <li>Engineer: Retrieves papers from the web by writing code.</li> <li>Executor: Executes code.</li> <li>Scientist: Reads papers and writes summaries.</li> <li>Admin (us): Our Human-in-the-loop approving or ending the chat.</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>planner</span> <span class=o>=</span> <span class=n>AssistantAgent</span><span class=p>(</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Planner&quot;</span><span class=p>,</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;Planner. Suggest a plan. Revise the plan based on feedback from admin and critic, until admin approval.</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=s2>The plan may involve an engineer who can write code and a scientist who doesn&#39;t write code.</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=s2>No agent can search the web, use the Engineer to write code to perform any task requiring web access.</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=s2>Explain the plan first. Be clear which step is performed by an engineer, and which step is performed by a scientist.</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=s2>&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>config_list</span><span class=p>,</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=p>)</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=n>user_proxy</span> <span class=o>=</span> <span class=n>UserProxyAgent</span><span class=p>(</span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Admin&quot;</span><span class=p>,</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>    <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;A human admin. Interact with the planner to discuss the plan. Plan execution needs to be approved by this admin.&quot;</span><span class=p>,</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>    <span class=n>code_execution_config</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=p>)</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=n>engineer</span> <span class=o>=</span> <span class=n>AssistantAgent</span><span class=p>(</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Engineer&quot;</span><span class=p>,</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>config_list</span><span class=p>,</span>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>    <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;Engineer. You follow the approved plan and MUST write python/shell code to solve tasks. Wrap the code in a code block that specifies the script type. The user can&#39;t modify your code. So do not suggest incomplete code which requires others to modify. Don&#39;t use a code block if it&#39;s not intended to be executed by the executor.</span>
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=s2>Don&#39;t include multiple code blocks in one response. Do not ask others to copy and paste the result. Check the execution result returned by the executor.</span>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=s2>Do not install additional packages.</span>
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=s2>If the result indicates there is an error, fix the error and output the code again. Suggest the full code instead of partial code or code changes. If the error can&#39;t be fixed or if the task is not solved even after the code is executed successfully, analyze the problem, revisit your assumption, collect additional info you need, and think of a different approach to try.</span>
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=s2>&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=p>)</span>
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=n>scientist</span> <span class=o>=</span> <span class=n>AssistantAgent</span><span class=p>(</span>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Scientist&quot;</span><span class=p>,</span>
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>config_list</span><span class=p>,</span>
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a>    <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;Scientist. You follow an approved plan. You are able to categorize papers after seeing their abstracts printed. You don&#39;t write code.&quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=p>)</span>
<a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a>
<a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=n>executor</span> <span class=o>=</span> <span class=n>UserProxyAgent</span><span class=p>(</span>
<a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Executor&quot;</span><span class=p>,</span>
<a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a>    <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;Executor. Execute the code written by the engineer and report the result.&quot;</span><span class=p>,</span>
<a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a>    <span class=n>human_input_mode</span><span class=o>=</span><span class=s2>&quot;NEVER&quot;</span><span class=p>,</span>
<a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a>    <span class=n>code_execution_config</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a>        <span class=s2>&quot;last_n_messages&quot;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
<a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a>        <span class=s2>&quot;work_dir&quot;</span><span class=p>:</span> <span class=s2>&quot;paper&quot;</span><span class=p>,</span>
<a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a>        <span class=s2>&quot;use_docker&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a>    <span class=p>},</span>  <span class=c1># Please set use_docker=True if docker is available to run the generated code. Using docker is safer than running the generated code directly.</span>
<a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a><span class=p>)</span>
</code></pre></div> <p>The planned workflow is:</p> <ol> <li>The planner interact with Admin (user) to revise a plan. Only when the Admin (human) types "Approve" can we move to the next step.</li> <li>The engineer will write code to retrieve papers. The code will be executed by executor.</li> <li>When the code is executed successfully, the scientist will read the papers and write a summary.</li> <li>The summary will be reviewed by the Admin and give comments. When the Admin types "TERMINATE", the process will be terminated.</li> </ol> <p>Here's the magic function that will be used at each turn to determine the next agent.</p> <p>By using the chat's messages, retrieved through <code>groupchat.messages</code> we can evaluate where we are up to in the workflow and the next agent.</p> <p>If all fails, we will revert back to the <code>random</code> speaker selection method.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>def</span><span class=w> </span><span class=nf>custom_speaker_selection_func</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span> <span class=n>groupchat</span><span class=p>:</span> <span class=n>GroupChat</span><span class=p>):</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Define a customized speaker selection function.</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=sd>    A recommended way is to define a transition for each speaker in the groupchat.</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=sd>    Returns:</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=sd>        Return an `Agent` class or a string from [&#39;auto&#39;, &#39;manual&#39;, &#39;random&#39;, &#39;round_robin&#39;] to select a default method to use.</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=n>messages</span> <span class=o>=</span> <span class=n>groupchat</span><span class=o>.</span><span class=n>messages</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>    <span class=c1># We&#39;ll start with a transition to the planner</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=mi>1</span><span class=p>:</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>        <span class=k>return</span> <span class=n>planner</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>    <span class=k>if</span> <span class=n>last_speaker</span> <span class=ow>is</span> <span class=n>user_proxy</span><span class=p>:</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>        <span class=k>if</span> <span class=s2>&quot;Approve&quot;</span> <span class=ow>in</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=s2>&quot;content&quot;</span><span class=p>]:</span>
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>            <span class=c1># If the last message is approved, let the engineer to speak</span>
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>            <span class=k>return</span> <span class=n>engineer</span>
<a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>        <span class=k>elif</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;Planner&quot;</span><span class=p>:</span>
<a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a>            <span class=c1># If it is the planning stage, let the planner to continue</span>
<a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>            <span class=k>return</span> <span class=n>planner</span>
<a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a>        <span class=k>elif</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;Scientist&quot;</span><span class=p>:</span>
<a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a>            <span class=c1># If the last message is from the scientist, let the scientist to continue</span>
<a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a>            <span class=k>return</span> <span class=n>scientist</span>
<a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a>
<a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a>    <span class=k>elif</span> <span class=n>last_speaker</span> <span class=ow>is</span> <span class=n>planner</span><span class=p>:</span>
<a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a>        <span class=c1># Always let the user to speak after the planner</span>
<a id=__codelineno-2-27 name=__codelineno-2-27 href=#__codelineno-2-27></a>        <span class=k>return</span> <span class=n>user_proxy</span>
<a id=__codelineno-2-28 name=__codelineno-2-28 href=#__codelineno-2-28></a>
<a id=__codelineno-2-29 name=__codelineno-2-29 href=#__codelineno-2-29></a>    <span class=k>elif</span> <span class=n>last_speaker</span> <span class=ow>is</span> <span class=n>engineer</span><span class=p>:</span>
<a id=__codelineno-2-30 name=__codelineno-2-30 href=#__codelineno-2-30></a>        <span class=k>if</span> <span class=s2>&quot;```python&quot;</span> <span class=ow>in</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=s2>&quot;content&quot;</span><span class=p>]:</span>
<a id=__codelineno-2-31 name=__codelineno-2-31 href=#__codelineno-2-31></a>            <span class=c1># If the last message is a python code block, let the executor to speak</span>
<a id=__codelineno-2-32 name=__codelineno-2-32 href=#__codelineno-2-32></a>            <span class=k>return</span> <span class=n>executor</span>
<a id=__codelineno-2-33 name=__codelineno-2-33 href=#__codelineno-2-33></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-2-34 name=__codelineno-2-34 href=#__codelineno-2-34></a>            <span class=c1># Otherwise, let the engineer to continue</span>
<a id=__codelineno-2-35 name=__codelineno-2-35 href=#__codelineno-2-35></a>            <span class=k>return</span> <span class=n>engineer</span>
<a id=__codelineno-2-36 name=__codelineno-2-36 href=#__codelineno-2-36></a>
<a id=__codelineno-2-37 name=__codelineno-2-37 href=#__codelineno-2-37></a>    <span class=k>elif</span> <span class=n>last_speaker</span> <span class=ow>is</span> <span class=n>executor</span><span class=p>:</span>
<a id=__codelineno-2-38 name=__codelineno-2-38 href=#__codelineno-2-38></a>        <span class=k>if</span> <span class=s2>&quot;exitcode: 1&quot;</span> <span class=ow>in</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=s2>&quot;content&quot;</span><span class=p>]:</span>
<a id=__codelineno-2-39 name=__codelineno-2-39 href=#__codelineno-2-39></a>            <span class=c1># If the last message indicates an error, let the engineer to improve the code</span>
<a id=__codelineno-2-40 name=__codelineno-2-40 href=#__codelineno-2-40></a>            <span class=k>return</span> <span class=n>engineer</span>
<a id=__codelineno-2-41 name=__codelineno-2-41 href=#__codelineno-2-41></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-2-42 name=__codelineno-2-42 href=#__codelineno-2-42></a>            <span class=c1># Otherwise, let the scientist to speak</span>
<a id=__codelineno-2-43 name=__codelineno-2-43 href=#__codelineno-2-43></a>            <span class=k>return</span> <span class=n>scientist</span>
<a id=__codelineno-2-44 name=__codelineno-2-44 href=#__codelineno-2-44></a>
<a id=__codelineno-2-45 name=__codelineno-2-45 href=#__codelineno-2-45></a>    <span class=k>elif</span> <span class=n>last_speaker</span> <span class=ow>is</span> <span class=n>scientist</span><span class=p>:</span>
<a id=__codelineno-2-46 name=__codelineno-2-46 href=#__codelineno-2-46></a>        <span class=c1># Always let the user to speak after the scientist</span>
<a id=__codelineno-2-47 name=__codelineno-2-47 href=#__codelineno-2-47></a>        <span class=k>return</span> <span class=n>user_proxy</span>
<a id=__codelineno-2-48 name=__codelineno-2-48 href=#__codelineno-2-48></a>
<a id=__codelineno-2-49 name=__codelineno-2-49 href=#__codelineno-2-49></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-2-50 name=__codelineno-2-50 href=#__codelineno-2-50></a>        <span class=k>return</span> <span class=s2>&quot;random&quot;</span>
</code></pre></div> <h4 id=create-groupchat-and-run>Create GroupChat and run<a class=headerlink href=#create-groupchat-and-run title="Permanent link">#</a></h4> <p>Make sure to assign the speaker selection function to the GroupChat.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>groupchat</span> <span class=o>=</span> <span class=n>GroupChat</span><span class=p>(</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>agents</span><span class=o>=</span><span class=p>[</span><span class=n>user_proxy</span><span class=p>,</span> <span class=n>engineer</span><span class=p>,</span> <span class=n>scientist</span><span class=p>,</span> <span class=n>planner</span><span class=p>,</span> <span class=n>executor</span><span class=p>],</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>messages</span><span class=o>=</span><span class=p>[],</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>max_round</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=c1># Here we specify our custom speaker selection function</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=n>speaker_selection_method</span><span class=o>=</span><span class=n>custom_speaker_selection_func</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=p>)</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=n>manager</span> <span class=o>=</span> <span class=n>GroupChatManager</span><span class=p>(</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=n>groupchat</span><span class=o>=</span><span class=n>groupchat</span><span class=p>,</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>config_list</span><span class=p>)</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=n>user_proxy</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>    <span class=n>manager</span><span class=p>,</span>
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>    <span class=n>message</span><span class=o>=</span><span class=s2>&quot;Find a latest paper about gpt-4 on arxiv and find its potential applications in software.&quot;</span>
<a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=p>)</span>
</code></pre></div> <p>In the output we can see that: - It transitioned straight to the Planner - After receiving approval from us it transitioned to the Engineer - After the Engineer it finds Python code goes to the executor to execute the code - The code ran successfully so it transitioned to the Scientist - After the Scientist it returned to us and we ended the chat</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=go>Admin (to chat_manager):</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=go>Find a latest paper about gpt-4 on arxiv and find its potential applications in software.</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=go>Planner (to chat_manager):</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=go>**Initial Plan:**</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=go>1. **Scientist&#39;s Task: Literature Review**</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=go>   - The scientist will conduct a comprehensive literature review to find the latest paper about GPT-4 on arXiv. This involves using search queries related to GPT-4 and filtering results by the most recent publications.</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=go>2. **Scientist&#39;s Task: Analysis of the Paper**</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=go>   - Once the latest paper is identified, the scientist will read through the paper to understand its contents, focusing on the methodology, results, and discussions about potential applications in software.</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=go>3. **Scientist&#39;s Task: Identifying Potential Applications**</span>
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=go>   - The scientist will then brainstorm and list potential applications of GPT-4 in software, based on the findings from the paper. This may include applications in natural language processing, code generation, chatbots, and more.</span>
<a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>
<a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=go>4. **Engineer&#39;s Task: Technical Feasibility Assessment**</span>
<a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a><span class=go>   - The engineer will review the list of potential applications provided by the scientist and assess the technical feasibility of each application. This involves considering the current state of software technology, the capabilities of GPT-4, and the practicality of integrating GPT-4 into existing systems.</span>
<a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>
<a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=go>5. **Engineer&#39;s Task: Prototype Development Plan**</span>
<a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=go>   - For applications deemed technically feasible, the engineer will draft a plan for developing a prototype that demonstrates the use of GPT-4 in a software application. This plan will outline the required resources, estimated timeline, and the steps for implementation.</span>
<a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a>
<a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a><span class=go>6. **Joint Task: Finalizing the Plan**</span>
<a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a><span class=go>   - The scientist and engineer will collaborate to finalize the plan, ensuring that it is scientifically sound and technically viable. They will prepare a document detailing the plan for potential applications and the prototype development.</span>
<a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a>
<a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a><span class=go>7. **Presentation to Admin**</span>
<a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a><span class=go>   - The finalized plan will be presented to the admin for approval. The admin will review the plan and provide feedback.</span>
<a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a>
<a id=__codelineno-4-31 name=__codelineno-4-31 href=#__codelineno-4-31></a><span class=go>8. **Revisions Based on Feedback**</span>
<a id=__codelineno-4-32 name=__codelineno-4-32 href=#__codelineno-4-32></a><span class=go>   - Based on the admin&#39;s feedback, the scientist and engineer will make necessary revisions to the plan. This iterative process will continue until the admin approves the plan.</span>
<a id=__codelineno-4-33 name=__codelineno-4-33 href=#__codelineno-4-33></a>
<a id=__codelineno-4-34 name=__codelineno-4-34 href=#__codelineno-4-34></a><span class=go>**Awaiting Admin&#39;s Feedback:** Please review the initial plan and provide feedback on any adjustments or additional details you would like to see.</span>
<a id=__codelineno-4-35 name=__codelineno-4-35 href=#__codelineno-4-35></a>
<a id=__codelineno-4-36 name=__codelineno-4-36 href=#__codelineno-4-36></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-4-37 name=__codelineno-4-37 href=#__codelineno-4-37></a><span class=go>Admin (to chat_manager):</span>
<a id=__codelineno-4-38 name=__codelineno-4-38 href=#__codelineno-4-38></a>
<a id=__codelineno-4-39 name=__codelineno-4-39 href=#__codelineno-4-39></a><span class=go>Approve</span>
<a id=__codelineno-4-40 name=__codelineno-4-40 href=#__codelineno-4-40></a>
<a id=__codelineno-4-41 name=__codelineno-4-41 href=#__codelineno-4-41></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-4-42 name=__codelineno-4-42 href=#__codelineno-4-42></a><span class=go>Engineer (to chat_manager):</span>
<a id=__codelineno-4-43 name=__codelineno-4-43 href=#__codelineno-4-43></a>
<a id=__codelineno-4-44 name=__codelineno-4-44 href=#__codelineno-4-44></a><span class=go>Since the plan has been approved, I will now proceed with the first step, which is to find the latest paper about GPT-4 on arXiv. To do this, I will write a Python script that uses the arXiv API to search for papers related to GPT-4 and filter them by the most recent publications.</span>
<a id=__codelineno-4-45 name=__codelineno-4-45 href=#__codelineno-4-45></a>
<a id=__codelineno-4-46 name=__codelineno-4-46 href=#__codelineno-4-46></a><span class=go>Here is the Python script that accomplishes this task:</span>
<a id=__codelineno-4-47 name=__codelineno-4-47 href=#__codelineno-4-47></a>
<a id=__codelineno-4-48 name=__codelineno-4-48 href=#__codelineno-4-48></a><span class=go>&#39;&#39;&#39;python</span>
<a id=__codelineno-4-49 name=__codelineno-4-49 href=#__codelineno-4-49></a><span class=go>import requests</span>
<a id=__codelineno-4-50 name=__codelineno-4-50 href=#__codelineno-4-50></a><span class=go>from datetime import datetime</span>
<a id=__codelineno-4-51 name=__codelineno-4-51 href=#__codelineno-4-51></a>
<a id=__codelineno-4-52 name=__codelineno-4-52 href=#__codelineno-4-52></a><span class=gp># </span>Define<span class=w> </span>the<span class=w> </span>URL<span class=w> </span><span class=k>for</span><span class=w> </span>the<span class=w> </span>arXiv<span class=w> </span>API
<a id=__codelineno-4-53 name=__codelineno-4-53 href=#__codelineno-4-53></a><span class=go>ARXIV_API_URL = &quot;http://export.arxiv.org/api/query&quot;</span>
<a id=__codelineno-4-54 name=__codelineno-4-54 href=#__codelineno-4-54></a>
<a id=__codelineno-4-55 name=__codelineno-4-55 href=#__codelineno-4-55></a><span class=gp># </span>Define<span class=w> </span>the<span class=w> </span>search<span class=w> </span>parameters
<a id=__codelineno-4-56 name=__codelineno-4-56 href=#__codelineno-4-56></a><span class=go>search_query = &quot;all:gpt-4&quot;</span>
<a id=__codelineno-4-57 name=__codelineno-4-57 href=#__codelineno-4-57></a><span class=go>start = 0</span>
<a id=__codelineno-4-58 name=__codelineno-4-58 href=#__codelineno-4-58></a><span class=go>max_results = 1</span>
<a id=__codelineno-4-59 name=__codelineno-4-59 href=#__codelineno-4-59></a><span class=go>sort_by = &quot;submittedDate&quot;</span>
<a id=__codelineno-4-60 name=__codelineno-4-60 href=#__codelineno-4-60></a><span class=go>sort_order = &quot;descending&quot;</span>
<a id=__codelineno-4-61 name=__codelineno-4-61 href=#__codelineno-4-61></a>
<a id=__codelineno-4-62 name=__codelineno-4-62 href=#__codelineno-4-62></a><span class=gp># </span>Construct<span class=w> </span>the<span class=w> </span>query
<a id=__codelineno-4-63 name=__codelineno-4-63 href=#__codelineno-4-63></a><span class=go>query_params = {</span>
<a id=__codelineno-4-64 name=__codelineno-4-64 href=#__codelineno-4-64></a><span class=go>    &quot;search_query&quot;: search_query,</span>
<a id=__codelineno-4-65 name=__codelineno-4-65 href=#__codelineno-4-65></a><span class=go>    &quot;start&quot;: start,</span>
<a id=__codelineno-4-66 name=__codelineno-4-66 href=#__codelineno-4-66></a><span class=go>    &quot;max_results&quot;: max_results,</span>
<a id=__codelineno-4-67 name=__codelineno-4-67 href=#__codelineno-4-67></a><span class=go>    &quot;sortBy&quot;: sort_by,</span>
<a id=__codelineno-4-68 name=__codelineno-4-68 href=#__codelineno-4-68></a><span class=go>    &quot;sortOrder&quot;: sort_order</span>
<a id=__codelineno-4-69 name=__codelineno-4-69 href=#__codelineno-4-69></a><span class=go>}</span>
<a id=__codelineno-4-70 name=__codelineno-4-70 href=#__codelineno-4-70></a>
<a id=__codelineno-4-71 name=__codelineno-4-71 href=#__codelineno-4-71></a><span class=gp># </span>Send<span class=w> </span>the<span class=w> </span>request<span class=w> </span>to<span class=w> </span>the<span class=w> </span>arXiv<span class=w> </span>API
<a id=__codelineno-4-72 name=__codelineno-4-72 href=#__codelineno-4-72></a><span class=go>response = requests.get(ARXIV_API_URL, params=query_params)</span>
<a id=__codelineno-4-73 name=__codelineno-4-73 href=#__codelineno-4-73></a>
<a id=__codelineno-4-74 name=__codelineno-4-74 href=#__codelineno-4-74></a><span class=gp># </span>Check<span class=w> </span><span class=k>if</span><span class=w> </span>the<span class=w> </span>request<span class=w> </span>was<span class=w> </span>successful
<a id=__codelineno-4-75 name=__codelineno-4-75 href=#__codelineno-4-75></a><span class=go>if response.status_code == 200:</span>
<a id=__codelineno-4-76 name=__codelineno-4-76 href=#__codelineno-4-76></a><span class=gp>    # </span>Parse<span class=w> </span>the<span class=w> </span>response
<a id=__codelineno-4-77 name=__codelineno-4-77 href=#__codelineno-4-77></a><span class=go>    feed = response.text</span>
<a id=__codelineno-4-78 name=__codelineno-4-78 href=#__codelineno-4-78></a><span class=gp>    # </span>Find<span class=w> </span>the<span class=w> </span>entry<span class=w> </span>element,<span class=w> </span>which<span class=w> </span>contains<span class=w> </span>the<span class=w> </span>paper<span class=w> </span>information
<a id=__codelineno-4-79 name=__codelineno-4-79 href=#__codelineno-4-79></a><span class=go>    start_entry = feed.find(&#39;&lt;entry&gt;&#39;)</span>
<a id=__codelineno-4-80 name=__codelineno-4-80 href=#__codelineno-4-80></a><span class=go>    end_entry = feed.find(&#39;&lt;/entry&gt;&#39;)</span>
<a id=__codelineno-4-81 name=__codelineno-4-81 href=#__codelineno-4-81></a><span class=go>    entry = feed[start_entry:end_entry]</span>
<a id=__codelineno-4-82 name=__codelineno-4-82 href=#__codelineno-4-82></a>
<a id=__codelineno-4-83 name=__codelineno-4-83 href=#__codelineno-4-83></a><span class=gp>    # </span>Extract<span class=w> </span>the<span class=w> </span>title
<a id=__codelineno-4-84 name=__codelineno-4-84 href=#__codelineno-4-84></a><span class=go>    start_title = entry.find(&#39;&lt;title&gt;&#39;) + 7</span>
<a id=__codelineno-4-85 name=__codelineno-4-85 href=#__codelineno-4-85></a><span class=go>    end_title = entry.find(&#39;&lt;/title&gt;&#39;)</span>
<a id=__codelineno-4-86 name=__codelineno-4-86 href=#__codelineno-4-86></a><span class=go>    title = entry[start_title:end_title].strip()</span>
<a id=__codelineno-4-87 name=__codelineno-4-87 href=#__codelineno-4-87></a>
<a id=__codelineno-4-88 name=__codelineno-4-88 href=#__codelineno-4-88></a><span class=gp>    # </span>Extract<span class=w> </span>the<span class=w> </span>published<span class=w> </span>date
<a id=__codelineno-4-89 name=__codelineno-4-89 href=#__codelineno-4-89></a><span class=go>    start_published = entry.find(&#39;&lt;published&gt;&#39;) + 12</span>
<a id=__codelineno-4-90 name=__codelineno-4-90 href=#__codelineno-4-90></a><span class=go>    end_published = entry.find(&#39;&lt;/published&gt;&#39;)</span>
<a id=__codelineno-4-91 name=__codelineno-4-91 href=#__codelineno-4-91></a><span class=go>    published = entry[start_published:end_published].strip()</span>
<a id=__codelineno-4-92 name=__codelineno-4-92 href=#__codelineno-4-92></a>
<a id=__codelineno-4-93 name=__codelineno-4-93 href=#__codelineno-4-93></a><span class=gp>    # </span>Extract<span class=w> </span>the<span class=w> </span>summary
<a id=__codelineno-4-94 name=__codelineno-4-94 href=#__codelineno-4-94></a><span class=go>    start_summary = entry.find(&#39;&lt;summary&gt;&#39;) + 9</span>
<a id=__codelineno-4-95 name=__codelineno-4-95 href=#__codelineno-4-95></a><span class=go>    end_summary = entry.find(&#39;&lt;/summary&gt;&#39;)</span>
<a id=__codelineno-4-96 name=__codelineno-4-96 href=#__codelineno-4-96></a><span class=go>    summary = entry[start_summary:end_summary].strip()</span>
<a id=__codelineno-4-97 name=__codelineno-4-97 href=#__codelineno-4-97></a>
<a id=__codelineno-4-98 name=__codelineno-4-98 href=#__codelineno-4-98></a><span class=gp>    # </span>Extract<span class=w> </span>the<span class=w> </span>authors
<a id=__codelineno-4-99 name=__codelineno-4-99 href=#__codelineno-4-99></a><span class=go>    authors = []</span>
<a id=__codelineno-4-100 name=__codelineno-4-100 href=#__codelineno-4-100></a><span class=go>    start_author = entry.find(&#39;&lt;author&gt;&#39;)</span>
<a id=__codelineno-4-101 name=__codelineno-4-101 href=#__codelineno-4-101></a><span class=go>    end_author = entry.find(&#39;&lt;/author&gt;&#39;)</span>
<a id=__codelineno-4-102 name=__codelineno-4-102 href=#__codelineno-4-102></a><span class=go>    while start_author != -1 and end_author != -1:</span>
<a id=__codelineno-4-103 name=__codelineno-4-103 href=#__codelineno-4-103></a><span class=go>        start_name = entry.find(&#39;&lt;name&gt;&#39;, start_author) + 6</span>
<a id=__codelineno-4-104 name=__codelineno-4-104 href=#__codelineno-4-104></a><span class=go>        end_name = entry.find(&#39;&lt;/name&gt;&#39;, start_author)</span>
<a id=__codelineno-4-105 name=__codelineno-4-105 href=#__codelineno-4-105></a><span class=go>        author_name = entry[start_name:end_name].strip()</span>
<a id=__codelineno-4-106 name=__codelineno-4-106 href=#__codelineno-4-106></a><span class=go>        authors.append(author_name)</span>
<a id=__codelineno-4-107 name=__codelineno-4-107 href=#__codelineno-4-107></a><span class=go>        start_author = entry.find(&#39;&lt;author&gt;&#39;, end_author)</span>
<a id=__codelineno-4-108 name=__codelineno-4-108 href=#__codelineno-4-108></a><span class=go>        end_author = entry.find(&#39;&lt;/author&gt;&#39;, start_author)</span>
<a id=__codelineno-4-109 name=__codelineno-4-109 href=#__codelineno-4-109></a>
<a id=__codelineno-4-110 name=__codelineno-4-110 href=#__codelineno-4-110></a><span class=gp>    # </span>Print<span class=w> </span>the<span class=w> </span>results
<a id=__codelineno-4-111 name=__codelineno-4-111 href=#__codelineno-4-111></a><span class=go>    print(f&quot;Title: {title}&quot;)</span>
<a id=__codelineno-4-112 name=__codelineno-4-112 href=#__codelineno-4-112></a><span class=go>    print(f&quot;Published Date: {published}&quot;)</span>
<a id=__codelineno-4-113 name=__codelineno-4-113 href=#__codelineno-4-113></a><span class=go>    print(f&quot;Authors: {&#39;, &#39;.join(authors)}&quot;)</span>
<a id=__codelineno-4-114 name=__codelineno-4-114 href=#__codelineno-4-114></a><span class=go>    print(f&quot;Summary: {summary}&quot;)</span>
<a id=__codelineno-4-115 name=__codelineno-4-115 href=#__codelineno-4-115></a><span class=go>else:</span>
<a id=__codelineno-4-116 name=__codelineno-4-116 href=#__codelineno-4-116></a><span class=go>    print(&quot;Failed to retrieve data from arXiv API.&quot;)</span>
<a id=__codelineno-4-117 name=__codelineno-4-117 href=#__codelineno-4-117></a><span class=go>&#39;&#39;&#39;</span>
<a id=__codelineno-4-118 name=__codelineno-4-118 href=#__codelineno-4-118></a>
<a id=__codelineno-4-119 name=__codelineno-4-119 href=#__codelineno-4-119></a><span class=go>This script will output the title, published date, authors, and summary of the most recent paper related to GPT-4 on arXiv. Please note that the actual content of the paper and its potential applications in software will need to be analyzed manually after retrieving the paper information.</span>
<a id=__codelineno-4-120 name=__codelineno-4-120 href=#__codelineno-4-120></a>
<a id=__codelineno-4-121 name=__codelineno-4-121 href=#__codelineno-4-121></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-4-122 name=__codelineno-4-122 href=#__codelineno-4-122></a>
<a id=__codelineno-4-123 name=__codelineno-4-123 href=#__codelineno-4-123></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; EXECUTING CODE BLOCK 0 (inferred language is python)...</span>
<a id=__codelineno-4-124 name=__codelineno-4-124 href=#__codelineno-4-124></a><span class=go>Executor (to chat_manager):</span>
<a id=__codelineno-4-125 name=__codelineno-4-125 href=#__codelineno-4-125></a>
<a id=__codelineno-4-126 name=__codelineno-4-126 href=#__codelineno-4-126></a><span class=go>exitcode: 0 (execution succeeded)</span>
<a id=__codelineno-4-127 name=__codelineno-4-127 href=#__codelineno-4-127></a><span class=go>Code output:</span>
<a id=__codelineno-4-128 name=__codelineno-4-128 href=#__codelineno-4-128></a><span class=go>Title: A Data-Centric Approach To Generate Faithful and High Quality Patient</span>
<a id=__codelineno-4-129 name=__codelineno-4-129 href=#__codelineno-4-129></a><span class=go>  Summaries with Large Language Models</span>
<a id=__codelineno-4-130 name=__codelineno-4-130 href=#__codelineno-4-130></a><span class=go>Published Date: 024-02-23T16:32:28Z</span>
<a id=__codelineno-4-131 name=__codelineno-4-131 href=#__codelineno-4-131></a><span class=go>Authors: Stefan Hegselmann, Shannon Zejiang Shen, Florian Gierse, Monica Agrawal, David Sontag, Xiaoyi Jiang</span>
<a id=__codelineno-4-132 name=__codelineno-4-132 href=#__codelineno-4-132></a><span class=go>Summary: Patients often face difficulties in understanding their hospitalizations,</span>
<a id=__codelineno-4-133 name=__codelineno-4-133 href=#__codelineno-4-133></a><span class=go>while healthcare workers have limited resources to provide explanations. In</span>
<a id=__codelineno-4-134 name=__codelineno-4-134 href=#__codelineno-4-134></a><span class=go>this work, we investigate the potential of large language models to generate</span>
<a id=__codelineno-4-135 name=__codelineno-4-135 href=#__codelineno-4-135></a><span class=go>patient summaries based on doctors&#39; notes and study the effect of training data</span>
<a id=__codelineno-4-136 name=__codelineno-4-136 href=#__codelineno-4-136></a><span class=go>on the faithfulness and quality of the generated summaries. To this end, we</span>
<a id=__codelineno-4-137 name=__codelineno-4-137 href=#__codelineno-4-137></a><span class=go>develop a rigorous labeling protocol for hallucinations, and have two medical</span>
<a id=__codelineno-4-138 name=__codelineno-4-138 href=#__codelineno-4-138></a><span class=go>experts annotate 100 real-world summaries and 100 generated summaries. We show</span>
<a id=__codelineno-4-139 name=__codelineno-4-139 href=#__codelineno-4-139></a><span class=go>that fine-tuning on hallucination-free data effectively reduces hallucinations</span>
<a id=__codelineno-4-140 name=__codelineno-4-140 href=#__codelineno-4-140></a><span class=go>from 2.60 to 1.55 per summary for Llama 2, while preserving relevant</span>
<a id=__codelineno-4-141 name=__codelineno-4-141 href=#__codelineno-4-141></a><span class=go>information. Although the effect is still present, it is much smaller for GPT-4</span>
<a id=__codelineno-4-142 name=__codelineno-4-142 href=#__codelineno-4-142></a><span class=go>when prompted with five examples (0.70 to 0.40). We also conduct a qualitative</span>
<a id=__codelineno-4-143 name=__codelineno-4-143 href=#__codelineno-4-143></a><span class=go>evaluation using hallucination-free and improved training data. GPT-4 shows</span>
<a id=__codelineno-4-144 name=__codelineno-4-144 href=#__codelineno-4-144></a><span class=go>very good results even in the zero-shot setting. We find that common</span>
<a id=__codelineno-4-145 name=__codelineno-4-145 href=#__codelineno-4-145></a><span class=go>quantitative metrics do not correlate well with faithfulness and quality.</span>
<a id=__codelineno-4-146 name=__codelineno-4-146 href=#__codelineno-4-146></a><span class=go>Finally, we test GPT-4 for automatic hallucination detection, which yields</span>
<a id=__codelineno-4-147 name=__codelineno-4-147 href=#__codelineno-4-147></a><span class=go>promising results.</span>
<a id=__codelineno-4-148 name=__codelineno-4-148 href=#__codelineno-4-148></a>
<a id=__codelineno-4-149 name=__codelineno-4-149 href=#__codelineno-4-149></a>
<a id=__codelineno-4-150 name=__codelineno-4-150 href=#__codelineno-4-150></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-4-151 name=__codelineno-4-151 href=#__codelineno-4-151></a><span class=go>Scientist (to chat_manager):</span>
<a id=__codelineno-4-152 name=__codelineno-4-152 href=#__codelineno-4-152></a>
<a id=__codelineno-4-153 name=__codelineno-4-153 href=#__codelineno-4-153></a><span class=go>Based on the abstract provided, the paper titled &quot;A Data-Centric Approach To Generate Faithful and High Quality Patient Summaries with Large Language Models&quot; explores the use of large language models, including GPT-4, to generate patient summaries from doctors&#39; notes. The study focuses on the impact of training data on the faithfulness and quality of the generated summaries and also investigates the potential of GPT-4 for automatic hallucination detection.</span>
<a id=__codelineno-4-154 name=__codelineno-4-154 href=#__codelineno-4-154></a>
<a id=__codelineno-4-155 name=__codelineno-4-155 href=#__codelineno-4-155></a><span class=go>**Potential Applications in Software:**</span>
<a id=__codelineno-4-156 name=__codelineno-4-156 href=#__codelineno-4-156></a>
<a id=__codelineno-4-157 name=__codelineno-4-157 href=#__codelineno-4-157></a><span class=go>1. **Healthcare Documentation Automation:**</span>
<a id=__codelineno-4-158 name=__codelineno-4-158 href=#__codelineno-4-158></a><span class=go>   - GPT-4 could be used to develop software that assists healthcare professionals in creating accurate and comprehensive patient summaries by automatically processing doctors&#39; notes and other medical records.</span>
<a id=__codelineno-4-159 name=__codelineno-4-159 href=#__codelineno-4-159></a>
<a id=__codelineno-4-160 name=__codelineno-4-160 href=#__codelineno-4-160></a><span class=go>2. **Clinical Decision Support Systems:**</span>
<a id=__codelineno-4-161 name=__codelineno-4-161 href=#__codelineno-4-161></a><span class=go>   - Integrating GPT-4 into clinical decision support systems could provide healthcare workers with insights and suggestions based on a patient&#39;s medical history, potentially improving diagnosis and treatment planning.</span>
<a id=__codelineno-4-162 name=__codelineno-4-162 href=#__codelineno-4-162></a>
<a id=__codelineno-4-163 name=__codelineno-4-163 href=#__codelineno-4-163></a><span class=go>3. **Patient Education and Communication:**</span>
<a id=__codelineno-4-164 name=__codelineno-4-164 href=#__codelineno-4-164></a><span class=go>   - Software applications could leverage GPT-4 to translate complex medical information into patient-friendly summaries, enhancing patient understanding of their health conditions and treatments.</span>
<a id=__codelineno-4-165 name=__codelineno-4-165 href=#__codelineno-4-165></a>
<a id=__codelineno-4-166 name=__codelineno-4-166 href=#__codelineno-4-166></a><span class=go>4. **Medical Training and Simulation:**</span>
<a id=__codelineno-4-167 name=__codelineno-4-167 href=#__codelineno-4-167></a><span class=go>   - GPT-4 could be used to create realistic medical scenarios for training medical students and professionals, simulating patient interactions and generating case studies.</span>
<a id=__codelineno-4-168 name=__codelineno-4-168 href=#__codelineno-4-168></a>
<a id=__codelineno-4-169 name=__codelineno-4-169 href=#__codelineno-4-169></a><span class=go>5. **Data Quality Assurance:**</span>
<a id=__codelineno-4-170 name=__codelineno-4-170 href=#__codelineno-4-170></a><span class=go>   - The paper suggests that GPT-4 can be used for automatic hallucination detection, which refers to the identification of inaccuracies or fabrications in generated text. This could be applied to software that ensures the quality and reliability of medical documentation.</span>
<a id=__codelineno-4-171 name=__codelineno-4-171 href=#__codelineno-4-171></a>
<a id=__codelineno-4-172 name=__codelineno-4-172 href=#__codelineno-4-172></a><span class=go>6. **Research and Development:**</span>
<a id=__codelineno-4-173 name=__codelineno-4-173 href=#__codelineno-4-173></a><span class=go>   - GPT-4 could assist researchers in summarizing and synthesizing large volumes of medical literature, aiding in the discovery of new insights and the development of novel treatments.</span>
<a id=__codelineno-4-174 name=__codelineno-4-174 href=#__codelineno-4-174></a>
<a id=__codelineno-4-175 name=__codelineno-4-175 href=#__codelineno-4-175></a><span class=go>7. **Personalized Health Monitoring:**</span>
<a id=__codelineno-4-176 name=__codelineno-4-176 href=#__codelineno-4-176></a><span class=go>   - Software applications could use GPT-4 to provide personalized health monitoring and advice by analyzing user input, such as symptoms or lifestyle factors, and generating tailored health recommendations.</span>
<a id=__codelineno-4-177 name=__codelineno-4-177 href=#__codelineno-4-177></a>
<a id=__codelineno-4-178 name=__codelineno-4-178 href=#__codelineno-4-178></a><span class=go>These potential applications highlight the versatility of GPT-4 in the realm of healthcare software, offering opportunities to enhance patient care, improve healthcare workflows, and support medical education and research.</span>
<a id=__codelineno-4-179 name=__codelineno-4-179 href=#__codelineno-4-179></a>
<a id=__codelineno-4-180 name=__codelineno-4-180 href=#__codelineno-4-180></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-4-181 name=__codelineno-4-181 href=#__codelineno-4-181></a><span class=go>Admin (to chat_manager):</span>
<a id=__codelineno-4-182 name=__codelineno-4-182 href=#__codelineno-4-182></a>
<a id=__codelineno-4-183 name=__codelineno-4-183 href=#__codelineno-4-183></a><span class=go>TERMINATE</span>
<a id=__codelineno-4-184 name=__codelineno-4-184 href=#__codelineno-4-184></a>
<a id=__codelineno-4-185 name=__codelineno-4-185 href=#__codelineno-4-185></a><span class=go>--------------------------------------------------------------------------------</span>
</code></pre></div> <h2 id=2-specified-flows-using-graphs>2. Specified flows using graphs<a class=headerlink href=#2-specified-flows-using-graphs title="Permanent link">#</a></h2> <p>Using a graph, you can specify the valid transitions using the automatic speaker selection method for a GroupChat (<code>speaker_selection_method="auto"</code>, which is the default).</p> <p>A graph is simply a dictionary specifying, for each agent, which agents they can transition to.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1># agent_a can transition to any other agent, however, those agents can only transition to agent_a</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=n>transition_graph</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>    <span class=n>agent_a</span><span class=p>:</span> <span class=p>[</span><span class=n>agent_b</span><span class=p>,</span> <span class=n>agent_c</span><span class=p>],</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>    <span class=n>agent_b</span><span class=p>:</span> <span class=p>[</span><span class=n>agent_a</span><span class=p>],</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>    <span class=n>agent_c</span><span class=p>:</span> <span class=p>[</span><span class=n>agent_a</span><span class=p>],</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=p>}</span>
</code></pre></div> <p>At each turn, the LLM will be presented with the valid agents based on the graph, limiting the transitions to those you've specified.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>There are a number of interesting transition paths you can create with a graph, see the <a href=../../../use-cases/notebooks/notebooks/agentchat_groupchat_finite_state_machine>Finite State Machine documentation</a> to explore them.</p> </div> <p>In this walk-through we're going to create a game with three teams, each team has three players (with the first as a team leader). Each player has a number of chocolates that no other player knows about, even the team leader.</p> <p>The goal of the game is to tally up all the chocolates across the three teams, with each team leader responsible for tallying up their team's chocolate count.</p> <p>To control the flow of the conversation, team leaders can transition to each other and transitions within a team can only be with their team members.</p> <p>Here's what that should look like with our three teams, A, B, and C. Agents labelled zero will be the team leaders.</p> <p><img alt="Swarm Enhanced Demonstration" src=../../assets/group-chat-fsm.png></p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1># Imports and LLM Configuration</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>ConversableAgent</span><span class=p>,</span> <span class=n>GroupChat</span><span class=p>,</span> <span class=n>GroupChatManager</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=kn>import</span><span class=w> </span><span class=nn>random</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=c1># Put your key in the OPENAI_API_KEY environment variable</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=n>config_list</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;api_type&quot;</span><span class=p>:</span> <span class=s2>&quot;openai&quot;</span><span class=p>,</span> <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o&quot;</span><span class=p>}</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=c1># Helper function to get an agent from our working list by name</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=k>def</span><span class=w> </span><span class=nf>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ConversableAgent</span><span class=p>:</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>    <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=n>agents</span><span class=p>:</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>        <span class=k>if</span> <span class=n>agent</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>name</span><span class=p>:</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>            <span class=k>return</span> <span class=n>agent</span>
</code></pre></div> Here we dictionaries for our agents, the graph, and the number of chocolates for each agent <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># Create an empty directed graph</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=n>agents</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=n>speaker_transitions_dict</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=n>secret_values</span> <span class=o>=</span> <span class=p>{}</span>
</code></pre></div> This looks more complicated than it is, we're creating each agent for the three teams, giving them a random number of chocolates and explicit instructions on what they need to do.</p> <p>For each team we create the allowable transitions for inside that team, which are just with each other.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1># Outer loop for prefixes &#39;A&#39;, &#39;B&#39;, &#39;C&#39;</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=k>for</span> <span class=n>prefix</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=s2>&quot;B&quot;</span><span class=p>,</span> <span class=s2>&quot;C&quot;</span><span class=p>]:</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>    <span class=c1># Add 3 nodes with each prefix to the graph using a for loop</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>        <span class=n>node_id</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>prefix</span><span class=si>}{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>        <span class=n>secret_value</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>  <span class=c1># Generate a random secret value</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>        <span class=n>secret_values</span><span class=p>[</span><span class=n>node_id</span><span class=p>]</span> <span class=o>=</span> <span class=n>secret_value</span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>        <span class=c1># Create an ConversableAgent for each node (assuming ConversableAgent is a defined class)</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>        <span class=n>agents</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>            <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>                <span class=n>name</span><span class=o>=</span><span class=n>node_id</span><span class=p>,</span>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>                <span class=n>system_message</span><span class=o>=</span><span class=sa>f</span><span class=s2>&quot;&quot;&quot;Your name is </span><span class=si>{</span><span class=n>node_id</span><span class=si>}</span><span class=s2>.</span>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=s2>                    Do not respond as the speaker named in the NEXT tag if your name is not in the NEXT tag. Instead, suggest a relevant team leader to handle the mis-tag, with the NEXT: tag.</span>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=s2>                    You have </span><span class=si>{</span><span class=n>secret_value</span><span class=si>}</span><span class=s2> chocolates.</span>
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a>
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=s2>                    The list of players are [A0, A1, A2, B0, B1, B2, C0, C1, C2].</span>
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=s2>                    Your first character of your name is your team, and your second character denotes that you are a team leader if it is 0.</span>
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=s2>                    CONSTRAINTS: Team members can only talk within the team, whilst team leader can talk to team leaders of other teams but not team members of other teams.</span>
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a><span class=s2>                    You can use NEXT: to suggest the next speaker. You have to respect the CONSTRAINTS, and can only suggest one player from the list of players, i.e., do not suggest A3 because A3 is not from the list of players.</span>
<a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a><span class=s2>                    Team leaders must make sure that they know the sum of the individual chocolate count of all three players in their own team, i.e., A0 is responsible for team A only.</span>
<a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a>
<a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a><span class=s2>                    Keep track of the player&#39;s tally using a JSON format so that others can check the total tally. Use</span>
<a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a><span class=s2>                    A0:?, A1:?, A2:?,</span>
<a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a><span class=s2>                    B0:?, B1:?, B2:?,</span>
<a id=__codelineno-8-29 name=__codelineno-8-29 href=#__codelineno-8-29></a><span class=s2>                    C0:?, C1:?, C2:?</span>
<a id=__codelineno-8-30 name=__codelineno-8-30 href=#__codelineno-8-30></a>
<a id=__codelineno-8-31 name=__codelineno-8-31 href=#__codelineno-8-31></a><span class=s2>                    If you are the team leader, you should aggregate your team&#39;s total chocolate count to cooperate.</span>
<a id=__codelineno-8-32 name=__codelineno-8-32 href=#__codelineno-8-32></a><span class=s2>                    Once the team leader know their team&#39;s tally, they can suggest another team leader for them to find their team tally, because we need all three team tallys to succeed.</span>
<a id=__codelineno-8-33 name=__codelineno-8-33 href=#__codelineno-8-33></a><span class=s2>                    Use NEXT: to suggest the next speaker, e.g., NEXT: A0.</span>
<a id=__codelineno-8-34 name=__codelineno-8-34 href=#__codelineno-8-34></a>
<a id=__codelineno-8-35 name=__codelineno-8-35 href=#__codelineno-8-35></a><span class=s2>                    Once we have the total tally from all nine players, sum up all three teams&#39; tally, then terminate the discussion using DONE!.</span>
<a id=__codelineno-8-36 name=__codelineno-8-36 href=#__codelineno-8-36></a><span class=s2>                    &quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-8-37 name=__codelineno-8-37 href=#__codelineno-8-37></a>                <span class=n>llm_config</span><span class=o>=</span><span class=n>config_list</span><span class=p>,</span>
<a id=__codelineno-8-38 name=__codelineno-8-38 href=#__codelineno-8-38></a>            <span class=p>)</span>
<a id=__codelineno-8-39 name=__codelineno-8-39 href=#__codelineno-8-39></a>        <span class=p>)</span>
<a id=__codelineno-8-40 name=__codelineno-8-40 href=#__codelineno-8-40></a>        <span class=n>speaker_transitions_dict</span><span class=p>[</span><span class=n>agents</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]]</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-8-41 name=__codelineno-8-41 href=#__codelineno-8-41></a>
<a id=__codelineno-8-42 name=__codelineno-8-42 href=#__codelineno-8-42></a>
<a id=__codelineno-8-43 name=__codelineno-8-43 href=#__codelineno-8-43></a>    <span class=c1># For each team, create the team&#39;s internal transitions (any agent to any agent in a team)</span>
<a id=__codelineno-8-44 name=__codelineno-8-44 href=#__codelineno-8-44></a>    <span class=k>for</span> <span class=n>source_node</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
<a id=__codelineno-8-45 name=__codelineno-8-45 href=#__codelineno-8-45></a>        <span class=n>source_id</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>prefix</span><span class=si>}{</span><span class=n>source_node</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-8-46 name=__codelineno-8-46 href=#__codelineno-8-46></a>        <span class=k>for</span> <span class=n>target_node</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
<a id=__codelineno-8-47 name=__codelineno-8-47 href=#__codelineno-8-47></a>            <span class=n>target_id</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>prefix</span><span class=si>}{</span><span class=n>target_node</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-8-48 name=__codelineno-8-48 href=#__codelineno-8-48></a>            <span class=k>if</span> <span class=n>source_node</span> <span class=o>!=</span> <span class=n>target_node</span><span class=p>:</span>  <span class=c1># To avoid self-loops</span>
<a id=__codelineno-8-49 name=__codelineno-8-49 href=#__codelineno-8-49></a>                <span class=n>speaker_transitions_dict</span><span class=p>[</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>source_id</span><span class=p>)]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
<a id=__codelineno-8-50 name=__codelineno-8-50 href=#__codelineno-8-50></a>                    <span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=n>target_id</span><span class=p>)</span>
<a id=__codelineno-8-51 name=__codelineno-8-51 href=#__codelineno-8-51></a>                <span class=p>)</span>
</code></pre></div> <p>Here we create the transitions between the three team leaders who can transition to any other team leader.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># Adding edges between teams</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>speaker_transitions_dict</span><span class=p>[</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=s2>&quot;A0&quot;</span><span class=p>)]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;B0&quot;</span><span class=p>))</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=n>speaker_transitions_dict</span><span class=p>[</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=s2>&quot;A0&quot;</span><span class=p>)]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;C0&quot;</span><span class=p>))</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=n>speaker_transitions_dict</span><span class=p>[</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=s2>&quot;B0&quot;</span><span class=p>)]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;A0&quot;</span><span class=p>))</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=n>speaker_transitions_dict</span><span class=p>[</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=s2>&quot;B0&quot;</span><span class=p>)]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;C0&quot;</span><span class=p>))</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=n>speaker_transitions_dict</span><span class=p>[</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=s2>&quot;C0&quot;</span><span class=p>)]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;A0&quot;</span><span class=p>))</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=n>speaker_transitions_dict</span><span class=p>[</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=s2>&quot;C0&quot;</span><span class=p>)]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>get_agent_by_name</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;B0&quot;</span><span class=p>))</span>
</code></pre></div> <h4 id=create-groupchat-and-run_1>Create GroupChat and run<a class=headerlink href=#create-groupchat-and-run_1 title="Permanent link">#</a></h4> <p>Here we set the graph to the GroupChat when creating it using the <code>allowed_or_disallowed_speaker_transitions</code> parameter. We also specify <code>speaker_transitions_type</code> to "allowed" to indicate the provided transitions are allowed (alternative is "disallowed"). <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>group_chat</span> <span class=o>=</span> <span class=n>GroupChat</span><span class=p>(</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>    <span class=n>agents</span><span class=o>=</span><span class=n>agents</span><span class=p>,</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=n>messages</span><span class=o>=</span><span class=p>[],</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=n>max_round</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=n>allowed_or_disallowed_speaker_transitions</span><span class=o>=</span><span class=n>speaker_transitions_dict</span><span class=p>,</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>    <span class=n>speaker_transitions_type</span><span class=o>=</span><span class=s2>&quot;allowed&quot;</span><span class=p>,</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=p>)</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=c1># The GroupChatManager will end the chat when DONE! is received, which agents can say when all counts are done</span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=n>manager</span> <span class=o>=</span> <span class=n>GroupChatManager</span><span class=p>(</span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>    <span class=n>groupchat</span><span class=o>=</span><span class=n>group_chat</span><span class=p>,</span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>config_list</span><span class=p>,</span>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>    <span class=n>code_execution_config</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>    <span class=n>is_termination_msg</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=s2>&quot;DONE!&quot;</span> <span class=ow>in</span> <span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>upper</span><span class=p>(),</span>
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=p>)</span>
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>
<a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a><span class=c1># Start the game from Team A&#39;s team leader.</span>
<a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a><span class=n>agents</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a>    <span class=n>manager</span><span class=p>,</span>
<a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>    <span class=n>message</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a><span class=s2>        There are 9 players in this game, split equally into Teams A, B, C. Therefore each team has 3 players, including the team leader.</span>
<a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a><span class=s2>        The task is to find out the sum of chocolate count from all nine players. I will now start with my team.</span>
<a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a><span class=s2>        NEXT: A1</span>
<a id=__codelineno-10-24 name=__codelineno-10-24 href=#__codelineno-10-24></a><span class=s2>        &quot;&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-10-25 name=__codelineno-10-25 href=#__codelineno-10-25></a><span class=p>)</span>
</code></pre></div></p> <p>Looking at the output, we can see there were 20 chocolates across all the teams and the agents worked through it methodically team by team. <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=go>A0 (to chat_manager):</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=go>There are 9 players in this game, split equally into Teams A, B, C. Therefore each team has 3 players, including the team leader.</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=go>The task is to find out the sum of chocolate count from all nine players. I will now start with my team.</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=go>NEXT: A1</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=go>Next speaker: A1</span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=go>A1 (to chat_manager):</span>
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>
<a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a><span class=go>I have 1 chocolate.</span>
<a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a><span class=go>Here is the current tally for Team A:</span>
<a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>
<a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=go>A0: ?, A1: 1, A2: ?</span>
<a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>
<a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a><span class=go>NEXT: A2</span>
<a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a>
<a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>
<a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a><span class=go>Next speaker: A2</span>
<a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>
<a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a>
<a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a><span class=go>A2 (to chat_manager):</span>
<a id=__codelineno-11-30 name=__codelineno-11-30 href=#__codelineno-11-30></a>
<a id=__codelineno-11-31 name=__codelineno-11-31 href=#__codelineno-11-31></a><span class=go>I have 2 chocolates.</span>
<a id=__codelineno-11-32 name=__codelineno-11-32 href=#__codelineno-11-32></a>
<a id=__codelineno-11-33 name=__codelineno-11-33 href=#__codelineno-11-33></a><span class=go>Here is the updated tally for Team A:</span>
<a id=__codelineno-11-34 name=__codelineno-11-34 href=#__codelineno-11-34></a>
<a id=__codelineno-11-35 name=__codelineno-11-35 href=#__codelineno-11-35></a><span class=go>A0: ?, A1: 1, A2: 2</span>
<a id=__codelineno-11-36 name=__codelineno-11-36 href=#__codelineno-11-36></a>
<a id=__codelineno-11-37 name=__codelineno-11-37 href=#__codelineno-11-37></a><span class=go>NEXT: A0</span>
<a id=__codelineno-11-38 name=__codelineno-11-38 href=#__codelineno-11-38></a>
<a id=__codelineno-11-39 name=__codelineno-11-39 href=#__codelineno-11-39></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-40 name=__codelineno-11-40 href=#__codelineno-11-40></a>
<a id=__codelineno-11-41 name=__codelineno-11-41 href=#__codelineno-11-41></a><span class=go>Next speaker: A0</span>
<a id=__codelineno-11-42 name=__codelineno-11-42 href=#__codelineno-11-42></a>
<a id=__codelineno-11-43 name=__codelineno-11-43 href=#__codelineno-11-43></a>
<a id=__codelineno-11-44 name=__codelineno-11-44 href=#__codelineno-11-44></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-45 name=__codelineno-11-45 href=#__codelineno-11-45></a><span class=go>A0 (to chat_manager):</span>
<a id=__codelineno-11-46 name=__codelineno-11-46 href=#__codelineno-11-46></a>
<a id=__codelineno-11-47 name=__codelineno-11-47 href=#__codelineno-11-47></a><span class=go>Thank you, Team A. Let&#39;s update the tally:</span>
<a id=__codelineno-11-48 name=__codelineno-11-48 href=#__codelineno-11-48></a>
<a id=__codelineno-11-49 name=__codelineno-11-49 href=#__codelineno-11-49></a><span class=go>A0: 4, A1: 1, A2: 2</span>
<a id=__codelineno-11-50 name=__codelineno-11-50 href=#__codelineno-11-50></a>
<a id=__codelineno-11-51 name=__codelineno-11-51 href=#__codelineno-11-51></a><span class=go>Team A&#39;s tally is 7 chocolates in total.</span>
<a id=__codelineno-11-52 name=__codelineno-11-52 href=#__codelineno-11-52></a>
<a id=__codelineno-11-53 name=__codelineno-11-53 href=#__codelineno-11-53></a><span class=go>I will now suggest the team leader of Team B to start determining their tally.</span>
<a id=__codelineno-11-54 name=__codelineno-11-54 href=#__codelineno-11-54></a>
<a id=__codelineno-11-55 name=__codelineno-11-55 href=#__codelineno-11-55></a><span class=go>NEXT: B0</span>
<a id=__codelineno-11-56 name=__codelineno-11-56 href=#__codelineno-11-56></a>
<a id=__codelineno-11-57 name=__codelineno-11-57 href=#__codelineno-11-57></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-58 name=__codelineno-11-58 href=#__codelineno-11-58></a>
<a id=__codelineno-11-59 name=__codelineno-11-59 href=#__codelineno-11-59></a><span class=go>Next speaker: B0</span>
<a id=__codelineno-11-60 name=__codelineno-11-60 href=#__codelineno-11-60></a>
<a id=__codelineno-11-61 name=__codelineno-11-61 href=#__codelineno-11-61></a>
<a id=__codelineno-11-62 name=__codelineno-11-62 href=#__codelineno-11-62></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-63 name=__codelineno-11-63 href=#__codelineno-11-63></a><span class=go>B0 (to chat_manager):</span>
<a id=__codelineno-11-64 name=__codelineno-11-64 href=#__codelineno-11-64></a>
<a id=__codelineno-11-65 name=__codelineno-11-65 href=#__codelineno-11-65></a><span class=go>I have 4 chocolates. Let me coordinate with Team B to find out the total tally.</span>
<a id=__codelineno-11-66 name=__codelineno-11-66 href=#__codelineno-11-66></a>
<a id=__codelineno-11-67 name=__codelineno-11-67 href=#__codelineno-11-67></a><span class=go>Here is the current tally for Team B:</span>
<a id=__codelineno-11-68 name=__codelineno-11-68 href=#__codelineno-11-68></a>
<a id=__codelineno-11-69 name=__codelineno-11-69 href=#__codelineno-11-69></a><span class=go>B0: 4, B1: ?, B2: ?</span>
<a id=__codelineno-11-70 name=__codelineno-11-70 href=#__codelineno-11-70></a>
<a id=__codelineno-11-71 name=__codelineno-11-71 href=#__codelineno-11-71></a><span class=go>NEXT: B1</span>
<a id=__codelineno-11-72 name=__codelineno-11-72 href=#__codelineno-11-72></a>
<a id=__codelineno-11-73 name=__codelineno-11-73 href=#__codelineno-11-73></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-74 name=__codelineno-11-74 href=#__codelineno-11-74></a>
<a id=__codelineno-11-75 name=__codelineno-11-75 href=#__codelineno-11-75></a><span class=go>Next speaker: B1</span>
<a id=__codelineno-11-76 name=__codelineno-11-76 href=#__codelineno-11-76></a>
<a id=__codelineno-11-77 name=__codelineno-11-77 href=#__codelineno-11-77></a>
<a id=__codelineno-11-78 name=__codelineno-11-78 href=#__codelineno-11-78></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-79 name=__codelineno-11-79 href=#__codelineno-11-79></a><span class=go>B1 (to chat_manager):</span>
<a id=__codelineno-11-80 name=__codelineno-11-80 href=#__codelineno-11-80></a>
<a id=__codelineno-11-81 name=__codelineno-11-81 href=#__codelineno-11-81></a><span class=go>I have 1 chocolate.</span>
<a id=__codelineno-11-82 name=__codelineno-11-82 href=#__codelineno-11-82></a>
<a id=__codelineno-11-83 name=__codelineno-11-83 href=#__codelineno-11-83></a><span class=go>Here is the updated tally for Team B:</span>
<a id=__codelineno-11-84 name=__codelineno-11-84 href=#__codelineno-11-84></a>
<a id=__codelineno-11-85 name=__codelineno-11-85 href=#__codelineno-11-85></a><span class=go>B0: 4, B1: 1, B2: ?</span>
<a id=__codelineno-11-86 name=__codelineno-11-86 href=#__codelineno-11-86></a>
<a id=__codelineno-11-87 name=__codelineno-11-87 href=#__codelineno-11-87></a><span class=go>NEXT: B2</span>
<a id=__codelineno-11-88 name=__codelineno-11-88 href=#__codelineno-11-88></a>
<a id=__codelineno-11-89 name=__codelineno-11-89 href=#__codelineno-11-89></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-90 name=__codelineno-11-90 href=#__codelineno-11-90></a>
<a id=__codelineno-11-91 name=__codelineno-11-91 href=#__codelineno-11-91></a><span class=go>Next speaker: B2</span>
<a id=__codelineno-11-92 name=__codelineno-11-92 href=#__codelineno-11-92></a>
<a id=__codelineno-11-93 name=__codelineno-11-93 href=#__codelineno-11-93></a>
<a id=__codelineno-11-94 name=__codelineno-11-94 href=#__codelineno-11-94></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-95 name=__codelineno-11-95 href=#__codelineno-11-95></a><span class=go>B2 (to chat_manager):</span>
<a id=__codelineno-11-96 name=__codelineno-11-96 href=#__codelineno-11-96></a>
<a id=__codelineno-11-97 name=__codelineno-11-97 href=#__codelineno-11-97></a><span class=go>I have 1 chocolate.</span>
<a id=__codelineno-11-98 name=__codelineno-11-98 href=#__codelineno-11-98></a>
<a id=__codelineno-11-99 name=__codelineno-11-99 href=#__codelineno-11-99></a><span class=go>Here is the updated tally for Team B:</span>
<a id=__codelineno-11-100 name=__codelineno-11-100 href=#__codelineno-11-100></a>
<a id=__codelineno-11-101 name=__codelineno-11-101 href=#__codelineno-11-101></a><span class=go>B0: 4, B1: 1, B2: 1</span>
<a id=__codelineno-11-102 name=__codelineno-11-102 href=#__codelineno-11-102></a>
<a id=__codelineno-11-103 name=__codelineno-11-103 href=#__codelineno-11-103></a><span class=go>Team B&#39;s tally is 6 chocolates in total.</span>
<a id=__codelineno-11-104 name=__codelineno-11-104 href=#__codelineno-11-104></a>
<a id=__codelineno-11-105 name=__codelineno-11-105 href=#__codelineno-11-105></a><span class=go>I will now suggest the team leader of Team C to start determining their tally.</span>
<a id=__codelineno-11-106 name=__codelineno-11-106 href=#__codelineno-11-106></a>
<a id=__codelineno-11-107 name=__codelineno-11-107 href=#__codelineno-11-107></a><span class=go>NEXT: C0</span>
<a id=__codelineno-11-108 name=__codelineno-11-108 href=#__codelineno-11-108></a>
<a id=__codelineno-11-109 name=__codelineno-11-109 href=#__codelineno-11-109></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-110 name=__codelineno-11-110 href=#__codelineno-11-110></a>
<a id=__codelineno-11-111 name=__codelineno-11-111 href=#__codelineno-11-111></a><span class=go>Next speaker: B0</span>
<a id=__codelineno-11-112 name=__codelineno-11-112 href=#__codelineno-11-112></a>
<a id=__codelineno-11-113 name=__codelineno-11-113 href=#__codelineno-11-113></a>
<a id=__codelineno-11-114 name=__codelineno-11-114 href=#__codelineno-11-114></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-115 name=__codelineno-11-115 href=#__codelineno-11-115></a><span class=go>B0 (to chat_manager):</span>
<a id=__codelineno-11-116 name=__codelineno-11-116 href=#__codelineno-11-116></a>
<a id=__codelineno-11-117 name=__codelineno-11-117 href=#__codelineno-11-117></a><span class=go>It seems there was a mis-tag. Please let C0, the team leader of Team C, determine their team&#39;s chocolate tally.</span>
<a id=__codelineno-11-118 name=__codelineno-11-118 href=#__codelineno-11-118></a>
<a id=__codelineno-11-119 name=__codelineno-11-119 href=#__codelineno-11-119></a><span class=go>NEXT: C0</span>
<a id=__codelineno-11-120 name=__codelineno-11-120 href=#__codelineno-11-120></a>
<a id=__codelineno-11-121 name=__codelineno-11-121 href=#__codelineno-11-121></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-122 name=__codelineno-11-122 href=#__codelineno-11-122></a>
<a id=__codelineno-11-123 name=__codelineno-11-123 href=#__codelineno-11-123></a><span class=go>Next speaker: C0</span>
<a id=__codelineno-11-124 name=__codelineno-11-124 href=#__codelineno-11-124></a>
<a id=__codelineno-11-125 name=__codelineno-11-125 href=#__codelineno-11-125></a>
<a id=__codelineno-11-126 name=__codelineno-11-126 href=#__codelineno-11-126></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-127 name=__codelineno-11-127 href=#__codelineno-11-127></a><span class=go>C0 (to chat_manager):</span>
<a id=__codelineno-11-128 name=__codelineno-11-128 href=#__codelineno-11-128></a>
<a id=__codelineno-11-129 name=__codelineno-11-129 href=#__codelineno-11-129></a><span class=go>I have 3 chocolates. Let me coordinate with Team C to find out the total tally.</span>
<a id=__codelineno-11-130 name=__codelineno-11-130 href=#__codelineno-11-130></a>
<a id=__codelineno-11-131 name=__codelineno-11-131 href=#__codelineno-11-131></a><span class=go>Here is the current tally for Team C:</span>
<a id=__codelineno-11-132 name=__codelineno-11-132 href=#__codelineno-11-132></a>
<a id=__codelineno-11-133 name=__codelineno-11-133 href=#__codelineno-11-133></a><span class=go>C0: 3, C1: ?, C2: ?</span>
<a id=__codelineno-11-134 name=__codelineno-11-134 href=#__codelineno-11-134></a>
<a id=__codelineno-11-135 name=__codelineno-11-135 href=#__codelineno-11-135></a><span class=go>NEXT: C1</span>
<a id=__codelineno-11-136 name=__codelineno-11-136 href=#__codelineno-11-136></a>
<a id=__codelineno-11-137 name=__codelineno-11-137 href=#__codelineno-11-137></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-138 name=__codelineno-11-138 href=#__codelineno-11-138></a>
<a id=__codelineno-11-139 name=__codelineno-11-139 href=#__codelineno-11-139></a><span class=go>Next speaker: C1</span>
<a id=__codelineno-11-140 name=__codelineno-11-140 href=#__codelineno-11-140></a>
<a id=__codelineno-11-141 name=__codelineno-11-141 href=#__codelineno-11-141></a>
<a id=__codelineno-11-142 name=__codelineno-11-142 href=#__codelineno-11-142></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-143 name=__codelineno-11-143 href=#__codelineno-11-143></a><span class=go>C1 (to chat_manager):</span>
<a id=__codelineno-11-144 name=__codelineno-11-144 href=#__codelineno-11-144></a>
<a id=__codelineno-11-145 name=__codelineno-11-145 href=#__codelineno-11-145></a><span class=go>I have 1 chocolate.</span>
<a id=__codelineno-11-146 name=__codelineno-11-146 href=#__codelineno-11-146></a>
<a id=__codelineno-11-147 name=__codelineno-11-147 href=#__codelineno-11-147></a><span class=go>Here is the updated tally for Team C:</span>
<a id=__codelineno-11-148 name=__codelineno-11-148 href=#__codelineno-11-148></a>
<a id=__codelineno-11-149 name=__codelineno-11-149 href=#__codelineno-11-149></a><span class=go>C0: 3, C1: 1, C2: ?</span>
<a id=__codelineno-11-150 name=__codelineno-11-150 href=#__codelineno-11-150></a>
<a id=__codelineno-11-151 name=__codelineno-11-151 href=#__codelineno-11-151></a><span class=go>NEXT: C2</span>
<a id=__codelineno-11-152 name=__codelineno-11-152 href=#__codelineno-11-152></a>
<a id=__codelineno-11-153 name=__codelineno-11-153 href=#__codelineno-11-153></a><span class=go>--------------------------------------------------------------------------------</span>
<a id=__codelineno-11-154 name=__codelineno-11-154 href=#__codelineno-11-154></a>
<a id=__codelineno-11-155 name=__codelineno-11-155 href=#__codelineno-11-155></a><span class=go>Next speaker: C2</span>
<a id=__codelineno-11-156 name=__codelineno-11-156 href=#__codelineno-11-156></a>
<a id=__codelineno-11-157 name=__codelineno-11-157 href=#__codelineno-11-157></a>
<a id=__codelineno-11-158 name=__codelineno-11-158 href=#__codelineno-11-158></a><span class=go>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; USING AUTO REPLY...</span>
<a id=__codelineno-11-159 name=__codelineno-11-159 href=#__codelineno-11-159></a><span class=go>C2 (to chat_manager):</span>
<a id=__codelineno-11-160 name=__codelineno-11-160 href=#__codelineno-11-160></a>
<a id=__codelineno-11-161 name=__codelineno-11-161 href=#__codelineno-11-161></a><span class=go>I have 3 chocolates.</span>
<a id=__codelineno-11-162 name=__codelineno-11-162 href=#__codelineno-11-162></a>
<a id=__codelineno-11-163 name=__codelineno-11-163 href=#__codelineno-11-163></a><span class=go>Here is the updated tally for Team C:</span>
<a id=__codelineno-11-164 name=__codelineno-11-164 href=#__codelineno-11-164></a>
<a id=__codelineno-11-165 name=__codelineno-11-165 href=#__codelineno-11-165></a><span class=go>C0: 3, C1: 1, C2: 3</span>
<a id=__codelineno-11-166 name=__codelineno-11-166 href=#__codelineno-11-166></a>
<a id=__codelineno-11-167 name=__codelineno-11-167 href=#__codelineno-11-167></a><span class=go>Team C&#39;s tally is 7 chocolates in total.</span>
<a id=__codelineno-11-168 name=__codelineno-11-168 href=#__codelineno-11-168></a>
<a id=__codelineno-11-169 name=__codelineno-11-169 href=#__codelineno-11-169></a><span class=go>Since all teams have their tally ready, let&#39;s sum up the total:</span>
<a id=__codelineno-11-170 name=__codelineno-11-170 href=#__codelineno-11-170></a>
<a id=__codelineno-11-171 name=__codelineno-11-171 href=#__codelineno-11-171></a><span class=go>Team A&#39;s tally: 7 chocolates</span>
<a id=__codelineno-11-172 name=__codelineno-11-172 href=#__codelineno-11-172></a><span class=go>Team B&#39;s tally: 6 chocolates</span>
<a id=__codelineno-11-173 name=__codelineno-11-173 href=#__codelineno-11-173></a><span class=go>Team C&#39;s tally: 7 chocolates</span>
<a id=__codelineno-11-174 name=__codelineno-11-174 href=#__codelineno-11-174></a>
<a id=__codelineno-11-175 name=__codelineno-11-175 href=#__codelineno-11-175></a><span class=go>Total tally: 7 + 6 + 7 = 20 chocolates</span>
<a id=__codelineno-11-176 name=__codelineno-11-176 href=#__codelineno-11-176></a>
<a id=__codelineno-11-177 name=__codelineno-11-177 href=#__codelineno-11-177></a><span class=go>DONE!</span>
<a id=__codelineno-11-178 name=__codelineno-11-178 href=#__codelineno-11-178></a>
<a id=__codelineno-11-179 name=__codelineno-11-179 href=#__codelineno-11-179></a><span class=go>--------------------------------------------------------------------------------</span>
</code></pre></div></p> <h3 id=more-groupchat-examples>More GroupChat examples<a class=headerlink href=#more-groupchat-examples title="Permanent link">#</a></h3> <ul> <li><a href=../../../use-cases/notebooks/notebooks/agentchat_groupchat_customized>GroupChat with Customized Speaker Selection Method</a></li> <li><a href=../../../use-cases/notebooks/notebooks/agentchat_groupchat_vis>GroupChat with Coder and Visualization Critic</a></li> <li><a href=../../../use-cases/notebooks/notebooks/agentchat_groupchat_RAG>GroupChat with Retrieval-Augmented Generation</a></li> <li><a href=../../../use-cases/notebooks/notebooks/agentchat_swarm_w_groupchat_legacy>Implementing Swarm with a GroupChat</a></li> </ul> <h3 id=api>API<a class=headerlink href=#api title="Permanent link">#</a></h3> <p><a href=../../../api-reference/autogen/GroupChat>GroupChat</a> <a href=../../../api-reference/autogen/GroupChatManager>GroupChatManager</a></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-03-12T01:15:21+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-03-12</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../tools/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Tools"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Tools </div> </div> </a> <a href=../resuming-group-chat/ class="md-footer__link md-footer__link--next" aria-label="Next: Resuming Group Chat"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Resuming Group Chat </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../../../js/timeago.min.js></script> <script src=../../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>
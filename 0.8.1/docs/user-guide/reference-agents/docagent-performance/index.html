<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=http://docs.ag2.ai/latest/docs/user-guide/reference-agents/docagent-performance/ rel=canonical><link rel=icon href=../../../../assets/img/favicon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.7"><title>DocAgent Performance - AG2</title><link rel=stylesheet href=../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../css/timeago.css><link rel=stylesheet href=../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../stylesheets/extra.aa8cf5.min.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - DocAgent Performance"><meta property=og:description content="A programming framework for agentic AI"><meta content=http://docs.ag2.ai/latest/docs/user-guide/reference-agents/docagent-performance/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - DocAgent Performance"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link href=../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#test-results class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> You're viewing the <strong class=primary-text>work in progress</strong> version of the documentation. Please click <a rel=me href=http://docs.ag2.ai><strong>here</strong></a> for the latest. </div> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> DocAgent Performance </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../api-reference/autogen/AfterWork/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../faq/FAQ/ class=md-tabs__link> FAQs </a> </li> <li class=md-tabs__item> <a href=../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api-reference/autogen/AfterWork/ class=md-nav__link> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../faq/FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#test-results class=md-nav__link> <span class=md-ellipsis> Test Results </span> </a> <nav class=md-nav aria-label="Test Results"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#task-1-url-to-markdown-file-query-to-summarize class=md-nav__link> <span class=md-ellipsis> Task 1: URL to Markdown file, query to summarize </span> </a> </li> <li class=md-nav__item> <a href=#task-2-url-to-microsoft-word-document-query-highlights class=md-nav__link> <span class=md-ellipsis> Task 2: URL to Microsoft Word document, query highlights </span> </a> </li> <li class=md-nav__item> <a href=#task-3-url-to-pdf-annual-report-query-specific-figures class=md-nav__link> <span class=md-ellipsis> Task 3: URL to PDF annual report, query specific figures </span> </a> </li> <li class=md-nav__item> <a href=#task-4-url-to-pdf-document-query-to-explain class=md-nav__link> <span class=md-ellipsis> Task 4: URL to PDF document, query to explain </span> </a> </li> <li class=md-nav__item> <a href=#task-5-local-file-pdf-query-to-explain class=md-nav__link> <span class=md-ellipsis> Task 5: Local file, PDF, query to explain </span> </a> </li> <li class=md-nav__item> <a href=#task-6-url-to-jpg-of-scanned-invoice-query-a-figure class=md-nav__link> <span class=md-ellipsis> Task 6: URL to JPG of scanned invoice, query a figure </span> </a> </li> <li class=md-nav__item> <a href=#task-7-local-file-png-of-scanned-invoice-query-a-figure class=md-nav__link> <span class=md-ellipsis> Task 7: Local file, PNG of scanned invoice, query a figure </span> </a> </li> <li class=md-nav__item> <a href=#task-8-url-to-xlsx-using-a-redirect-url-query-table class=md-nav__link> <span class=md-ellipsis> Task 8: URL to XLSX using a redirect URL, query table </span> </a> </li> <li class=md-nav__item> <a href=#task-9-url-to-xlsx-query-data class=md-nav__link> <span class=md-ellipsis> Task 9: URL to XLSX, query data </span> </a> </li> <li class=md-nav__item> <a href=#task-10-url-to-csv-query-a-figure class=md-nav__link> <span class=md-ellipsis> Task 10: URL to CSV, query a figure </span> </a> </li> <li class=md-nav__item> <a href=#task-11-url-to-csv-query-to-summarize class=md-nav__link> <span class=md-ellipsis> Task 11: URL to CSV, query to summarize </span> </a> </li> <li class=md-nav__item> <a href=#task-12-url-with-csv-query-unrelated-should-not-answer class=md-nav__link> <span class=md-ellipsis> Task 12: URL with CSV, query unrelated (should not answer) </span> </a> </li> <li class=md-nav__item> <a href=#task-13-local-files-2-x-markdowns-query-to-compare class=md-nav__link> <span class=md-ellipsis> Task 13: Local files, 2 x Markdowns, Query to compare </span> </a> </li> <li class=md-nav__item> <a href=#task-14-local-file-markdown-unrelated-query-should-not-answer class=md-nav__link> <span class=md-ellipsis> Task 14: Local file, Markdown, unrelated query (should not answer) </span> </a> </li> <li class=md-nav__item> <a href=#task-15-local-file-markdown-unrelated-query-but-general-knowledge-should-not-answer class=md-nav__link> <span class=md-ellipsis> Task 15: Local file, Markdown, unrelated query but general knowledge (should not answer) </span> </a> </li> <li class=md-nav__item> <a href=#task-16-no-files-to-ingest-but-has-query class=md-nav__link> <span class=md-ellipsis> Task 16: No files to ingest but has query </span> </a> </li> <li class=md-nav__item> <a href=#task-17-local-file-pdf-of-annual-report-query-a-figure class=md-nav__link> <span class=md-ellipsis> Task 17: Local file, PDF of annual report, query a figure </span> </a> </li> <li class=md-nav__item> <a href=#task-18-local-file-microsoft-word-query-a-figure class=md-nav__link> <span class=md-ellipsis> Task 18: Local file, Microsoft Word, query a figure </span> </a> </li> <li class=md-nav__item> <a href=#task-19-url-to-web-page-with-query-to-summarize class=md-nav__link> <span class=md-ellipsis> Task 19: URL to web page with query to summarize </span> </a> </li> <li class=md-nav__item> <a href=#task-20a-local-files-pdf-and-docx-one-query-to-cover-both class=md-nav__link> <span class=md-ellipsis> Task 20a: Local files, PDF and DOCX, one query to cover both </span> </a> </li> <li class=md-nav__item> <a href=#task-20b-follow-up-query-to-docagent class=md-nav__link> <span class=md-ellipsis> Task 20b: Follow-up query to DocAgent </span> </a> </li> <li class=md-nav__item> <a href=#test-code class=md-nav__link> <span class=md-ellipsis> Test Code </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/website/mkdocs/docs/docs/user-guide/reference-agents/docagent-performance.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>DocAgent Performance</h1> <p>This page is a summary of our testing of DocAgent. The version (or code date) of AG2 is included as a reference.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>If you want to run the test code, install AG2 with the <code>rag</code> extra.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>pip<span class=w> </span>install<span class=w> </span>ag2<span class=o>[</span>rag<span class=o>]</span>
</code></pre></div> </div> <h2 id=test-results>Test Results<a class=headerlink href=#test-results title="Permanent link">#</a></h2> <p>Code version: As of March 3rd 2025 (will be in version <strong>after</strong> v0.8.0b1)</p> <p>For InMemory Query Engine the LLM used is OpenAI's GPT-4o mini.</p> <table> <thead> <tr> <th style="text-align: center;">#</th> <th>Task</th> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">In-memory Query Engine</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">1</td> <td>URL to Markdown file, query to summarize</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">2</td> <td>URL to Microsoft Word document, query highlights</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">3</td> <td>URL to PDF annual report, query specific figures</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">4</td> <td>URL to PDF document, query to explain</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">5</td> <td>Local file, PDF, query to explain</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">6</td> <td>URL to JPG of scanned invoice, query a figure</td> <td style="text-align: center;">❌</td> <td style="text-align: center;">🔶</td> <td style="text-align: center;">🔶</td> </tr> <tr> <td style="text-align: center;">7</td> <td>Local file, PNG of scanned invoice, query a figure</td> <td style="text-align: center;">❌</td> <td style="text-align: center;">❌</td> <td style="text-align: center;">❌</td> </tr> <tr> <td style="text-align: center;">8</td> <td>URL to XLSX using a redirect URL, query table</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">🔶</td> <td style="text-align: center;">🔶</td> </tr> <tr> <td style="text-align: center;">9</td> <td>URL to XLSX, query data</td> <td style="text-align: center;">❌</td> <td style="text-align: center;">🔶</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">10</td> <td>URL to CSV, query a figure</td> <td style="text-align: center;">❌</td> <td style="text-align: center;">N/A</td> <td style="text-align: center;">N/A</td> </tr> <tr> <td style="text-align: center;">11</td> <td>URL to CSV, query to summarize</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">12</td> <td>URL with CSV, query unrelated</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">13</td> <td>Local files, 2 x Markdowns, Query to compare</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">14</td> <td>Local file, Markdown, unrelated query</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">15</td> <td>Local file, Markdown, unrelated query but general knowledge</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">16</td> <td>No files to ingest but has query</td> <td style="text-align: center;">N/A</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">17</td> <td>Local file, PDF of annual report, query a figure</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">18</td> <td>Local file, Microsoft Word, query a figure</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">❌</td> </tr> <tr> <td style="text-align: center;">19</td> <td>URL to web page with query to summarize</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">20a</td> <td>Local files, PDF and DOCX, one query to cover both</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> <tr> <td style="text-align: center;">20b</td> <td>Follow-up query to DocAgent</td> <td style="text-align: center;">N/A</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">❌</td> </tr> </tbody> </table> <h3 id=task-1-url-to-markdown-file-query-to-summarize>Task 1: URL to Markdown file, query to summarize<a class=headerlink href=#task-1-url-to-markdown-file-query-to-summarize title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=s2>&quot;Retrieve the document from https://raw.githubusercontent.com/microsoft/FLAML/main/website/docs/Examples/Integrate%20-%20Spark.md and summarise it.&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Vector Store Query</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=go>&quot;### Summary of Completed Tasks</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=go>- **Documents Ingested**:</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=go>  - [Integration of FLAML with Spark](https://raw.githubusercontent.com/microsoft/FLAML/main/website/docs/Examples/Integrate%20-%20Spark.md)</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=go>- **Documents Left to Ingest**: 0</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=go>- **Queries Left to Run**: 0</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=gp>#</span><span class=c1>## Query and Answers</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=go>1. **Query**: Please summarize the document.</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=go>   **Answer**: The document discusses the integration of FLAML with Spark for distributed training, focusing on two main aspects: utilizing Spark ML estimators for AutoML and running training in parallel through Spark jobs.</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=go>   - **Spark ML Estimators**: It integrates estimators based on Spark ML models to enable parallel training. Data must be formatted correctly, and a utility function, `to_pandas_on_spark`, is provided for conversion.</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=go>   - **Data Formatting**: Data should be converted to a pandas-on-Spark dataframe or series, with feature columns merged into a single vector column using `VectorAssembler`.</span>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=go>   - **Estimators**: Models like `lgbm_spark` are available, and users must specify these in the `estimators_list` while using FLAML.</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=go>   - **Parallel Spark Jobs**: To activate Spark as the backend during parallel tuning, the `use_spark` argument should be set to true, except during AutoML for Spark Data since SparkML models inherently run in parallel.</span>
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=go>   - The document also includes code examples for data preparation and FLAML configuration.&quot;</span>
</code></pre></div></p> <h3 id=task-2-url-to-microsoft-word-document-query-highlights>Task 2: URL to Microsoft Word document, query highlights<a class=headerlink href=#task-2-url-to-microsoft-word-document-query-highlights title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=s2>&quot;Retrieve this annual report and tell me the highlights: https://c.s-microsoft.com/en-us/CMSFiles/2023_Annual_Report.docx?version=dfd6ff7f-0999-881d-bedf-c6d9dadab40b&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Vector Store</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=go>&quot;Summary of Completed Tasks:</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=go>- Ingested the 2023 Annual Report from Microsoft.</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=go>- Executed a query for the highlights of the annual report.</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=go>Query and Answers:</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=go>1. Query: What are the highlights of the annual report?</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=go>   Answer: Highlights from the 2023 Annual Report include:</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=go>   1. **Record Financial Performance**: Microsoft achieved a record revenue of $211 billion and over $88 billion in operating income.</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=go>   2. **Significant Growth in Cloud Services**: Microsoft Cloud revenue increased by 22% to $111.6 billion.</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=go>   3. **Office Growth**: Revenue from Office Commercial products and cloud services grew by 10%.</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=go>   4. **LinkedIn Revenue Increase**: LinkedIn&#39;s revenue rose by 10%.</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=go>   5. **Dynamics Solutions Expansion**: Dynamics products and cloud services revenue grew by 16%.</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=go>   6. **Azure Growth**: Server products and cloud services revenue increased by 19%, driven by a 29% growth in Azure.</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=go>   7. **Challenges in Personal Computing**: More Personal Computing revenue decreased by 9%, with a notable decline in Windows OEM revenue.</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=go>   8. **Commitment to AI**: Microsoft&#39;s focus on AI includes integrating it across products and introducing Copilot features.</span>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=go>   9. **Sustainability Initiatives**: The company aims to become carbon negative, water positive, and zero waste by 2030.&quot;</span>
</code></pre></div></p> <h3 id=task-3-url-to-pdf-annual-report-query-specific-figures>Task 3: URL to PDF annual report, query specific figures<a class=headerlink href=#task-3-url-to-pdf-annual-report-query-specific-figures title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=s2>&quot;Retrieve the quarterly financials from https://www.adobe.com/cc-shared/assets/investor-relations/pdfs/11214202/a56sthg53egr.pdf and tell me what the total subscription revenue was in the latest quarter.&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=go>1: https://www.adobe.com/cc-shared/assets/investor-relations/pdfs/11214202/a56sthg53egr.pdf</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=go>Queries:</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=go>1: What was the total subscription revenue in the latest quarter?</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=go>Answer: The total subscription revenue in the latest quarter (Q4 FY2024) was $5.365 billion.</span>
</code></pre></div></p> <h3 id=task-4-url-to-pdf-document-query-to-explain>Task 4: URL to PDF document, query to explain<a class=headerlink href=#task-4-url-to-pdf-document-query-to-explain title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=s2>&quot;What&#39;s this document about? https://www.cpaaustralia.com.au/-/media/project/cpa/corporate/documents/tools-and-resources/financial-reporting/guide-to-understanding-annual-reporting.pdf?rev=63cea2139de642f784b47ee2acddf75a&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=go>1: https://www.cpaaustralia.com.au/-/media/project/cpa/corporate/documents/tools-and-resources/financial-reporting/guide-to-understanding-annual-reporting.pdf?rev=63cea2139de642f784b47ee2acddf75a</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=go>Queries:</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=go>1: What&#39;s this document about?</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=go>Answer: The document is a guide titled &quot;&quot;A Guide to Understanding Annual Reports: Australian Listed Companies&quot;&quot; published by CPA Australia in November 2019. It aims to assist existing and prospective shareholders and other providers of capital, who may not have expertise in accounting, in understanding annual reports of listed companies. It covers essential components of an annual report, such as the directors&#39; report, corporate governance statement, financial report, and auditor&#39;s report. The guide provides insights on interpreting financial statements, the importance of various reports, and the role of annual reporting in communicating a company&#39;s activities, financial results, and strategies to stakeholders.</span>
</code></pre></div></p> <h3 id=task-5-local-file-pdf-query-to-explain>Task 5: Local file, PDF, query to explain<a class=headerlink href=#task-5-local-file-pdf-query-to-explain title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=s2>&quot;What&#39;s this document about? /my_folder/guide-to-understanding-annual-reporting.pdf&quot;</span>
</code></pre></div></p> <p>Note: This is the same document as Task 4, just stored locally.</p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=go>1: /my_folder/guide-to-understanding-annual-reporting.pdf</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=go>Queries:</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=go>1: What&#39;s this document about?</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=go>Answer: The document titled &quot;&quot;A Guide to Understanding Annual Reports: Australian Listed Companies&quot;&quot; provides an overview and explanation of annual reports published by Australian listed companies. It includes details about different components of the reports, such as the directors&#39; report, corporate governance statement, financial report, and auditor&#39;s report. The guide aims to assist shareholders and other stakeholders, particularly those without expertise in accounting, in interpreting financial statements and better understanding company performance and strategies. Additionally, it educates readers on the importance of these reports, fundamental concepts of financial statements, best practices for analysis, and guidelines set by the Corporations Act 2001 and the ASX Listing Rules regarding required disclosures in annual reports.</span>
</code></pre></div></p> <h3 id=task-6-url-to-jpg-of-scanned-invoice-query-a-figure>Task 6: URL to JPG of scanned invoice, query a figure<a class=headerlink href=#task-6-url-to-jpg-of-scanned-invoice-query-a-figure title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=s2>&quot;What&#39;s the total due for this invoice? https://user-images.githubusercontent.com/26280625/27857671-e13cf85e-6172-11e7-81dd-c2fe5d1dfd2e.jpg&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">❌</td> <td style="text-align: center;">🔶</td> <td style="text-align: center;">🔶</td> </tr> </tbody> </table> <p><strong>Notes</strong>: - During ingestion, the image was downloaded correctly but Docling could not OCR the text correctly, missing a lot of the text and substituting the British Pound symbol as a "2". - The InMemoryQueryEngine and VectorChromaQueryEngine successfully read the converted text and provided the correct result based on that, however the result is erroneous.</p> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=go>1: https://user-images.githubusercontent.com/26280625/27857671-e13cf85e-6172-11e7-81dd-c2fe5d1dfd2e.jpg</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=go>Queries:</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=go>1: What&#39;s the total due for this invoice?</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=go>Answer: The total due for this invoice is 21,582.82.</span>
</code></pre></div></p> <h3 id=task-7-local-file-png-of-scanned-invoice-query-a-figure>Task 7: Local file, PNG of scanned invoice, query a figure<a class=headerlink href=#task-7-local-file-png-of-scanned-invoice-query-a-figure title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=s2>&quot;What&#39;s the total due for this invoice? /my_folder/ContosoInvoice.png&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">❌</td> <td style="text-align: center;">❌</td> <td style="text-align: center;">❌</td> </tr> </tbody> </table> <p><strong>Notes</strong>: - During ingestion, the image was downloaded correctly but Docling could not OCR the text correctly, missing all the text and tables. - The InMemoryQueryEngine and VectorChromaQueryEngine read but could not gather any information from the converted file so they could not answer the question.</p> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=go>1: /my_folder/ContosoInvoice.png</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=go>Queries:</span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=go>1: What&#39;s the total due for this invoice?</span>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=go>Answer: Sorry, I couldn&#39;t answer that question from the ingested documents/URLs: The document does not provide information about the total due for the invoice.</span>
</code></pre></div></p> <h3 id=task-8-url-to-xlsx-using-a-redirect-url-query-table>Task 8: URL to XLSX using a redirect URL, query table<a class=headerlink href=#task-8-url-to-xlsx-using-a-redirect-url-query-table title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=s2>&quot;Tell me about the Carretera product in Canada from https://go.microsoft.com/fwlink/?LinkID=521962&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">🔶</td> <td style="text-align: center;">🔶</td> </tr> </tbody> </table> <p><strong>Notes</strong>: - The ingested and converted Excel file was correctly interpreted in the Markdown - The InMemoryQueryEngine's LLM, GPT-4o mini, was able to pull two rows of data out correctly but could not compile the 20 rows of data based on the broad query. - The VectorChromaQueryEngine was able to pull one row of data out correctly but could not compile the 20 rows of data based on the broad query.</p> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=go>1: https://go.microsoft.com/fwlink/?LinkID=521962</span>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=go>Queries:</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=go>1: Tell me about the Carretera product in Canada.</span>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=go>Answer: In Canada, the Carretera product has the following sales data:</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=go>- Segment: Government</span>
<a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a><span class=go>  - Units Sold: 1618.5</span>
<a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a><span class=go>  - Manufacturing Price: 3</span>
<a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=go>  - Sale Price: 20</span>
<a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a><span class=go>  - Gross Sales: 32370</span>
<a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a><span class=go>  - Discounts: 0</span>
<a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a><span class=go>  - Sales: 32370</span>
<a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a><span class=go>  - COGS: 16185</span>
<a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a><span class=go>  - Profit: 16185</span>
<a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=go>  - Date: 2014-01-01 00:00:00</span>
<a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a>
<a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a><span class=go>Another entry for Carretera in Canada under the Channel Partners segment:</span>
<a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a><span class=go>- Segment: Channel Partners</span>
<a id=__codelineno-16-20 name=__codelineno-16-20 href=#__codelineno-16-20></a><span class=go>  - Units Sold: 1818.5</span>
<a id=__codelineno-16-21 name=__codelineno-16-21 href=#__codelineno-16-21></a><span class=go>  - Manufacturing Price: 3</span>
<a id=__codelineno-16-22 name=__codelineno-16-22 href=#__codelineno-16-22></a><span class=go>  - Sale Price: 12</span>
<a id=__codelineno-16-23 name=__codelineno-16-23 href=#__codelineno-16-23></a><span class=go>  - Gross Sales: 27216</span>
<a id=__codelineno-16-24 name=__codelineno-16-24 href=#__codelineno-16-24></a><span class=go>  - Discounts: 0</span>
<a id=__codelineno-16-25 name=__codelineno-16-25 href=#__codelineno-16-25></a><span class=go>  - Sales: 27216</span>
<a id=__codelineno-16-26 name=__codelineno-16-26 href=#__codelineno-16-26></a><span class=go>  - COGS: 7554</span>
<a id=__codelineno-16-27 name=__codelineno-16-27 href=#__codelineno-16-27></a><span class=go>  - Profit: 19662</span>
</code></pre></div></p> <h3 id=task-9-url-to-xlsx-query-data>Task 9: URL to XLSX, query data<a class=headerlink href=#task-9-url-to-xlsx-query-data title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=s2>&quot;What was the total payment to AECOM Australia consultancy from https://data.sa.gov.au/data/dataset/be2febed-1982-47c6-bd42-e0d600c29b70/resource/0d72c0e3-94c1-4050-a569-d3a1531f29a3/download/2022-2023-ohpsa-annual-report-statistics.xlsx&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">❌</td> <td style="text-align: center;">🔶</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p><strong>Notes</strong>: - The ingested Excel file was not correctly converted to Markdown tables, with some end columns being moved to new tables - The InMemoryQueryEngine could not answer the question due to the incorrectly parsed Markdown - Interestingly, the VectorChromaQueryEngine was able to determine the correct answer</p> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=go>1: https://data.sa.gov.au/data/dataset/be2febed-1982-47c6-bd42-e0d600c29b70/resource/0d72c0e3-94c1-4050-a569-d3a1531f29a3/download/2022-2023-ohpsa-annual-report-statistics.xlsx</span>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=go>Queries:</span>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class=go>1: What was the total payment to AECOM Australia consultancy?</span>
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=go>Answer: The total payment to AECOM Australia consultancy is not explicitly stated in the provided document content. However, AECOM Australia is listed as one of the consultancies with a contract value above $10,000 each.</span>
</code></pre></div></p> <h3 id=task-10-url-to-csv-query-a-figure>Task 10: URL to CSV, query a figure<a class=headerlink href=#task-10-url-to-csv-query-a-figure title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=s2>&quot;What were the number of consultants below $10,000 in the 2018-2019 year from https://data.sa.gov.au/data/dataset/d5152d51-b125-48d8-a561-ec3d9d6610b9/resource/c0943eac-9210-4e9e-b88b-2aa00a58066d/download/country-arts-sa-annual-report-regulatory-data.csv&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">❌</td> <td style="text-align: center;">N/A</td> <td style="text-align: center;">N/A</td> </tr> </tbody> </table> <p><strong>Notes</strong>: - This URL could not be downloaded correctly, though it works in a browser.</p> <h3 id=task-11-url-to-csv-query-to-summarize>Task 11: URL to CSV, query to summarize<a class=headerlink href=#task-11-url-to-csv-query-to-summarize title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=s2>&quot;Summarise this for me, https://www.stats.govt.nz/assets/Uploads/Research-and-development-survey/Research-and-development-survey-2023/Download-data/research-and-development-survey-2023-csv-notes.csv&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=go>The document titled &#39;research-and-development-survey-2023-csv-notes.md&#39; contains various notes and footnotes regarding the methodologies, categorizations, and definitions related to a survey on research and development (R&amp;D) conducted in 2023. Key highlights include:</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=go>1. **Survey Scope**: The R&amp;D Survey is conducted biennially and focuses on different sectors such as Business, Government, and Higher Education. However, in the years 2019, 2021, and 2023, the survey was only conducted in the business sector (Footnote 2).</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=go>2. **Data Handling**: Various footnotes provide information on how data is collected, including the rounding of figures for businesses and employees, and the exclusion of certain sectors or data types, such as licensing of intellectual property and subsidiaries (Footnotes 12, 29, and 30).</span>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=go>3. **Research Types**: There are several definitions related to types of research, including basic research, applied research, and experimental research, which clarify the intent and application of the research being performed (Footnotes 22-26).</span>
<a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>
<a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a><span class=go>4. **Results Handling**: Cautions are advised when interpreting results from specific categories due to small sample sizes, and results are treated with particular caution (Footnotes 3 and 28).</span>
<a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a>
<a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a><span class=go>5. **Relative Sampling Errors**: The document mentions relative sampling errors, which quantify variability in results due to sampling, indicating the limitations of the data (Notes section).</span>
<a id=__codelineno-21-12 name=__codelineno-21-12 href=#__codelineno-21-12></a>
<a id=__codelineno-21-13 name=__codelineno-21-13 href=#__codelineno-21-13></a><span class=go>6. **Symbols and Notations**: A section at the end outlines various symbols used throughout the data, such as indications for data not collected, confidential data, and figures that are provisional or revised (Symbols section).</span>
<a id=__codelineno-21-14 name=__codelineno-21-14 href=#__codelineno-21-14></a>
<a id=__codelineno-21-15 name=__codelineno-21-15 href=#__codelineno-21-15></a><span class=go>Overall, the document serves as a technical note for understanding the R&amp;D survey&#39;s data collection methods, definitions, and considerations for interpreting the results.</span>
</code></pre></div></p> <h3 id=task-12-url-with-csv-query-unrelated-should-not-answer>Task 12: URL with CSV, query unrelated (should not answer)<a class=headerlink href=#task-12-url-with-csv-query-unrelated-should-not-answer title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=s2>&quot;What was Microsoft&#39;s latest quarter GAAP product revenues, see https://www.stats.govt.nz/assets/Uploads/Research-and-development-survey/Research-and-development-survey-2023/Download-data/research-and-development-survey-2023-csv-notes.csv&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=go>1: https://www.stats.govt.nz/assets/Uploads/Research-and-development-survey/Research-and-development-survey-2023/Download-data/research-and-development-survey-2023-csv-notes.csv</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=go>Queries:</span>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=go>1: What was Microsoft&#39;s latest quarter GAAP product revenues?</span>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=go>Answer: Sorry, I couldn&#39;t answer that question from the ingested documents/URLs: The document does not contain information regarding Microsoft&#39;s latest quarter GAAP product revenues.</span>
</code></pre></div></p> <h3 id=task-13-local-files-2-x-markdowns-query-to-compare>Task 13: Local files, 2 x Markdowns, Query to compare<a class=headerlink href=#task-13-local-files-2-x-markdowns-query-to-compare title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=s2>&quot;from /my_folder/ load both docagent_tests_story1.md and docagent_tests_story2.md and compare the two stories.&quot;</span>
</code></pre></div></p> <p>Files: - <a href=../assets/docagent_tests_story1/ >docagent_tests_story1.md</a> - <a href=../assets/docagent_tests_story2/ >docagent_tests_story2.md</a></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=go>1: /my_folder/docagent_tests_story1.md</span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=go>2: /my_folder/docagent_tests_story2.md</span>
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a>
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=go>Queries:</span>
<a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=go>1: compare the stories in docagent_tests_story1.md and docagent_tests_story2.md</span>
<a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a><span class=go>Answer: The stories in the documents &#39;docagent_tests_story1.md&#39; and &#39;docagent_tests_story2.md&#39; explore themes of memory, loss, and the human condition, but they do so in markedly different contexts and styles.</span>
<a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a>
<a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a><span class=go>In docagent_tests_story2.md, the narrative is reflective and philosophical, centered around the essence of Christmas and the interplay of present joys with past aspirations. It discusses the nostalgia of unfulfilled dreams and lost loved ones, particularly during the festive season. The narrator recounts idealized memories of Christmas, contemplating how those who have passed should be remembered and welcomed into the celebration. The text emphasizes forgiveness, the importance of embracing both past and present experiences, and a deep sense of connection with loved ones, both living and deceased. The overall tone is warm, inviting, and imbued with a sense of hope and gratitude.</span>
<a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a>
<a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a><span class=go>In contrast, docagent_tests_story1.md presents a more somber and introspective story about Mr. Woodifield and the boss, who reflects on the loss of his son killed in the war. The dialogue between the two characters highlights the loneliness and sorrow that accompany aging and grief. Mr. Woodifield, confined by his circumstances, cherishes his brief time spent away from home, where he shares news about the graves of their sons in Belgium. The boss is deeply affected by the mention of his son’s grave, leading him into a spiral of grief and reflection on his past. The story captures moments of mundane life interrupted by flashes of profound sorrow, focusing on a more immediate portrayal of loss.</span>
<a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a>
<a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a><span class=go>In summary, while docagent_tests_story2.md deals broadly with nostalgia and memory during Christmas, encompassing both joys and sorrows in a festive spirit, docagent_tests_story1.md is more tightly focused on personal grief and the impact of loss on daily life, revealing the emotional weight carried by the characters. Both narratives address the interplay between the past and the present but do so through different lenses—one celebratory and inclusive, the other introspective and mournful.</span>
</code></pre></div></p> <h3 id=task-14-local-file-markdown-unrelated-query-should-not-answer>Task 14: Local file, Markdown, unrelated query (should not answer)<a class=headerlink href=#task-14-local-file-markdown-unrelated-query-should-not-answer title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=s2>&quot;from /my_folder/ load both docagent_tests_story1.md and docagent_tests_story2.md and explain who Bob Billy is.&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=go>&quot;Ingestions:</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=go>1: /my_folder/docagent_tests_story1.md</span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=go>2: /my_folder/docagent_tests_story2.md</span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a>
<a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a><span class=go>Queries:</span>
<a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=go>1: Who is Bob Billy?</span>
<a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=go>Answer: Sorry, I couldn&#39;t answer that question from the ingested documents/URLs: The documents provided do not contain any information about a person named Bob Billy.&quot;</span>
</code></pre></div></p> <h3 id=task-15-local-file-markdown-unrelated-query-but-general-knowledge-should-not-answer>Task 15: Local file, Markdown, unrelated query but general knowledge (should not answer)<a class=headerlink href=#task-15-local-file-markdown-unrelated-query-but-general-knowledge-should-not-answer title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=s2>&quot;from /my_folder/ load both docagent_tests_story1.md and docagent_tests_story2.md and explain who Michael Jackson is.&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=go>1: /my_folder/docagent_tests_story1.md</span>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=go>2: /my_folder/docagent_tests_story2.md</span>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a>
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=go>Queries:</span>
<a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=go>1: Explain who Michael Jackson is.</span>
<a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=go>Answer: Sorry, I couldn&#39;t answer that question from the ingested documents/URLs: The available documents do not provide any information about Michael Jackson.</span>
</code></pre></div></p> <h3 id=task-16-no-files-to-ingest-but-has-query>Task 16: No files to ingest but has query<a class=headerlink href=#task-16-no-files-to-ingest-but-has-query title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=s2>&quot;Compare the two stories ingested.&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">N/A</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=go>&quot;Ingestions: No ingestions</span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=go>Queries:</span>
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=go>1. Query: Compare the two stories ingested.</span>
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=go>   Answer: Sorry, please ingest some documents/URLs before querying.&quot;</span>
</code></pre></div></p> <h3 id=task-17-local-file-pdf-of-annual-report-query-a-figure>Task 17: Local file, PDF of annual report, query a figure<a class=headerlink href=#task-17-local-file-pdf-of-annual-report-query-a-figure title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=s2>&quot;What was net GAAP revenue on products from the document /my_folder/FY25_Q1_Consolidated_Financial_Statements.pdf&quot;</span>
</code></pre></div></p> <p>Files used: - <a href=https://www.apple.com/newsroom/pdfs/fy2025-q1/FY25_Q1_Consolidated_Financial_Statements.pdf>Apple First Quarter Results</a></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=go>1: /my_folder/FY25_Q1_Consolidated_Financial_Statements.pdf</span>
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>
<a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=go>Queries:</span>
<a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a><span class=go>1: What was net GAAP revenue on products?</span>
<a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a><span class=go>Answer: The net GAAP revenue on products for the three months ended December 28, 2024, was $97,960 million, while for the three months ended December 30, 2023, it was $96,458 million.</span>
</code></pre></div></p> <h3 id=task-18-local-file-microsoft-word-query-a-figure>Task 18: Local file, Microsoft Word, query a figure<a class=headerlink href=#task-18-local-file-microsoft-word-query-a-figure title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=s2>&quot;What was revenue on products from the document /my_folder/MSFT FY25Q2 10-Q FINAL.docx&quot;</span>
</code></pre></div></p> <p>Files used: - <code>MSFT FY25Q2 10-Q FINAL.docx</code> from <a href=https://cdn-dynmedia-1.microsoft.com/is/content/microsoftcorp/FY25Q2-zip>Microsoft Quarterly Report asset package</a></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">❌</td> </tr> </tbody> </table> <p><strong>Notes</strong>: - VectorChromaQueryEngine could not answer the question.</p> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=go>1: /my_folder/MSFT FY25Q2 10-Q FINAL.docx</span>
<a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a>
<a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=go>Queries:</span>
<a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=go>1: What was revenue on products?</span>
<a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=go>Answer: For the three months ended December 31, 2024, revenue on products was $16,219 million. For the six months ended December 31, 2024, revenue on products was $31,491 million.</span>
</code></pre></div></p> <h3 id=task-19-url-to-web-page-with-query-to-summarize>Task 19: URL to web page with query to summarize<a class=headerlink href=#task-19-url-to-web-page-with-query-to-summarize title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=s2>&quot;Tell me about the ReasoningAgent, details here https://docs.ag2.ai/docs/user-guide/reference-agents/reasoningagent&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=go>1: https://docs.ag2.ai/docs/user-guide/reference-agents/reasoningagent</span>
<a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a>
<a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=go>Queries:</span>
<a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=go>1: Tell me about the ReasoningAgent.</span>
<a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a><span class=go>Answer: The ReasoningAgent is designed to enhance the reasoning capabilities of language models through a systematic exploration of thought processes, utilizing the Tree of Thoughts (ToT) framework. It enables large language models (LLMs) like GPT-4 and Llama to break down complex problems into manageable steps and explore multiple solution paths simultaneously.</span>
<a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a>
<a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=go>Key Features and Capabilities:</span>
<a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a><span class=go>1. Search Strategies: The ReasoningAgent supports various search strategies for exploring the reasoning space, including Beam Search, Monte Carlo Tree Search (MCTS), and Language Agent Tree Search (LATS).</span>
<a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a><span class=go>2. Core Components: It includes a Thinker Agent, Grader Agent, Tree Structure, Visualization Tools, and Logging Features.</span>
<a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a><span class=go>3. Configuration Options: Highly configurable through a single `reason_config` dictionary.</span>
<a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a><span class=go>4. Chain-of-Thought Reasoning: Employs depth-first search (DFS) for simple linear reasoning.</span>
<a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a>
<a id=__codelineno-37-14 name=__codelineno-37-14 href=#__codelineno-37-14></a><span class=go>Overall, the ReasoningAgent is a versatile tool aimed at improving reasoning capabilities within LLMs through structured exploration and evaluation.</span>
</code></pre></div></p> <h3 id=task-20a-local-files-pdf-and-docx-one-query-to-cover-both>Task 20a: Local files, PDF and DOCX, one query to cover both<a class=headerlink href=#task-20a-local-files-pdf-and-docx-one-query-to-cover-both title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=s2>&quot;Load &#39;NVIDIAAn.pdf&#39; and &#39;MSFT FY25Q2 10-Q FINAL.docx&#39; from /my_folder/ and tell me the latest quarter&#39;s product revenues for each&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">✅</td> </tr> </tbody> </table> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=go>1: /my_folder/NVIDIAAn.pdf</span>
<a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=go>2: /my_folder/MSFT FY25Q2 10-Q FINAL.docx</span>
<a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a>
<a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a><span class=go>Queries:</span>
<a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a><span class=go>1: What are the latest quarter&#39;s product revenues for NVIDIA?</span>
<a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=go>Answer: For the third quarter of fiscal 2025, NVIDIA reported revenues of $35.1 billion. Specifically, Data Center revenue reached $30.8 billion, representing a significant increase of 17% from the previous quarter and a remarkable 112% increase from the same quarter a year ago.</span>
<a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a>
<a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a><span class=go>2: What are the latest quarter&#39;s product revenues for Microsoft?</span>
<a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a><span class=go>Answer: For the latest quarter ended December 31, 2024, Microsoft reported total revenues of $69.632 billion, with specific contributions from various segments: Microsoft 365 Commercial products and cloud services revenue increased by 15%, Intelligent Cloud revenue increased driven by Azure and other cloud services, and More Personal Computing revenue remained relatively unchanged.</span>
</code></pre></div></p> <h3 id=task-20b-follow-up-query-to-docagent>Task 20b: Follow-up query to DocAgent<a class=headerlink href=#task-20b-follow-up-query-to-docagent title="Permanent link">#</a></h3> <p>Task Message: <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=s2>&quot;Get Microsoft&#39;s operating income for their latest quarter and NVIDIA&#39;s GAAP operating income for their latest quarter.&quot;</span>
</code></pre></div></p> <table> <thead> <tr> <th style="text-align: center;">Ingested</th> <th style="text-align: center;">InMemoryQueryEngine Query</th> <th style="text-align: center;">Chroma Query Engine</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">N/A</td> <td style="text-align: center;">✅</td> <td style="text-align: center;">❌</td> </tr> </tbody> </table> <p><strong>Notes</strong>: - VectorChromaQueryEngine could not correctly answer the Microsoft operating income figure, it could only provide a note about the amount it increased.</p> <p>Sample output: <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=go>Ingestions:</span>
<a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class=go>No ingestions</span>
<a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a>
<a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a><span class=go>Queries:</span>
<a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a><span class=go>1: What is Microsoft&#39;s operating income for their latest quarter?</span>
<a id=__codelineno-41-6 name=__codelineno-41-6 href=#__codelineno-41-6></a><span class=go>Answer: For the latest quarter ended December 31, 2024, Microsoft&#39;s operating income was reported as $31.653 billion.</span>
<a id=__codelineno-41-7 name=__codelineno-41-7 href=#__codelineno-41-7></a><span class=go>2: What is NVIDIA&#39;s GAAP operating income for their latest quarter?</span>
<a id=__codelineno-41-8 name=__codelineno-41-8 href=#__codelineno-41-8></a><span class=go>Answer: For NVIDIA&#39;s latest quarter ended October 27, 2024, the GAAP operating income was $21.869 billion.</span>
</code></pre></div></p> <h3 id=test-code>Test Code<a class=headerlink href=#test-code title="Permanent link">#</a></h3> <p>Here is a basic Python code in line with the tests above. You will need to have <code>OPENAI_API_KEY</code> set in your environment variables.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen.agents.experimental</span><span class=w> </span><span class=kn>import</span> <span class=n>DocAgent</span><span class=p>,</span> <span class=n>InMemoryQueryEngine</span>
<a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=kn>import</span><span class=w> </span><span class=nn>json</span>
<a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a>
<a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=n>llm_config</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;api_type&quot;</span><span class=p>:</span> <span class=s2>&quot;openai&quot;</span><span class=p>,</span> <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span> <span class=s2>&quot;cache_seed&quot;</span><span class=p>:</span> <span class=kc>None</span><span class=p>}</span>
<a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a>
<a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a><span class=n>llm_config_list</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;config_list&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>llm_config</span><span class=p>]}</span>
<a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a>
<a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a><span class=n>asking_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;asking_agent&quot;</span><span class=p>,</span> <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span> <span class=n>human_input_mode</span><span class=o>=</span><span class=s2>&quot;ALWAYS&quot;</span><span class=p>)</span>
<a id=__codelineno-42-10 name=__codelineno-42-10 href=#__codelineno-42-10></a>
<a id=__codelineno-42-11 name=__codelineno-42-11 href=#__codelineno-42-11></a><span class=c1># InMemory Query Engine</span>
<a id=__codelineno-42-12 name=__codelineno-42-12 href=#__codelineno-42-12></a><span class=n>inmemory_qe</span> <span class=o>=</span> <span class=n>InMemoryQueryEngine</span><span class=p>(</span><span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config_list</span><span class=p>)</span>
<a id=__codelineno-42-13 name=__codelineno-42-13 href=#__codelineno-42-13></a>
<a id=__codelineno-42-14 name=__codelineno-42-14 href=#__codelineno-42-14></a><span class=n>doc_agent</span> <span class=o>=</span> <span class=n>DocAgent</span><span class=p>(</span>
<a id=__codelineno-42-15 name=__codelineno-42-15 href=#__codelineno-42-15></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;doc_agent&quot;</span><span class=p>,</span>
<a id=__codelineno-42-16 name=__codelineno-42-16 href=#__codelineno-42-16></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-42-17 name=__codelineno-42-17 href=#__codelineno-42-17></a>    <span class=n>query_engine</span><span class=o>=</span><span class=n>inmemory_qe</span><span class=p>,</span> <span class=c1># Comment this out if you want to use the default chroma vector store</span>
<a id=__codelineno-42-18 name=__codelineno-42-18 href=#__codelineno-42-18></a>    <span class=c1># collection_name=&quot;my_collection_name&quot;, # If using chroma, set unique collection names per run/question</span>
<a id=__codelineno-42-19 name=__codelineno-42-19 href=#__codelineno-42-19></a><span class=p>)</span>
<a id=__codelineno-42-20 name=__codelineno-42-20 href=#__codelineno-42-20></a>
<a id=__codelineno-42-21 name=__codelineno-42-21 href=#__codelineno-42-21></a><span class=c1># 1. Markdown URL</span>
<a id=__codelineno-42-22 name=__codelineno-42-22 href=#__codelineno-42-22></a><span class=n>task_message</span> <span class=o>=</span> <span class=s2>&quot;Retrieve the document from https://raw.githubusercontent.com/microsoft/FLAML/main/website/docs/Examples/Integrate%20-%20Spark.md and summarise it.&quot;</span>
<a id=__codelineno-42-23 name=__codelineno-42-23 href=#__codelineno-42-23></a>
<a id=__codelineno-42-24 name=__codelineno-42-24 href=#__codelineno-42-24></a><span class=c1># 2. DOCX URL</span>
<a id=__codelineno-42-25 name=__codelineno-42-25 href=#__codelineno-42-25></a><span class=c1># task_message = &quot;Retrieve this annual report and tell me the highlights: https://c.s-microsoft.com/en-us/CMSFiles/2023_Annual_Report.docx?version=dfd6ff7f-0999-881d-bedf-c6d9dadab40b&quot;</span>
<a id=__codelineno-42-26 name=__codelineno-42-26 href=#__codelineno-42-26></a>
<a id=__codelineno-42-27 name=__codelineno-42-27 href=#__codelineno-42-27></a><span class=c1># 3. PDF URL</span>
<a id=__codelineno-42-28 name=__codelineno-42-28 href=#__codelineno-42-28></a><span class=c1># task_message = &quot;Retrieve the quarterly financials from https://www.adobe.com/cc-shared/assets/investor-relations/pdfs/11214202/a56sthg53egr.pdf and tell me what the total subscription revenue was in the latest quarter.&quot;</span>
<a id=__codelineno-42-29 name=__codelineno-42-29 href=#__codelineno-42-29></a>
<a id=__codelineno-42-30 name=__codelineno-42-30 href=#__codelineno-42-30></a><span class=c1># 4. PDF URL</span>
<a id=__codelineno-42-31 name=__codelineno-42-31 href=#__codelineno-42-31></a><span class=c1># task_message = &quot;What&#39;s this document about? https://www.cpaaustralia.com.au/-/media/project/cpa/corporate/documents/tools-and-resources/financial-reporting/guide-to-understanding-annual-reporting.pdf?rev=63cea2139de642f784b47ee2acddf75a&quot;</span>
<a id=__codelineno-42-32 name=__codelineno-42-32 href=#__codelineno-42-32></a>
<a id=__codelineno-42-33 name=__codelineno-42-33 href=#__codelineno-42-33></a><span class=c1># 5. PDF file</span>
<a id=__codelineno-42-34 name=__codelineno-42-34 href=#__codelineno-42-34></a><span class=c1># task_message = &quot;What&#39;s this document about? /my_folder/guide-to-understanding-annual-reporting.pdf&quot;</span>
<a id=__codelineno-42-35 name=__codelineno-42-35 href=#__codelineno-42-35></a>
<a id=__codelineno-42-36 name=__codelineno-42-36 href=#__codelineno-42-36></a><span class=c1># 6. JPG URL (Invoice)</span>
<a id=__codelineno-42-37 name=__codelineno-42-37 href=#__codelineno-42-37></a><span class=c1># task_message = &quot;What&#39;s the total due for this invoice? https://user-images.githubusercontent.com/26280625/27857671-e13cf85e-6172-11e7-81dd-c2fe5d1dfd2e.jpg&quot;</span>
<a id=__codelineno-42-38 name=__codelineno-42-38 href=#__codelineno-42-38></a>
<a id=__codelineno-42-39 name=__codelineno-42-39 href=#__codelineno-42-39></a><span class=c1># 7. PNG file (Invoice)</span>
<a id=__codelineno-42-40 name=__codelineno-42-40 href=#__codelineno-42-40></a><span class=c1># task_message = &quot;What&#39;s the total due for this invoice? /my_folder/ContosoInvoice.png&quot;</span>
<a id=__codelineno-42-41 name=__codelineno-42-41 href=#__codelineno-42-41></a>
<a id=__codelineno-42-42 name=__codelineno-42-42 href=#__codelineno-42-42></a><span class=c1># 8. XLSX redirected URL</span>
<a id=__codelineno-42-43 name=__codelineno-42-43 href=#__codelineno-42-43></a><span class=c1># task_message = &quot;Tell me about the Carretera product in Canada from https://go.microsoft.com/fwlink/?LinkID=521962&quot;</span>
<a id=__codelineno-42-44 name=__codelineno-42-44 href=#__codelineno-42-44></a>
<a id=__codelineno-42-45 name=__codelineno-42-45 href=#__codelineno-42-45></a><span class=c1># 9. XLSX URL (multiple tabs)</span>
<a id=__codelineno-42-46 name=__codelineno-42-46 href=#__codelineno-42-46></a><span class=c1># task_message = &quot;What was the total payment to AECOM Australia consultancy from https://data.sa.gov.au/data/dataset/be2febed-1982-47c6-bd42-e0d600c29b70/resource/0d72c0e3-94c1-4050-a569-d3a1531f29a3/download/2022-2023-ohpsa-annual-report-statistics.xlsx&quot;</span>
<a id=__codelineno-42-47 name=__codelineno-42-47 href=#__codelineno-42-47></a>
<a id=__codelineno-42-48 name=__codelineno-42-48 href=#__codelineno-42-48></a><span class=c1># 10. CSV URL (should be &quot;3&quot;)</span>
<a id=__codelineno-42-49 name=__codelineno-42-49 href=#__codelineno-42-49></a><span class=c1># task_message = &quot;What were the number of consultants below $10,000 in the 2018-2019 year from https://data.sa.gov.au/data/dataset/d5152d51-b125-48d8-a561-ec3d9d6610b9/resource/c0943eac-9210-4e9e-b88b-2aa00a58066d/download/country-arts-sa-annual-report-regulatory-data.csv&quot;</span>
<a id=__codelineno-42-50 name=__codelineno-42-50 href=#__codelineno-42-50></a>
<a id=__codelineno-42-51 name=__codelineno-42-51 href=#__codelineno-42-51></a><span class=c1># 11. CSV URL</span>
<a id=__codelineno-42-52 name=__codelineno-42-52 href=#__codelineno-42-52></a><span class=c1># task_message = &quot;Summarise this for me, https://www.stats.govt.nz/assets/Uploads/Research-and-development-survey/Research-and-development-survey-2023/Download-data/research-and-development-survey-2023-csv-notes.csv&quot;</span>
<a id=__codelineno-42-53 name=__codelineno-42-53 href=#__codelineno-42-53></a>
<a id=__codelineno-42-54 name=__codelineno-42-54 href=#__codelineno-42-54></a><span class=c1># 12. CSV URL with unrelated query</span>
<a id=__codelineno-42-55 name=__codelineno-42-55 href=#__codelineno-42-55></a><span class=c1># task_message = &quot;What was Microsoft&#39;s latest quarter GAAP product revenues, see https://www.stats.govt.nz/assets/Uploads/Research-and-development-survey/Research-and-development-survey-2023/Download-data/research-and-development-survey-2023-csv-notes.csv&quot;</span>
<a id=__codelineno-42-56 name=__codelineno-42-56 href=#__codelineno-42-56></a>
<a id=__codelineno-42-57 name=__codelineno-42-57 href=#__codelineno-42-57></a><span class=c1># 13. Ingest Markdown and ask question</span>
<a id=__codelineno-42-58 name=__codelineno-42-58 href=#__codelineno-42-58></a><span class=c1># task_message = &quot;from /my_folder load both test_text.md and test_text_v2.md and compare the two stories.&quot;</span>
<a id=__codelineno-42-59 name=__codelineno-42-59 href=#__codelineno-42-59></a>
<a id=__codelineno-42-60 name=__codelineno-42-60 href=#__codelineno-42-60></a><span class=c1># 14. Ingest Markdown and ask wrong question (returns the correct message that it doesn&#39;t have the knowledge)</span>
<a id=__codelineno-42-61 name=__codelineno-42-61 href=#__codelineno-42-61></a><span class=c1># task_message = &quot;from /my_folder load both test_text.md and test_text_v2.md and explain who Bob Billy is.&quot;</span>
<a id=__codelineno-42-62 name=__codelineno-42-62 href=#__codelineno-42-62></a>
<a id=__codelineno-42-63 name=__codelineno-42-63 href=#__codelineno-42-63></a><span class=c1># 15. Ingest Markdown and ask wrong question that an LLM could respond to but shouldn&#39;t</span>
<a id=__codelineno-42-64 name=__codelineno-42-64 href=#__codelineno-42-64></a><span class=c1># task_message = &quot;from /my_folder load both test_text.md and test_text_v2.md and explain who Michael Jackson is.&quot;</span>
<a id=__codelineno-42-65 name=__codelineno-42-65 href=#__codelineno-42-65></a>
<a id=__codelineno-42-66 name=__codelineno-42-66 href=#__codelineno-42-66></a><span class=c1># 16. No ingestions and returns a message accordingly</span>
<a id=__codelineno-42-67 name=__codelineno-42-67 href=#__codelineno-42-67></a><span class=c1># task_message = &quot;Compare the two stories ingested.&quot;</span>
<a id=__codelineno-42-68 name=__codelineno-42-68 href=#__codelineno-42-68></a>
<a id=__codelineno-42-69 name=__codelineno-42-69 href=#__codelineno-42-69></a><span class=c1># 17. PDF file</span>
<a id=__codelineno-42-70 name=__codelineno-42-70 href=#__codelineno-42-70></a><span class=c1># task_message=&quot;What was net GAAP revenue on products from the document /my_folder/FY25_Q1_Consolidated_Financial_Statements.pdf&quot;</span>
<a id=__codelineno-42-71 name=__codelineno-42-71 href=#__codelineno-42-71></a>
<a id=__codelineno-42-72 name=__codelineno-42-72 href=#__codelineno-42-72></a><span class=c1># 18. DOCX file</span>
<a id=__codelineno-42-73 name=__codelineno-42-73 href=#__codelineno-42-73></a><span class=c1># task_message=&quot;What was revenue on products from the document /my_folder/MSFT FY25Q2 10-Q FINAL.docx&quot;</span>
<a id=__codelineno-42-74 name=__codelineno-42-74 href=#__codelineno-42-74></a>
<a id=__codelineno-42-75 name=__codelineno-42-75 href=#__codelineno-42-75></a><span class=c1># 19. URL</span>
<a id=__codelineno-42-76 name=__codelineno-42-76 href=#__codelineno-42-76></a><span class=c1># task_message=&quot;Tell me about the ReasoningAgent, details here https://docs.ag2.ai/docs/user-guide/reference-agents/reasoningagent&quot;</span>
<a id=__codelineno-42-77 name=__codelineno-42-77 href=#__codelineno-42-77></a>
<a id=__codelineno-42-78 name=__codelineno-42-78 href=#__codelineno-42-78></a><span class=c1># 20a. Multiple files and queries</span>
<a id=__codelineno-42-79 name=__codelineno-42-79 href=#__codelineno-42-79></a><span class=c1># task_message=&quot;Load &#39;NVIDIAAn.pdf&#39; and &#39;MSFT FY25Q2 10-Q FINAL.docx&#39; from /my_folder and tell me the latest quarter&#39;s product revenues for each&quot;</span>
<a id=__codelineno-42-80 name=__codelineno-42-80 href=#__codelineno-42-80></a><span class=c1># 20b. Follow-up question using the same collection (if using Chroma otherwise if in memory will just ask in user input):</span>
<a id=__codelineno-42-81 name=__codelineno-42-81 href=#__codelineno-42-81></a><span class=c1># &quot;Get Microsoft&#39;s operating income for their latest quarter and NVIDIA&#39;s GAAP operating income for their latest quarter.&quot;</span>
<a id=__codelineno-42-82 name=__codelineno-42-82 href=#__codelineno-42-82></a>
<a id=__codelineno-42-83 name=__codelineno-42-83 href=#__codelineno-42-83></a><span class=n>result</span> <span class=o>=</span> <span class=n>asking_agent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span><span class=n>recipient</span><span class=o>=</span><span class=n>doc_agent</span><span class=p>,</span> <span class=n>message</span><span class=o>=</span><span class=n>task_message</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-42-84 name=__codelineno-42-84 href=#__codelineno-42-84></a>
<a id=__codelineno-42-85 name=__codelineno-42-85 href=#__codelineno-42-85></a><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;RESULT: </span><span class=si>{</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>chat_history</span><span class=p>,</span><span class=w> </span><span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-03-12T01:15:25+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-03-12</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../../../js/timeago.min.js></script> <script src=../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>
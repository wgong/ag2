<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=https://ag2ai.github.io/ag2/latest/docs/api-reference/autogen/agentchat/contrib/swarm_agent/SwarmAgent/ rel=canonical><link href=../ON_CONDITION/ rel=prev><link href=../SwarmResult/ rel=next><link rel=icon href=../../../../../../../assets/img/favicon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.4"><title>SwarmAgent - AG2</title><link rel=stylesheet href=../../../../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../../../css/timeago.css><link rel=stylesheet href=../../../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../../../stylesheets/extra.9e326b.min.css><script>__md_scope=new URL("../../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - SwarmAgent"><meta property=og:description content="A programming framework for agentic AI"><meta content=https://ag2ai.github.io/ag2/latest/docs/api-reference/autogen/agentchat/contrib/swarm_agent/SwarmAgent/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - SwarmAgent"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link href=../../../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> You're viewing the <strong class=primary-text>work in progress</strong> version of the documentation. Please click <a rel=me href=http://docs.ag2.ai><strong>here</strong></a> for the latest. </div> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> SwarmAgent </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../../../../user-guide/basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../AfterWork/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../../../../faq/FAQ/ class=md-tabs__link> FAQs </a> </li> <li class=md-tabs__item> <a href=../../../../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../user-guide/basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> autogen </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> autogen </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../AfterWork/ class=md-nav__link> <span class=md-ellipsis> AfterWork </span> </a> </li> <li class=md-nav__item> <a href=../../../../AfterWorkOption/ class=md-nav__link> <span class=md-ellipsis> AfterWorkOption </span> </a> </li> <li class=md-nav__item> <a href=../../../../Agent/ class=md-nav__link> <span class=md-ellipsis> Agent </span> </a> </li> <li class=md-nav__item> <a href=../../../../AgentNameConflictError/ class=md-nav__link> <span class=md-ellipsis> AgentNameConflictError </span> </a> </li> <li class=md-nav__item> <a href=../../../../AssistantAgent/ class=md-nav__link> <span class=md-ellipsis> AssistantAgent </span> </a> </li> <li class=md-nav__item> <a href=../../../../Cache/ class=md-nav__link> <span class=md-ellipsis> Cache </span> </a> </li> <li class=md-nav__item> <a href=../../../../ChatCompletion/ class=md-nav__link> <span class=md-ellipsis> ChatCompletion </span> </a> </li> <li class=md-nav__item> <a href=../../../../ChatResult/ class=md-nav__link> <span class=md-ellipsis> ChatResult </span> </a> </li> <li class=md-nav__item> <a href=../../../../Completion/ class=md-nav__link> <span class=md-ellipsis> Completion </span> </a> </li> <li class=md-nav__item> <a href=../../../../ConversableAgent/ class=md-nav__link> <span class=md-ellipsis> ConversableAgent </span> </a> </li> <li class=md-nav__item> <a href=../../../../GroupChat/ class=md-nav__link> <span class=md-ellipsis> GroupChat </span> </a> </li> <li class=md-nav__item> <a href=../../../../GroupChatManager/ class=md-nav__link> <span class=md-ellipsis> GroupChatManager </span> </a> </li> <li class=md-nav__item> <a href=../../../../InvalidCarryOverTypeError/ class=md-nav__link> <span class=md-ellipsis> InvalidCarryOverTypeError </span> </a> </li> <li class=md-nav__item> <a href=../../../../ModelClient/ class=md-nav__link> <span class=md-ellipsis> ModelClient </span> </a> </li> <li class=md-nav__item> <a href=../../../../NoEligibleSpeakerError/ class=md-nav__link> <span class=md-ellipsis> NoEligibleSpeakerError </span> </a> </li> <li class=md-nav__item> <a href=../../../../OnCondition/ class=md-nav__link> <span class=md-ellipsis> OnCondition </span> </a> </li> <li class=md-nav__item> <a href=../../../../OpenAIWrapper/ class=md-nav__link> <span class=md-ellipsis> OpenAIWrapper </span> </a> </li> <li class=md-nav__item> <a href=../../../../SenderRequiredError/ class=md-nav__link> <span class=md-ellipsis> SenderRequiredError </span> </a> </li> <li class=md-nav__item> <a href=../../../../UndefinedNextAgentError/ class=md-nav__link> <span class=md-ellipsis> UndefinedNextAgentError </span> </a> </li> <li class=md-nav__item> <a href=../../../../UserProxyAgent/ class=md-nav__link> <span class=md-ellipsis> UserProxyAgent </span> </a> </li> <li class=md-nav__item> <a href=../../../../a_initiate_swarm_chat/ class=md-nav__link> <span class=md-ellipsis> a_initiate_swarm_chat </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_from_dotenv/ class=md-nav__link> <span class=md-ellipsis> config_list_from_dotenv </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_from_json/ class=md-nav__link> <span class=md-ellipsis> config_list_from_json </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_from_models/ class=md-nav__link> <span class=md-ellipsis> config_list_from_models </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_gpt4_gpt35/ class=md-nav__link> <span class=md-ellipsis> config_list_gpt4_gpt35 </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_openai_aoai/ class=md-nav__link> <span class=md-ellipsis> config_list_openai_aoai </span> </a> </li> <li class=md-nav__item> <a href=../../../../filter_config/ class=md-nav__link> <span class=md-ellipsis> filter_config </span> </a> </li> <li class=md-nav__item> <a href=../../../../gather_usage_summary/ class=md-nav__link> <span class=md-ellipsis> gather_usage_summary </span> </a> </li> <li class=md-nav__item> <a href=../../../../get_config_list/ class=md-nav__link> <span class=md-ellipsis> get_config_list </span> </a> </li> <li class=md-nav__item> <a href=../../../../initiate_chats/ class=md-nav__link> <span class=md-ellipsis> initiate_chats </span> </a> </li> <li class=md-nav__item> <a href=../../../../initiate_swarm_chat/ class=md-nav__link> <span class=md-ellipsis> initiate_swarm_chat </span> </a> </li> <li class=md-nav__item> <a href=../../../../register_function/ class=md-nav__link> <span class=md-ellipsis> register_function </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_33 checked> <label class=md-nav__link for=__nav_3_1_33 id=__nav_3_1_33_label tabindex=0> <span class=md-ellipsis> agentchat </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_33_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_33> <span class="md-nav__icon md-icon"></span> agentchat </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../chat/a_initiate_chats/ class=md-nav__link> <span class=md-ellipsis> chat </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_33_2 checked> <label class=md-nav__link for=__nav_3_1_33_2 id=__nav_3_1_33_2_label tabindex=0> <span class=md-ellipsis> contrib </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_33_2_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_33_2> <span class="md-nav__icon md-icon"></span> contrib </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../captainagent/AgentBuilder/ class=md-nav__link> <span class=md-ellipsis> captainagent </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../graph_rag/document/Document/ class=md-nav__link> <span class=md-ellipsis> graph_rag </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../rag/RAGQueryEngine/ class=md-nav__link> <span class=md-ellipsis> rag </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_33_2_4 checked> <label class=md-nav__link for=__nav_3_1_33_2_4 id=__nav_3_1_33_2_4_label tabindex=0> <span class=md-ellipsis> swarm_agent </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_1_33_2_4_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_33_2_4> <span class="md-nav__icon md-icon"></span> swarm_agent </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../AFTER_WORK/ class=md-nav__link> <span class=md-ellipsis> AFTER_WORK </span> </a> </li> <li class=md-nav__item> <a href=../ContextStr/ class=md-nav__link> <span class=md-ellipsis> ContextStr </span> </a> </li> <li class=md-nav__item> <a href=../ON_CONDITION/ class=md-nav__link> <span class=md-ellipsis> ON_CONDITION </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> SwarmAgent </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> SwarmAgent </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SwarmAgent </span> </a> <nav class=md-nav aria-label=Â SwarmAgent> <ul class=md-nav__list> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.description class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;description </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.system_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;system_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_CONFIG class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_CONFIG </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.MAX_CONSECUTIVE_AUTO_REPLY class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;MAX_CONSECUTIVE_AUTO_REPLY </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_SUMMARY_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_SUMMARY_METHOD </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.llm_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;llm_config </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.silent class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;silent </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run_executor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;run_executor </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.client_cache class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;client_cache </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.human_input_mode class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;human_input_mode </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reply_at_receive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;reply_at_receive </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.hook_lists class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hook_lists </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.code_executor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;code_executor </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.chat_messages class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;chat_messages </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.use_docker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;use_docker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.tools class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;tools </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.function_map class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;function_map </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.send class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_send class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_send </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.receive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;receive </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_receive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_receive </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_system_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_system_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.replace_reply_func class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;replace_reply_func </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_nested_chats class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_nested_chats </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_context class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.set_context class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_context </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_context class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_context </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.pop_context class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pop_context </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_max_consecutive_auto_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_max_consecutive_auto_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.max_consecutive_auto_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;max_consecutive_auto_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.chat_messages_for_summary class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;chat_messages_for_summary </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.last_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;last_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chat class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initiate_chat </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_initiate_chat class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_initiate_chat </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chats class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initiate_chats </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_initiate_chats class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_initiate_chats </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_chat_results class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_chat_results </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reset class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.stop_reply_at_receive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;stop_reply_at_receive </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reset_consecutive_auto_reply_counter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset_consecutive_auto_reply_counter </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.clear_history class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clear_history </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_oai_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_oai_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_oai_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_oai_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_code_execution_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_code_execution_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_function_call_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_function_call_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_function_call_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_function_call_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_tool_calls_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_tool_calls_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_tool_calls_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_tool_calls_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.check_termination_and_human_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;check_termination_and_human_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_check_termination_and_human_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_check_termination_and_human_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_human_input class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_human_input </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_get_human_input class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_get_human_input </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run_code class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run_code </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.execute_code_blocks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_code_blocks </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.execute_function class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_function </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_execute_function class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_execute_function </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_init_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_init_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_init_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_init_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.remove_tool_for_llm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_tool_for_llm </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_function class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_function </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_function_signature class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_function_signature </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_tool_signature class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_tool_signature </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.can_execute_function class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;can_execute_function </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_for_llm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_for_llm </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_for_execution class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_for_execution </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_model_client class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_model_client </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_hook class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_hook </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_agent_state_before_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_agent_state_before_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.process_all_messages_before_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;process_all_messages_before_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.process_last_received_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;process_last_received_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.print_usage_summary class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;print_usage_summary </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_actual_usage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_actual_usage </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_total_usage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_total_usage </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_run class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_run </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../SwarmResult/ class=md-nav__link> <span class=md-ellipsis> SwarmResult </span> </a> </li> <li class=md-nav__item> <a href=../create_swarm_transition/ class=md-nav__link> <span class=md-ellipsis> create_swarm_transition </span> </a> </li> <li class=md-nav__item> <a href=../register_hand_off/ class=md-nav__link> <span class=md-ellipsis> register_hand_off </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../conversable_agent/UPDATE_SYSTEM_MESSAGE/ class=md-nav__link> <span class=md-ellipsis> conversable_agent </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../realtime/experimental/AudioObserver/ class=md-nav__link> <span class=md-ellipsis> realtime </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../agents/contrib/TimeReplyAgent/ class=md-nav__link> <span class=md-ellipsis> agents </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../cache/AbstractCache/ class=md-nav__link> <span class=md-ellipsis> cache </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../coding/CodeBlock/ class=md-nav__link> <span class=md-ellipsis> coding </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../doc_utils/export_module/ class=md-nav__link> <span class=md-ellipsis> doc_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../exception_utils/ModelToolNotSupportedError/ class=md-nav__link> <span class=md-ellipsis> exception_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../import_utils/optional_import_block/ class=md-nav__link> <span class=md-ellipsis> import_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../interop/CrewAIInteroperability/ class=md-nav__link> <span class=md-ellipsis> interop </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../io/IOConsole/ class=md-nav__link> <span class=md-ellipsis> io </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../logger/FileLogger/ class=md-nav__link> <span class=md-ellipsis> logger </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../messages/BaseMessage/ class=md-nav__link> <span class=md-ellipsis> messages </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../oai/oai_models/_models/BaseModel/ class=md-nav__link> <span class=md-ellipsis> oai </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../tools/BaseContext/ class=md-nav__link> <span class=md-ellipsis> tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../faq/FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SwarmAgent </span> </a> <nav class=md-nav aria-label=Â SwarmAgent> <ul class=md-nav__list> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.description class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;description </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.system_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;system_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_CONFIG class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_CONFIG </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.MAX_CONSECUTIVE_AUTO_REPLY class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;MAX_CONSECUTIVE_AUTO_REPLY </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_SUMMARY_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_SUMMARY_METHOD </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.llm_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;llm_config </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.silent class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;silent </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run_executor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;run_executor </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.client_cache class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;client_cache </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.human_input_mode class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;human_input_mode </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reply_at_receive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;reply_at_receive </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.hook_lists class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hook_lists </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.code_executor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;code_executor </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.chat_messages class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;chat_messages </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.use_docker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;use_docker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.tools class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;tools </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.function_map class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;function_map </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.send class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_send class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_send </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.receive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;receive </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_receive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_receive </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_system_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_system_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.replace_reply_func class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;replace_reply_func </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_nested_chats class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_nested_chats </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_context class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.set_context class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_context </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_context class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_context </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.pop_context class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pop_context </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_max_consecutive_auto_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_max_consecutive_auto_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.max_consecutive_auto_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;max_consecutive_auto_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.chat_messages_for_summary class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;chat_messages_for_summary </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.last_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;last_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chat class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initiate_chat </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_initiate_chat class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_initiate_chat </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chats class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initiate_chats </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_initiate_chats class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_initiate_chats </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_chat_results class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_chat_results </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reset class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.stop_reply_at_receive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;stop_reply_at_receive </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reset_consecutive_auto_reply_counter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset_consecutive_auto_reply_counter </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.clear_history class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clear_history </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_oai_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_oai_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_oai_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_oai_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_code_execution_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_code_execution_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_function_call_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_function_call_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_function_call_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_function_call_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_tool_calls_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_tool_calls_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_tool_calls_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_tool_calls_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.check_termination_and_human_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;check_termination_and_human_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_check_termination_and_human_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_check_termination_and_human_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_human_input class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_human_input </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_get_human_input class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_get_human_input </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run_code class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run_code </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.execute_code_blocks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_code_blocks </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.execute_function class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_function </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_execute_function class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_execute_function </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_init_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_init_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_init_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_generate_init_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.remove_tool_for_llm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_tool_for_llm </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_function class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_function </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_function_signature class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_function_signature </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_tool_signature class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_tool_signature </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.can_execute_function class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;can_execute_function </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_for_llm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_for_llm </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_for_execution class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_for_execution </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_model_client class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_model_client </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_hook class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register_hook </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_agent_state_before_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_agent_state_before_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.process_all_messages_before_reply class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;process_all_messages_before_reply </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.process_last_received_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;process_last_received_message </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.print_usage_summary class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;print_usage_summary </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_actual_usage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_actual_usage </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_total_usage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_total_usage </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_run class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_run </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/website/mkdocs/docs/docs/api-reference/autogen/agentchat/contrib/swarm_agent/SwarmAgent.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>SwarmAgent</h1> <div class="doc doc-object doc-class"> <h2 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">autogen.agentchat.contrib.swarm_agent.SwarmAgent</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent class=headerlink title="Permanent link">#</a></h2> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>SwarmAgent</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=autogen.agentchat.conversable_agent.ConversableAgent href=../../../../ConversableAgent/#autogen.ConversableAgent>ConversableAgent</a></code></p> <p>SwarmAgent is deprecated and has been incorporated into ConversableAgent, use ConversableAgent instead. SwarmAgent will be removed in a future version (TBD)</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/swarm_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1054>1054</a></span>
<span class=normal><a href=#__codelineno-0-1055>1055</a></span>
<span class=normal><a href=#__codelineno-0-1056>1056</a></span>
<span class=normal><a href=#__codelineno-0-1057>1057</a></span>
<span class=normal><a href=#__codelineno-0-1058>1058</a></span>
<span class=normal><a href=#__codelineno-0-1059>1059</a></span>
<span class=normal><a href=#__codelineno-0-1060>1060</a></span>
<span class=normal><a href=#__codelineno-0-1061>1061</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1054 name=__codelineno-0-1054></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a id=__codelineno-0-1055 name=__codelineno-0-1055></a>    <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span>
<a id=__codelineno-0-1056 name=__codelineno-0-1056></a>        <span class=s2>&quot;SwarmAgent is deprecated and has been incorporated into ConversableAgent, use ConversableAgent instead. SwarmAgent will be removed in a future version (TBD).&quot;</span><span class=p>,</span>
<a id=__codelineno-0-1057 name=__codelineno-0-1057></a>        <span class=ne>DeprecationWarning</span><span class=p>,</span>
<a id=__codelineno-0-1058 name=__codelineno-0-1058></a>        <span class=n>stacklevel</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
<a id=__codelineno-0-1059 name=__codelineno-0-1059></a>    <span class=p>)</span>
<a id=__codelineno-0-1060 name=__codelineno-0-1060></a>
<a id=__codelineno-0-1061 name=__codelineno-0-1061></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">name</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.name class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>name</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the name of the agent.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.description class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">description</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.description class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>description</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the description of the agent.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.system_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">system_message</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.system_message class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>system_message</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the system message.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_CONFIG class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">DEFAULT_CONFIG</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_CONFIG class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>DEFAULT_CONFIG</span> <span class=o>=</span> <span class=kc>False</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.MAX_CONSECUTIVE_AUTO_REPLY class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">MAX_CONSECUTIVE_AUTO_REPLY</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.MAX_CONSECUTIVE_AUTO_REPLY class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>MAX_CONSECUTIVE_AUTO_REPLY</span> <span class=o>=</span> <span class=mi>100</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_PROMPT class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">DEFAULT_SUMMARY_PROMPT</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_PROMPT class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>DEFAULT_SUMMARY_PROMPT</span> <span class=o>=</span> <span class=s1>&#39;Summarize the takeaway from the conversation. Do not add any introductory phrases.&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">DEFAULT_SUMMARY_METHOD</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>DEFAULT_SUMMARY_METHOD</span> <span class=o>=</span> <span class=s1>&#39;last_msg&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.llm_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">llm_config</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.llm_config class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>llm_config</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.silent class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">silent</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.silent class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>silent</span> <span class=o>=</span> <span class=n><span title=autogen.agentchat.conversable_agent.ConversableAgent(silent)>silent</span></span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.run_executor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">run_executor</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run_executor class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>run_executor</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.client_cache class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">client_cache</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.client_cache class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>client_cache</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.human_input_mode class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">human_input_mode</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.human_input_mode class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>human_input_mode</span> <span class=o>=</span> <span class=n><span title=autogen.agentchat.conversable_agent.ConversableAgent(human_input_mode)>human_input_mode</span></span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.reply_at_receive class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">reply_at_receive</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reply_at_receive class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>reply_at_receive</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=collections.defaultdict href=https://docs.python.org/3/library/collections.html#collections.defaultdict>defaultdict</a></span><span class=p>(</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.hook_lists class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">hook_lists</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.hook_lists class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>hook_lists</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;process_last_received_message&#39;</span><span class=p>:</span> <span class=p>[],</span> <span class=s1>&#39;process_all_messages_before_reply&#39;</span><span class=p>:</span> <span class=p>[],</span> <span class=s1>&#39;process_message_before_send&#39;</span><span class=p>:</span> <span class=p>[],</span> <span class=s1>&#39;update_agent_state&#39;</span><span class=p>:</span> <span class=p>[]}</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.code_executor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">code_executor</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.code_executor class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>code_executor</span>
</code></pre></div> <div class="doc doc-contents "> <p>The code executor used by this agent. Returns None if code execution is disabled.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.chat_messages class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">chat_messages</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.chat_messages class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>chat_messages</span>
</code></pre></div> <div class="doc doc-contents "> <p>A dictionary of conversations from agent to list of messages.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.use_docker class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">use_docker</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.use_docker class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>use_docker</span>
</code></pre></div> <div class="doc doc-contents "> <p>Bool value of whether to use docker to execute the code, or str value of the docker image name to use, or None when code execution is disabled.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.tools class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">tools</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.tools class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>tools</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the agent's tools (registered for LLM)</p> <p>Note this is a copy of the tools list, use add_tool and remove_tool to modify the tools list.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.function_map class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">function_map</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.function_map class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>function_map</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the function map.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.send class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">send</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.send class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>send</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>request_reply</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Send a message to another agent.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>message to be sent. The message could contain the following fields: - content (str or List): Required, the content of the message. (Can be None) - function_call (str): the name of the function to be called. - name (str): the name of the function to be called. - role (str): the role of the message, any role that is not "function" will be modified to "assistant". - context (dict): the context of the message, which will be passed to <a href=/docs/api-reference/autogen/OpenAIWrapper#create>OpenAIWrapper.create</a>. For example, one agent can send a message A as:</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> or <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> </tbody> </table> <p><div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=p>{</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=k>lambda</span> <span class=n>context</span><span class=p>:</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;use_tool_msg&quot;</span><span class=p>],</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=s2>&quot;context&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;use_tool_msg&quot;</span><span class=p>:</span> <span class=s2>&quot;Use tool X if they are relevant.&quot;</span><span class=p>},</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=p>}</span>
</code></pre></div> Next time, one agent can send a message B with a different "use_tool_msg". Then the content of message A will be refreshed to the new "use_tool_msg". So effectively, this provides a way for an agent to send a "link" and modify the content of the "link" later. recipient (Agent): the recipient of the message. request_reply (bool or None): whether to request a reply from the recipient. silent (bool or None): (Experimental) whether to print the message sent.</p> <table> <thead> <tr> <th><span class=doc-section-title>RAISES</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-raises-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </span> </td> <td class=doc-raises-details> <div class=doc-md-description> <p>if the message can't be converted into a valid ChatCompletion message.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1151>1151</a></span>
<span class=normal><a href=#__codelineno-0-1152>1152</a></span>
<span class=normal><a href=#__codelineno-0-1153>1153</a></span>
<span class=normal><a href=#__codelineno-0-1154>1154</a></span>
<span class=normal><a href=#__codelineno-0-1155>1155</a></span>
<span class=normal><a href=#__codelineno-0-1156>1156</a></span>
<span class=normal><a href=#__codelineno-0-1157>1157</a></span>
<span class=normal><a href=#__codelineno-0-1158>1158</a></span>
<span class=normal><a href=#__codelineno-0-1159>1159</a></span>
<span class=normal><a href=#__codelineno-0-1160>1160</a></span>
<span class=normal><a href=#__codelineno-0-1161>1161</a></span>
<span class=normal><a href=#__codelineno-0-1162>1162</a></span>
<span class=normal><a href=#__codelineno-0-1163>1163</a></span>
<span class=normal><a href=#__codelineno-0-1164>1164</a></span>
<span class=normal><a href=#__codelineno-0-1165>1165</a></span>
<span class=normal><a href=#__codelineno-0-1166>1166</a></span>
<span class=normal><a href=#__codelineno-0-1167>1167</a></span>
<span class=normal><a href=#__codelineno-0-1168>1168</a></span>
<span class=normal><a href=#__codelineno-0-1169>1169</a></span>
<span class=normal><a href=#__codelineno-0-1170>1170</a></span>
<span class=normal><a href=#__codelineno-0-1171>1171</a></span>
<span class=normal><a href=#__codelineno-0-1172>1172</a></span>
<span class=normal><a href=#__codelineno-0-1173>1173</a></span>
<span class=normal><a href=#__codelineno-0-1174>1174</a></span>
<span class=normal><a href=#__codelineno-0-1175>1175</a></span>
<span class=normal><a href=#__codelineno-0-1176>1176</a></span>
<span class=normal><a href=#__codelineno-0-1177>1177</a></span>
<span class=normal><a href=#__codelineno-0-1178>1178</a></span>
<span class=normal><a href=#__codelineno-0-1179>1179</a></span>
<span class=normal><a href=#__codelineno-0-1180>1180</a></span>
<span class=normal><a href=#__codelineno-0-1181>1181</a></span>
<span class=normal><a href=#__codelineno-0-1182>1182</a></span>
<span class=normal><a href=#__codelineno-0-1183>1183</a></span>
<span class=normal><a href=#__codelineno-0-1184>1184</a></span>
<span class=normal><a href=#__codelineno-0-1185>1185</a></span>
<span class=normal><a href=#__codelineno-0-1186>1186</a></span>
<span class=normal><a href=#__codelineno-0-1187>1187</a></span>
<span class=normal><a href=#__codelineno-0-1188>1188</a></span>
<span class=normal><a href=#__codelineno-0-1189>1189</a></span>
<span class=normal><a href=#__codelineno-0-1190>1190</a></span>
<span class=normal><a href=#__codelineno-0-1191>1191</a></span>
<span class=normal><a href=#__codelineno-0-1192>1192</a></span>
<span class=normal><a href=#__codelineno-0-1193>1193</a></span>
<span class=normal><a href=#__codelineno-0-1194>1194</a></span>
<span class=normal><a href=#__codelineno-0-1195>1195</a></span>
<span class=normal><a href=#__codelineno-0-1196>1196</a></span>
<span class=normal><a href=#__codelineno-0-1197>1197</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1151 name=__codelineno-0-1151></a><span class=k>def</span><span class=w> </span><span class=nf>send</span><span class=p>(</span>
<a id=__codelineno-0-1152 name=__codelineno-0-1152></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1153 name=__codelineno-0-1153></a>    <span class=n>message</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>],</span>
<a id=__codelineno-0-1154 name=__codelineno-0-1154></a>    <span class=n>recipient</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span>
<a id=__codelineno-0-1155 name=__codelineno-0-1155></a>    <span class=n>request_reply</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1156 name=__codelineno-0-1156></a>    <span class=n>silent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-1157 name=__codelineno-0-1157></a><span class=p>):</span>
<a id=__codelineno-0-1158 name=__codelineno-0-1158></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Send a message to another agent.</span>
<a id=__codelineno-0-1159 name=__codelineno-0-1159></a>
<a id=__codelineno-0-1160 name=__codelineno-0-1160></a><span class=sd>    Args:</span>
<a id=__codelineno-0-1161 name=__codelineno-0-1161></a><span class=sd>        message (dict or str): message to be sent.</span>
<a id=__codelineno-0-1162 name=__codelineno-0-1162></a><span class=sd>            The message could contain the following fields:</span>
<a id=__codelineno-0-1163 name=__codelineno-0-1163></a><span class=sd>            - content (str or List): Required, the content of the message. (Can be None)</span>
<a id=__codelineno-0-1164 name=__codelineno-0-1164></a><span class=sd>            - function_call (str): the name of the function to be called.</span>
<a id=__codelineno-0-1165 name=__codelineno-0-1165></a><span class=sd>            - name (str): the name of the function to be called.</span>
<a id=__codelineno-0-1166 name=__codelineno-0-1166></a><span class=sd>            - role (str): the role of the message, any role that is not &quot;function&quot;</span>
<a id=__codelineno-0-1167 name=__codelineno-0-1167></a><span class=sd>                will be modified to &quot;assistant&quot;.</span>
<a id=__codelineno-0-1168 name=__codelineno-0-1168></a><span class=sd>            - context (dict): the context of the message, which will be passed to</span>
<a id=__codelineno-0-1169 name=__codelineno-0-1169></a><span class=sd>                [OpenAIWrapper.create](/docs/api-reference/autogen/OpenAIWrapper#create).</span>
<a id=__codelineno-0-1170 name=__codelineno-0-1170></a><span class=sd>                For example, one agent can send a message A as:</span>
<a id=__codelineno-0-1171 name=__codelineno-0-1171></a><span class=sd>    ```python</span>
<a id=__codelineno-0-1172 name=__codelineno-0-1172></a><span class=sd>    {</span>
<a id=__codelineno-0-1173 name=__codelineno-0-1173></a><span class=sd>        &quot;content&quot;: lambda context: context[&quot;use_tool_msg&quot;],</span>
<a id=__codelineno-0-1174 name=__codelineno-0-1174></a><span class=sd>        &quot;context&quot;: {&quot;use_tool_msg&quot;: &quot;Use tool X if they are relevant.&quot;},</span>
<a id=__codelineno-0-1175 name=__codelineno-0-1175></a><span class=sd>    }</span>
<a id=__codelineno-0-1176 name=__codelineno-0-1176></a><span class=sd>    ```</span>
<a id=__codelineno-0-1177 name=__codelineno-0-1177></a><span class=sd>                Next time, one agent can send a message B with a different &quot;use_tool_msg&quot;.</span>
<a id=__codelineno-0-1178 name=__codelineno-0-1178></a><span class=sd>                Then the content of message A will be refreshed to the new &quot;use_tool_msg&quot;.</span>
<a id=__codelineno-0-1179 name=__codelineno-0-1179></a><span class=sd>                So effectively, this provides a way for an agent to send a &quot;link&quot; and modify</span>
<a id=__codelineno-0-1180 name=__codelineno-0-1180></a><span class=sd>                the content of the &quot;link&quot; later.</span>
<a id=__codelineno-0-1181 name=__codelineno-0-1181></a><span class=sd>        recipient (Agent): the recipient of the message.</span>
<a id=__codelineno-0-1182 name=__codelineno-0-1182></a><span class=sd>        request_reply (bool or None): whether to request a reply from the recipient.</span>
<a id=__codelineno-0-1183 name=__codelineno-0-1183></a><span class=sd>        silent (bool or None): (Experimental) whether to print the message sent.</span>
<a id=__codelineno-0-1184 name=__codelineno-0-1184></a>
<a id=__codelineno-0-1185 name=__codelineno-0-1185></a><span class=sd>    Raises:</span>
<a id=__codelineno-0-1186 name=__codelineno-0-1186></a><span class=sd>        ValueError: if the message can&#39;t be converted into a valid ChatCompletion message.</span>
<a id=__codelineno-0-1187 name=__codelineno-0-1187></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1188 name=__codelineno-0-1188></a>    <span class=n>message</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_process_message_before_send</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>ConversableAgent</span><span class=o>.</span><span class=n>_is_silent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>silent</span><span class=p>))</span>
<a id=__codelineno-0-1189 name=__codelineno-0-1189></a>    <span class=c1># When the agent composes and sends the message, the role of the message is &quot;assistant&quot;</span>
<a id=__codelineno-0-1190 name=__codelineno-0-1190></a>    <span class=c1># unless it&#39;s &quot;function&quot;.</span>
<a id=__codelineno-0-1191 name=__codelineno-0-1191></a>    <span class=n>valid</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_append_oai_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=s2>&quot;assistant&quot;</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>is_sending</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-1192 name=__codelineno-0-1192></a>    <span class=k>if</span> <span class=n>valid</span><span class=p>:</span>
<a id=__codelineno-0-1193 name=__codelineno-0-1193></a>        <span class=n>recipient</span><span class=o>.</span><span class=n>receive</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>request_reply</span><span class=p>,</span> <span class=n>silent</span><span class=p>)</span>
<a id=__codelineno-0-1194 name=__codelineno-0-1194></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1195 name=__codelineno-0-1195></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<a id=__codelineno-0-1196 name=__codelineno-0-1196></a>            <span class=s2>&quot;Message can&#39;t be converted into a valid ChatCompletion message. Either content or function_call must be provided.&quot;</span>
<a id=__codelineno-0-1197 name=__codelineno-0-1197></a>        <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_send class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_send</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_send class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_send</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>request_reply</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>(async) Send a message to another agent.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>message to be sent. The message could contain the following fields: - content (str or List): Required, the content of the message. (Can be None) - function_call (str): the name of the function to be called. - name (str): the name of the function to be called. - role (str): the role of the message, any role that is not "function" will be modified to "assistant". - context (dict): the context of the message, which will be passed to <a href=/docs/api-reference/autogen/OpenAIWrapper#create>OpenAIWrapper.create</a>. For example, one agent can send a message A as:</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> or <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> </tbody> </table> <p><div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=p>{</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=k>lambda</span> <span class=n>context</span><span class=p>:</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;use_tool_msg&quot;</span><span class=p>],</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=s2>&quot;context&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;use_tool_msg&quot;</span><span class=p>:</span> <span class=s2>&quot;Use tool X if they are relevant.&quot;</span><span class=p>},</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=p>}</span>
</code></pre></div> Next time, one agent can send a message B with a different "use_tool_msg". Then the content of message A will be refreshed to the new "use_tool_msg". So effectively, this provides a way for an agent to send a "link" and modify the content of the "link" later. recipient (Agent): the recipient of the message. request_reply (bool or None): whether to request a reply from the recipient. silent (bool or None): (Experimental) whether to print the message sent.</p> <table> <thead> <tr> <th><span class=doc-section-title>RAISES</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-raises-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </span> </td> <td class=doc-raises-details> <div class=doc-md-description> <p>if the message can't be converted into a valid ChatCompletion message.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1199>1199</a></span>
<span class=normal><a href=#__codelineno-0-1200>1200</a></span>
<span class=normal><a href=#__codelineno-0-1201>1201</a></span>
<span class=normal><a href=#__codelineno-0-1202>1202</a></span>
<span class=normal><a href=#__codelineno-0-1203>1203</a></span>
<span class=normal><a href=#__codelineno-0-1204>1204</a></span>
<span class=normal><a href=#__codelineno-0-1205>1205</a></span>
<span class=normal><a href=#__codelineno-0-1206>1206</a></span>
<span class=normal><a href=#__codelineno-0-1207>1207</a></span>
<span class=normal><a href=#__codelineno-0-1208>1208</a></span>
<span class=normal><a href=#__codelineno-0-1209>1209</a></span>
<span class=normal><a href=#__codelineno-0-1210>1210</a></span>
<span class=normal><a href=#__codelineno-0-1211>1211</a></span>
<span class=normal><a href=#__codelineno-0-1212>1212</a></span>
<span class=normal><a href=#__codelineno-0-1213>1213</a></span>
<span class=normal><a href=#__codelineno-0-1214>1214</a></span>
<span class=normal><a href=#__codelineno-0-1215>1215</a></span>
<span class=normal><a href=#__codelineno-0-1216>1216</a></span>
<span class=normal><a href=#__codelineno-0-1217>1217</a></span>
<span class=normal><a href=#__codelineno-0-1218>1218</a></span>
<span class=normal><a href=#__codelineno-0-1219>1219</a></span>
<span class=normal><a href=#__codelineno-0-1220>1220</a></span>
<span class=normal><a href=#__codelineno-0-1221>1221</a></span>
<span class=normal><a href=#__codelineno-0-1222>1222</a></span>
<span class=normal><a href=#__codelineno-0-1223>1223</a></span>
<span class=normal><a href=#__codelineno-0-1224>1224</a></span>
<span class=normal><a href=#__codelineno-0-1225>1225</a></span>
<span class=normal><a href=#__codelineno-0-1226>1226</a></span>
<span class=normal><a href=#__codelineno-0-1227>1227</a></span>
<span class=normal><a href=#__codelineno-0-1228>1228</a></span>
<span class=normal><a href=#__codelineno-0-1229>1229</a></span>
<span class=normal><a href=#__codelineno-0-1230>1230</a></span>
<span class=normal><a href=#__codelineno-0-1231>1231</a></span>
<span class=normal><a href=#__codelineno-0-1232>1232</a></span>
<span class=normal><a href=#__codelineno-0-1233>1233</a></span>
<span class=normal><a href=#__codelineno-0-1234>1234</a></span>
<span class=normal><a href=#__codelineno-0-1235>1235</a></span>
<span class=normal><a href=#__codelineno-0-1236>1236</a></span>
<span class=normal><a href=#__codelineno-0-1237>1237</a></span>
<span class=normal><a href=#__codelineno-0-1238>1238</a></span>
<span class=normal><a href=#__codelineno-0-1239>1239</a></span>
<span class=normal><a href=#__codelineno-0-1240>1240</a></span>
<span class=normal><a href=#__codelineno-0-1241>1241</a></span>
<span class=normal><a href=#__codelineno-0-1242>1242</a></span>
<span class=normal><a href=#__codelineno-0-1243>1243</a></span>
<span class=normal><a href=#__codelineno-0-1244>1244</a></span>
<span class=normal><a href=#__codelineno-0-1245>1245</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1199 name=__codelineno-0-1199></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_send</span><span class=p>(</span>
<a id=__codelineno-0-1200 name=__codelineno-0-1200></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1201 name=__codelineno-0-1201></a>    <span class=n>message</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>],</span>
<a id=__codelineno-0-1202 name=__codelineno-0-1202></a>    <span class=n>recipient</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span>
<a id=__codelineno-0-1203 name=__codelineno-0-1203></a>    <span class=n>request_reply</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1204 name=__codelineno-0-1204></a>    <span class=n>silent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-1205 name=__codelineno-0-1205></a><span class=p>):</span>
<a id=__codelineno-0-1206 name=__codelineno-0-1206></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(async) Send a message to another agent.</span>
<a id=__codelineno-0-1207 name=__codelineno-0-1207></a>
<a id=__codelineno-0-1208 name=__codelineno-0-1208></a><span class=sd>    Args:</span>
<a id=__codelineno-0-1209 name=__codelineno-0-1209></a><span class=sd>        message (dict or str): message to be sent.</span>
<a id=__codelineno-0-1210 name=__codelineno-0-1210></a><span class=sd>            The message could contain the following fields:</span>
<a id=__codelineno-0-1211 name=__codelineno-0-1211></a><span class=sd>            - content (str or List): Required, the content of the message. (Can be None)</span>
<a id=__codelineno-0-1212 name=__codelineno-0-1212></a><span class=sd>            - function_call (str): the name of the function to be called.</span>
<a id=__codelineno-0-1213 name=__codelineno-0-1213></a><span class=sd>            - name (str): the name of the function to be called.</span>
<a id=__codelineno-0-1214 name=__codelineno-0-1214></a><span class=sd>            - role (str): the role of the message, any role that is not &quot;function&quot;</span>
<a id=__codelineno-0-1215 name=__codelineno-0-1215></a><span class=sd>                will be modified to &quot;assistant&quot;.</span>
<a id=__codelineno-0-1216 name=__codelineno-0-1216></a><span class=sd>            - context (dict): the context of the message, which will be passed to</span>
<a id=__codelineno-0-1217 name=__codelineno-0-1217></a><span class=sd>                [OpenAIWrapper.create](/docs/api-reference/autogen/OpenAIWrapper#create).</span>
<a id=__codelineno-0-1218 name=__codelineno-0-1218></a><span class=sd>                For example, one agent can send a message A as:</span>
<a id=__codelineno-0-1219 name=__codelineno-0-1219></a><span class=sd>    ```python</span>
<a id=__codelineno-0-1220 name=__codelineno-0-1220></a><span class=sd>    {</span>
<a id=__codelineno-0-1221 name=__codelineno-0-1221></a><span class=sd>        &quot;content&quot;: lambda context: context[&quot;use_tool_msg&quot;],</span>
<a id=__codelineno-0-1222 name=__codelineno-0-1222></a><span class=sd>        &quot;context&quot;: {&quot;use_tool_msg&quot;: &quot;Use tool X if they are relevant.&quot;},</span>
<a id=__codelineno-0-1223 name=__codelineno-0-1223></a><span class=sd>    }</span>
<a id=__codelineno-0-1224 name=__codelineno-0-1224></a><span class=sd>    ```</span>
<a id=__codelineno-0-1225 name=__codelineno-0-1225></a><span class=sd>                Next time, one agent can send a message B with a different &quot;use_tool_msg&quot;.</span>
<a id=__codelineno-0-1226 name=__codelineno-0-1226></a><span class=sd>                Then the content of message A will be refreshed to the new &quot;use_tool_msg&quot;.</span>
<a id=__codelineno-0-1227 name=__codelineno-0-1227></a><span class=sd>                So effectively, this provides a way for an agent to send a &quot;link&quot; and modify</span>
<a id=__codelineno-0-1228 name=__codelineno-0-1228></a><span class=sd>                the content of the &quot;link&quot; later.</span>
<a id=__codelineno-0-1229 name=__codelineno-0-1229></a><span class=sd>        recipient (Agent): the recipient of the message.</span>
<a id=__codelineno-0-1230 name=__codelineno-0-1230></a><span class=sd>        request_reply (bool or None): whether to request a reply from the recipient.</span>
<a id=__codelineno-0-1231 name=__codelineno-0-1231></a><span class=sd>        silent (bool or None): (Experimental) whether to print the message sent.</span>
<a id=__codelineno-0-1232 name=__codelineno-0-1232></a>
<a id=__codelineno-0-1233 name=__codelineno-0-1233></a><span class=sd>    Raises:</span>
<a id=__codelineno-0-1234 name=__codelineno-0-1234></a><span class=sd>        ValueError: if the message can&#39;t be converted into a valid ChatCompletion message.</span>
<a id=__codelineno-0-1235 name=__codelineno-0-1235></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1236 name=__codelineno-0-1236></a>    <span class=n>message</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_process_message_before_send</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>ConversableAgent</span><span class=o>.</span><span class=n>_is_silent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>silent</span><span class=p>))</span>
<a id=__codelineno-0-1237 name=__codelineno-0-1237></a>    <span class=c1># When the agent composes and sends the message, the role of the message is &quot;assistant&quot;</span>
<a id=__codelineno-0-1238 name=__codelineno-0-1238></a>    <span class=c1># unless it&#39;s &quot;function&quot;.</span>
<a id=__codelineno-0-1239 name=__codelineno-0-1239></a>    <span class=n>valid</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_append_oai_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=s2>&quot;assistant&quot;</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>is_sending</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-1240 name=__codelineno-0-1240></a>    <span class=k>if</span> <span class=n>valid</span><span class=p>:</span>
<a id=__codelineno-0-1241 name=__codelineno-0-1241></a>        <span class=k>await</span> <span class=n>recipient</span><span class=o>.</span><span class=n>a_receive</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>request_reply</span><span class=p>,</span> <span class=n>silent</span><span class=p>)</span>
<a id=__codelineno-0-1242 name=__codelineno-0-1242></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1243 name=__codelineno-0-1243></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<a id=__codelineno-0-1244 name=__codelineno-0-1244></a>            <span class=s2>&quot;Message can&#39;t be converted into a valid ChatCompletion message. Either content or function_call must be provided.&quot;</span>
<a id=__codelineno-0-1245 name=__codelineno-0-1245></a>        <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.receive class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">receive</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.receive class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>receive</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>request_reply</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Receive a message from another agent.</p> <p>Once a message is received, this function sends a reply to the sender or stop. The reply can be generated automatically or entered manually by a human.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>message from the sender. If the type is dict, it may contain the following reserved fields (either content or function_call need to be provided). 1. "content": content of the message, can be None. 2. "function_call": a dictionary containing the function name and arguments. (deprecated in favor of "tool_calls") 3. "tool_calls": a list of dictionaries containing the function name and arguments. 4. "role": role of the message, can be "assistant", "user", "function", "tool". This field is only needed to distinguish between "function" or "assistant"/"user". 5. "name": In most cases, this field is not needed. When the role is "function", this field is needed to indicate the function name. 6. "context" (dict): the context of the message, which will be passed to <a href=/docs/api-reference/autogen/OpenAIWrapper#create>OpenAIWrapper.create</a>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> or <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>sender</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>sender of an Agent instance.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../../../../Agent/#autogen.Agent>Agent</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>request_reply</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether a reply is requested from the sender. If None, the value is determined by <code>self.reply_at_receive[sender]</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> or None</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>silent</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>(Experimental) whether to print the message received.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> or None</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RAISES</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-raises-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </span> </td> <td class=doc-raises-details> <div class=doc-md-description> <p>if the message can't be converted into a valid ChatCompletion message.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1268>1268</a></span>
<span class=normal><a href=#__codelineno-0-1269>1269</a></span>
<span class=normal><a href=#__codelineno-0-1270>1270</a></span>
<span class=normal><a href=#__codelineno-0-1271>1271</a></span>
<span class=normal><a href=#__codelineno-0-1272>1272</a></span>
<span class=normal><a href=#__codelineno-0-1273>1273</a></span>
<span class=normal><a href=#__codelineno-0-1274>1274</a></span>
<span class=normal><a href=#__codelineno-0-1275>1275</a></span>
<span class=normal><a href=#__codelineno-0-1276>1276</a></span>
<span class=normal><a href=#__codelineno-0-1277>1277</a></span>
<span class=normal><a href=#__codelineno-0-1278>1278</a></span>
<span class=normal><a href=#__codelineno-0-1279>1279</a></span>
<span class=normal><a href=#__codelineno-0-1280>1280</a></span>
<span class=normal><a href=#__codelineno-0-1281>1281</a></span>
<span class=normal><a href=#__codelineno-0-1282>1282</a></span>
<span class=normal><a href=#__codelineno-0-1283>1283</a></span>
<span class=normal><a href=#__codelineno-0-1284>1284</a></span>
<span class=normal><a href=#__codelineno-0-1285>1285</a></span>
<span class=normal><a href=#__codelineno-0-1286>1286</a></span>
<span class=normal><a href=#__codelineno-0-1287>1287</a></span>
<span class=normal><a href=#__codelineno-0-1288>1288</a></span>
<span class=normal><a href=#__codelineno-0-1289>1289</a></span>
<span class=normal><a href=#__codelineno-0-1290>1290</a></span>
<span class=normal><a href=#__codelineno-0-1291>1291</a></span>
<span class=normal><a href=#__codelineno-0-1292>1292</a></span>
<span class=normal><a href=#__codelineno-0-1293>1293</a></span>
<span class=normal><a href=#__codelineno-0-1294>1294</a></span>
<span class=normal><a href=#__codelineno-0-1295>1295</a></span>
<span class=normal><a href=#__codelineno-0-1296>1296</a></span>
<span class=normal><a href=#__codelineno-0-1297>1297</a></span>
<span class=normal><a href=#__codelineno-0-1298>1298</a></span>
<span class=normal><a href=#__codelineno-0-1299>1299</a></span>
<span class=normal><a href=#__codelineno-0-1300>1300</a></span>
<span class=normal><a href=#__codelineno-0-1301>1301</a></span>
<span class=normal><a href=#__codelineno-0-1302>1302</a></span>
<span class=normal><a href=#__codelineno-0-1303>1303</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1268 name=__codelineno-0-1268></a><span class=k>def</span><span class=w> </span><span class=nf>receive</span><span class=p>(</span>
<a id=__codelineno-0-1269 name=__codelineno-0-1269></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1270 name=__codelineno-0-1270></a>    <span class=n>message</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>],</span>
<a id=__codelineno-0-1271 name=__codelineno-0-1271></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span>
<a id=__codelineno-0-1272 name=__codelineno-0-1272></a>    <span class=n>request_reply</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1273 name=__codelineno-0-1273></a>    <span class=n>silent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-1274 name=__codelineno-0-1274></a><span class=p>):</span>
<a id=__codelineno-0-1275 name=__codelineno-0-1275></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Receive a message from another agent.</span>
<a id=__codelineno-0-1276 name=__codelineno-0-1276></a>
<a id=__codelineno-0-1277 name=__codelineno-0-1277></a><span class=sd>    Once a message is received, this function sends a reply to the sender or stop.</span>
<a id=__codelineno-0-1278 name=__codelineno-0-1278></a><span class=sd>    The reply can be generated automatically or entered manually by a human.</span>
<a id=__codelineno-0-1279 name=__codelineno-0-1279></a>
<a id=__codelineno-0-1280 name=__codelineno-0-1280></a><span class=sd>    Args:</span>
<a id=__codelineno-0-1281 name=__codelineno-0-1281></a><span class=sd>        message (dict or str): message from the sender. If the type is dict, it may contain the following reserved fields (either content or function_call need to be provided).</span>
<a id=__codelineno-0-1282 name=__codelineno-0-1282></a><span class=sd>            1. &quot;content&quot;: content of the message, can be None.</span>
<a id=__codelineno-0-1283 name=__codelineno-0-1283></a><span class=sd>            2. &quot;function_call&quot;: a dictionary containing the function name and arguments. (deprecated in favor of &quot;tool_calls&quot;)</span>
<a id=__codelineno-0-1284 name=__codelineno-0-1284></a><span class=sd>            3. &quot;tool_calls&quot;: a list of dictionaries containing the function name and arguments.</span>
<a id=__codelineno-0-1285 name=__codelineno-0-1285></a><span class=sd>            4. &quot;role&quot;: role of the message, can be &quot;assistant&quot;, &quot;user&quot;, &quot;function&quot;, &quot;tool&quot;.</span>
<a id=__codelineno-0-1286 name=__codelineno-0-1286></a><span class=sd>                This field is only needed to distinguish between &quot;function&quot; or &quot;assistant&quot;/&quot;user&quot;.</span>
<a id=__codelineno-0-1287 name=__codelineno-0-1287></a><span class=sd>            5. &quot;name&quot;: In most cases, this field is not needed. When the role is &quot;function&quot;, this field is needed to indicate the function name.</span>
<a id=__codelineno-0-1288 name=__codelineno-0-1288></a><span class=sd>            6. &quot;context&quot; (dict): the context of the message, which will be passed to</span>
<a id=__codelineno-0-1289 name=__codelineno-0-1289></a><span class=sd>                [OpenAIWrapper.create](/docs/api-reference/autogen/OpenAIWrapper#create).</span>
<a id=__codelineno-0-1290 name=__codelineno-0-1290></a><span class=sd>        sender: sender of an Agent instance.</span>
<a id=__codelineno-0-1291 name=__codelineno-0-1291></a><span class=sd>        request_reply (bool or None): whether a reply is requested from the sender.</span>
<a id=__codelineno-0-1292 name=__codelineno-0-1292></a><span class=sd>            If None, the value is determined by `self.reply_at_receive[sender]`.</span>
<a id=__codelineno-0-1293 name=__codelineno-0-1293></a><span class=sd>        silent (bool or None): (Experimental) whether to print the message received.</span>
<a id=__codelineno-0-1294 name=__codelineno-0-1294></a>
<a id=__codelineno-0-1295 name=__codelineno-0-1295></a><span class=sd>    Raises:</span>
<a id=__codelineno-0-1296 name=__codelineno-0-1296></a><span class=sd>        ValueError: if the message can&#39;t be converted into a valid ChatCompletion message.</span>
<a id=__codelineno-0-1297 name=__codelineno-0-1297></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1298 name=__codelineno-0-1298></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_process_received_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>silent</span><span class=p>)</span>
<a id=__codelineno-0-1299 name=__codelineno-0-1299></a>    <span class=k>if</span> <span class=n>request_reply</span> <span class=ow>is</span> <span class=kc>False</span> <span class=ow>or</span> <span class=p>(</span><span class=n>request_reply</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>reply_at_receive</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=ow>is</span> <span class=kc>False</span><span class=p>):</span>
<a id=__codelineno-0-1300 name=__codelineno-0-1300></a>        <span class=k>return</span>
<a id=__codelineno-0-1301 name=__codelineno-0-1301></a>    <span class=n>reply</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>chat_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>],</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>)</span>
<a id=__codelineno-0-1302 name=__codelineno-0-1302></a>    <span class=k>if</span> <span class=n>reply</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1303 name=__codelineno-0-1303></a>        <span class=bp>self</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>reply</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=n>silent</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_receive class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_receive</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_receive class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_receive</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>request_reply</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>(async) Receive a message from another agent.</p> <p>Once a message is received, this function sends a reply to the sender or stop. The reply can be generated automatically or entered manually by a human.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>message from the sender. If the type is dict, it may contain the following reserved fields (either content or function_call need to be provided). 1. "content": content of the message, can be None. 2. "function_call": a dictionary containing the function name and arguments. (deprecated in favor of "tool_calls") 3. "tool_calls": a list of dictionaries containing the function name and arguments. 4. "role": role of the message, can be "assistant", "user", "function". This field is only needed to distinguish between "function" or "assistant"/"user". 5. "name": In most cases, this field is not needed. When the role is "function", this field is needed to indicate the function name. 6. "context" (dict): the context of the message, which will be passed to <a href=/docs/api-reference/autogen/OpenAIWrapper#create>OpenAIWrapper.create</a>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> or <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>sender</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>sender of an Agent instance.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../../../../Agent/#autogen.Agent>Agent</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>request_reply</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether a reply is requested from the sender. If None, the value is determined by <code>self.reply_at_receive[sender]</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> or None</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>silent</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>(Experimental) whether to print the message received.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> or None</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RAISES</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-raises-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </span> </td> <td class=doc-raises-details> <div class=doc-md-description> <p>if the message can't be converted into a valid ChatCompletion message.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1305>1305</a></span>
<span class=normal><a href=#__codelineno-0-1306>1306</a></span>
<span class=normal><a href=#__codelineno-0-1307>1307</a></span>
<span class=normal><a href=#__codelineno-0-1308>1308</a></span>
<span class=normal><a href=#__codelineno-0-1309>1309</a></span>
<span class=normal><a href=#__codelineno-0-1310>1310</a></span>
<span class=normal><a href=#__codelineno-0-1311>1311</a></span>
<span class=normal><a href=#__codelineno-0-1312>1312</a></span>
<span class=normal><a href=#__codelineno-0-1313>1313</a></span>
<span class=normal><a href=#__codelineno-0-1314>1314</a></span>
<span class=normal><a href=#__codelineno-0-1315>1315</a></span>
<span class=normal><a href=#__codelineno-0-1316>1316</a></span>
<span class=normal><a href=#__codelineno-0-1317>1317</a></span>
<span class=normal><a href=#__codelineno-0-1318>1318</a></span>
<span class=normal><a href=#__codelineno-0-1319>1319</a></span>
<span class=normal><a href=#__codelineno-0-1320>1320</a></span>
<span class=normal><a href=#__codelineno-0-1321>1321</a></span>
<span class=normal><a href=#__codelineno-0-1322>1322</a></span>
<span class=normal><a href=#__codelineno-0-1323>1323</a></span>
<span class=normal><a href=#__codelineno-0-1324>1324</a></span>
<span class=normal><a href=#__codelineno-0-1325>1325</a></span>
<span class=normal><a href=#__codelineno-0-1326>1326</a></span>
<span class=normal><a href=#__codelineno-0-1327>1327</a></span>
<span class=normal><a href=#__codelineno-0-1328>1328</a></span>
<span class=normal><a href=#__codelineno-0-1329>1329</a></span>
<span class=normal><a href=#__codelineno-0-1330>1330</a></span>
<span class=normal><a href=#__codelineno-0-1331>1331</a></span>
<span class=normal><a href=#__codelineno-0-1332>1332</a></span>
<span class=normal><a href=#__codelineno-0-1333>1333</a></span>
<span class=normal><a href=#__codelineno-0-1334>1334</a></span>
<span class=normal><a href=#__codelineno-0-1335>1335</a></span>
<span class=normal><a href=#__codelineno-0-1336>1336</a></span>
<span class=normal><a href=#__codelineno-0-1337>1337</a></span>
<span class=normal><a href=#__codelineno-0-1338>1338</a></span>
<span class=normal><a href=#__codelineno-0-1339>1339</a></span>
<span class=normal><a href=#__codelineno-0-1340>1340</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1305 name=__codelineno-0-1305></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_receive</span><span class=p>(</span>
<a id=__codelineno-0-1306 name=__codelineno-0-1306></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1307 name=__codelineno-0-1307></a>    <span class=n>message</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>],</span>
<a id=__codelineno-0-1308 name=__codelineno-0-1308></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span>
<a id=__codelineno-0-1309 name=__codelineno-0-1309></a>    <span class=n>request_reply</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1310 name=__codelineno-0-1310></a>    <span class=n>silent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-1311 name=__codelineno-0-1311></a><span class=p>):</span>
<a id=__codelineno-0-1312 name=__codelineno-0-1312></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(async) Receive a message from another agent.</span>
<a id=__codelineno-0-1313 name=__codelineno-0-1313></a>
<a id=__codelineno-0-1314 name=__codelineno-0-1314></a><span class=sd>    Once a message is received, this function sends a reply to the sender or stop.</span>
<a id=__codelineno-0-1315 name=__codelineno-0-1315></a><span class=sd>    The reply can be generated automatically or entered manually by a human.</span>
<a id=__codelineno-0-1316 name=__codelineno-0-1316></a>
<a id=__codelineno-0-1317 name=__codelineno-0-1317></a><span class=sd>    Args:</span>
<a id=__codelineno-0-1318 name=__codelineno-0-1318></a><span class=sd>        message (dict or str): message from the sender. If the type is dict, it may contain the following reserved fields (either content or function_call need to be provided).</span>
<a id=__codelineno-0-1319 name=__codelineno-0-1319></a><span class=sd>            1. &quot;content&quot;: content of the message, can be None.</span>
<a id=__codelineno-0-1320 name=__codelineno-0-1320></a><span class=sd>            2. &quot;function_call&quot;: a dictionary containing the function name and arguments. (deprecated in favor of &quot;tool_calls&quot;)</span>
<a id=__codelineno-0-1321 name=__codelineno-0-1321></a><span class=sd>            3. &quot;tool_calls&quot;: a list of dictionaries containing the function name and arguments.</span>
<a id=__codelineno-0-1322 name=__codelineno-0-1322></a><span class=sd>            4. &quot;role&quot;: role of the message, can be &quot;assistant&quot;, &quot;user&quot;, &quot;function&quot;.</span>
<a id=__codelineno-0-1323 name=__codelineno-0-1323></a><span class=sd>                This field is only needed to distinguish between &quot;function&quot; or &quot;assistant&quot;/&quot;user&quot;.</span>
<a id=__codelineno-0-1324 name=__codelineno-0-1324></a><span class=sd>            5. &quot;name&quot;: In most cases, this field is not needed. When the role is &quot;function&quot;, this field is needed to indicate the function name.</span>
<a id=__codelineno-0-1325 name=__codelineno-0-1325></a><span class=sd>            6. &quot;context&quot; (dict): the context of the message, which will be passed to</span>
<a id=__codelineno-0-1326 name=__codelineno-0-1326></a><span class=sd>                [OpenAIWrapper.create](/docs/api-reference/autogen/OpenAIWrapper#create).</span>
<a id=__codelineno-0-1327 name=__codelineno-0-1327></a><span class=sd>        sender: sender of an Agent instance.</span>
<a id=__codelineno-0-1328 name=__codelineno-0-1328></a><span class=sd>        request_reply (bool or None): whether a reply is requested from the sender.</span>
<a id=__codelineno-0-1329 name=__codelineno-0-1329></a><span class=sd>            If None, the value is determined by `self.reply_at_receive[sender]`.</span>
<a id=__codelineno-0-1330 name=__codelineno-0-1330></a><span class=sd>        silent (bool or None): (Experimental) whether to print the message received.</span>
<a id=__codelineno-0-1331 name=__codelineno-0-1331></a>
<a id=__codelineno-0-1332 name=__codelineno-0-1332></a><span class=sd>    Raises:</span>
<a id=__codelineno-0-1333 name=__codelineno-0-1333></a><span class=sd>        ValueError: if the message can&#39;t be converted into a valid ChatCompletion message.</span>
<a id=__codelineno-0-1334 name=__codelineno-0-1334></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1335 name=__codelineno-0-1335></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_process_received_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>silent</span><span class=p>)</span>
<a id=__codelineno-0-1336 name=__codelineno-0-1336></a>    <span class=k>if</span> <span class=n>request_reply</span> <span class=ow>is</span> <span class=kc>False</span> <span class=ow>or</span> <span class=p>(</span><span class=n>request_reply</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>reply_at_receive</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=ow>is</span> <span class=kc>False</span><span class=p>):</span>
<a id=__codelineno-0-1337 name=__codelineno-0-1337></a>        <span class=k>return</span>
<a id=__codelineno-0-1338 name=__codelineno-0-1338></a>    <span class=n>reply</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_generate_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>chat_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>],</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>)</span>
<a id=__codelineno-0-1339 name=__codelineno-0-1339></a>    <span class=k>if</span> <span class=n>reply</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1340 name=__codelineno-0-1340></a>        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_send</span><span class=p>(</span><span class=n>reply</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=n>silent</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">generate_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>generate_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Reply based on the conversation history and the sender.</p> <p>Either messages or sender must be provided. Register a reply_func with <code>None</code> as one trigger for it to be activated when <code>messages</code> is non-empty and <code>sender</code> is <code>None</code>. Use registered auto reply functions to generate replies. By default, the following functions are checked in order: 1. check_termination_and_human_reply 2. generate_function_call_reply (deprecated in favor of tool_calls) 3. generate_tool_calls_reply 4. generate_code_execution_reply 5. generate_oai_reply Every function returns a tuple (final, reply). When a function returns final=False, the next function will be checked. So by default, termination and human reply will be checked first. If not terminating and human reply is skipped, execute function or code and return the result. AI replies are generated only when no code execution is performed.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>messages</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a list of messages in the conversation history.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>sender</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>sender of an Agent instance.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../../../../Agent/#autogen.Agent>Agent</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <details class=additional-keyword-arguments open> <summary>Additional keyword arguments</summary> <p>exclude (List[Callable[..., Any]]): a list of reply functions to be excluded.</p> </details> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>str or dict or None: reply. None if no reply is generated.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2380>2380</a></span>
<span class=normal><a href=#__codelineno-0-2381>2381</a></span>
<span class=normal><a href=#__codelineno-0-2382>2382</a></span>
<span class=normal><a href=#__codelineno-0-2383>2383</a></span>
<span class=normal><a href=#__codelineno-0-2384>2384</a></span>
<span class=normal><a href=#__codelineno-0-2385>2385</a></span>
<span class=normal><a href=#__codelineno-0-2386>2386</a></span>
<span class=normal><a href=#__codelineno-0-2387>2387</a></span>
<span class=normal><a href=#__codelineno-0-2388>2388</a></span>
<span class=normal><a href=#__codelineno-0-2389>2389</a></span>
<span class=normal><a href=#__codelineno-0-2390>2390</a></span>
<span class=normal><a href=#__codelineno-0-2391>2391</a></span>
<span class=normal><a href=#__codelineno-0-2392>2392</a></span>
<span class=normal><a href=#__codelineno-0-2393>2393</a></span>
<span class=normal><a href=#__codelineno-0-2394>2394</a></span>
<span class=normal><a href=#__codelineno-0-2395>2395</a></span>
<span class=normal><a href=#__codelineno-0-2396>2396</a></span>
<span class=normal><a href=#__codelineno-0-2397>2397</a></span>
<span class=normal><a href=#__codelineno-0-2398>2398</a></span>
<span class=normal><a href=#__codelineno-0-2399>2399</a></span>
<span class=normal><a href=#__codelineno-0-2400>2400</a></span>
<span class=normal><a href=#__codelineno-0-2401>2401</a></span>
<span class=normal><a href=#__codelineno-0-2402>2402</a></span>
<span class=normal><a href=#__codelineno-0-2403>2403</a></span>
<span class=normal><a href=#__codelineno-0-2404>2404</a></span>
<span class=normal><a href=#__codelineno-0-2405>2405</a></span>
<span class=normal><a href=#__codelineno-0-2406>2406</a></span>
<span class=normal><a href=#__codelineno-0-2407>2407</a></span>
<span class=normal><a href=#__codelineno-0-2408>2408</a></span>
<span class=normal><a href=#__codelineno-0-2409>2409</a></span>
<span class=normal><a href=#__codelineno-0-2410>2410</a></span>
<span class=normal><a href=#__codelineno-0-2411>2411</a></span>
<span class=normal><a href=#__codelineno-0-2412>2412</a></span>
<span class=normal><a href=#__codelineno-0-2413>2413</a></span>
<span class=normal><a href=#__codelineno-0-2414>2414</a></span>
<span class=normal><a href=#__codelineno-0-2415>2415</a></span>
<span class=normal><a href=#__codelineno-0-2416>2416</a></span>
<span class=normal><a href=#__codelineno-0-2417>2417</a></span>
<span class=normal><a href=#__codelineno-0-2418>2418</a></span>
<span class=normal><a href=#__codelineno-0-2419>2419</a></span>
<span class=normal><a href=#__codelineno-0-2420>2420</a></span>
<span class=normal><a href=#__codelineno-0-2421>2421</a></span>
<span class=normal><a href=#__codelineno-0-2422>2422</a></span>
<span class=normal><a href=#__codelineno-0-2423>2423</a></span>
<span class=normal><a href=#__codelineno-0-2424>2424</a></span>
<span class=normal><a href=#__codelineno-0-2425>2425</a></span>
<span class=normal><a href=#__codelineno-0-2426>2426</a></span>
<span class=normal><a href=#__codelineno-0-2427>2427</a></span>
<span class=normal><a href=#__codelineno-0-2428>2428</a></span>
<span class=normal><a href=#__codelineno-0-2429>2429</a></span>
<span class=normal><a href=#__codelineno-0-2430>2430</a></span>
<span class=normal><a href=#__codelineno-0-2431>2431</a></span>
<span class=normal><a href=#__codelineno-0-2432>2432</a></span>
<span class=normal><a href=#__codelineno-0-2433>2433</a></span>
<span class=normal><a href=#__codelineno-0-2434>2434</a></span>
<span class=normal><a href=#__codelineno-0-2435>2435</a></span>
<span class=normal><a href=#__codelineno-0-2436>2436</a></span>
<span class=normal><a href=#__codelineno-0-2437>2437</a></span>
<span class=normal><a href=#__codelineno-0-2438>2438</a></span>
<span class=normal><a href=#__codelineno-0-2439>2439</a></span>
<span class=normal><a href=#__codelineno-0-2440>2440</a></span>
<span class=normal><a href=#__codelineno-0-2441>2441</a></span>
<span class=normal><a href=#__codelineno-0-2442>2442</a></span>
<span class=normal><a href=#__codelineno-0-2443>2443</a></span>
<span class=normal><a href=#__codelineno-0-2444>2444</a></span>
<span class=normal><a href=#__codelineno-0-2445>2445</a></span>
<span class=normal><a href=#__codelineno-0-2446>2446</a></span>
<span class=normal><a href=#__codelineno-0-2447>2447</a></span>
<span class=normal><a href=#__codelineno-0-2448>2448</a></span>
<span class=normal><a href=#__codelineno-0-2449>2449</a></span>
<span class=normal><a href=#__codelineno-0-2450>2450</a></span>
<span class=normal><a href=#__codelineno-0-2451>2451</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2380 name=__codelineno-0-2380></a><span class=k>def</span><span class=w> </span><span class=nf>generate_reply</span><span class=p>(</span>
<a id=__codelineno-0-2381 name=__codelineno-0-2381></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-2382 name=__codelineno-0-2382></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2383 name=__codelineno-0-2383></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s2>&quot;Agent&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2384 name=__codelineno-0-2384></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
<a id=__codelineno-0-2385 name=__codelineno-0-2385></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]:</span>
<a id=__codelineno-0-2386 name=__codelineno-0-2386></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Reply based on the conversation history and the sender.</span>
<a id=__codelineno-0-2387 name=__codelineno-0-2387></a>
<a id=__codelineno-0-2388 name=__codelineno-0-2388></a><span class=sd>    Either messages or sender must be provided.</span>
<a id=__codelineno-0-2389 name=__codelineno-0-2389></a><span class=sd>    Register a reply_func with `None` as one trigger for it to be activated when `messages` is non-empty and `sender` is `None`.</span>
<a id=__codelineno-0-2390 name=__codelineno-0-2390></a><span class=sd>    Use registered auto reply functions to generate replies.</span>
<a id=__codelineno-0-2391 name=__codelineno-0-2391></a><span class=sd>    By default, the following functions are checked in order:</span>
<a id=__codelineno-0-2392 name=__codelineno-0-2392></a><span class=sd>    1. check_termination_and_human_reply</span>
<a id=__codelineno-0-2393 name=__codelineno-0-2393></a><span class=sd>    2. generate_function_call_reply (deprecated in favor of tool_calls)</span>
<a id=__codelineno-0-2394 name=__codelineno-0-2394></a><span class=sd>    3. generate_tool_calls_reply</span>
<a id=__codelineno-0-2395 name=__codelineno-0-2395></a><span class=sd>    4. generate_code_execution_reply</span>
<a id=__codelineno-0-2396 name=__codelineno-0-2396></a><span class=sd>    5. generate_oai_reply</span>
<a id=__codelineno-0-2397 name=__codelineno-0-2397></a><span class=sd>    Every function returns a tuple (final, reply).</span>
<a id=__codelineno-0-2398 name=__codelineno-0-2398></a><span class=sd>    When a function returns final=False, the next function will be checked.</span>
<a id=__codelineno-0-2399 name=__codelineno-0-2399></a><span class=sd>    So by default, termination and human reply will be checked first.</span>
<a id=__codelineno-0-2400 name=__codelineno-0-2400></a><span class=sd>    If not terminating and human reply is skipped, execute function or code and return the result.</span>
<a id=__codelineno-0-2401 name=__codelineno-0-2401></a><span class=sd>    AI replies are generated only when no code execution is performed.</span>
<a id=__codelineno-0-2402 name=__codelineno-0-2402></a>
<a id=__codelineno-0-2403 name=__codelineno-0-2403></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2404 name=__codelineno-0-2404></a><span class=sd>        messages: a list of messages in the conversation history.</span>
<a id=__codelineno-0-2405 name=__codelineno-0-2405></a><span class=sd>        sender: sender of an Agent instance.</span>
<a id=__codelineno-0-2406 name=__codelineno-0-2406></a>
<a id=__codelineno-0-2407 name=__codelineno-0-2407></a><span class=sd>    Additional keyword arguments:</span>
<a id=__codelineno-0-2408 name=__codelineno-0-2408></a><span class=sd>        exclude (List[Callable[..., Any]]): a list of reply functions to be excluded.</span>
<a id=__codelineno-0-2409 name=__codelineno-0-2409></a>
<a id=__codelineno-0-2410 name=__codelineno-0-2410></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2411 name=__codelineno-0-2411></a><span class=sd>        str or dict or None: reply. None if no reply is generated.</span>
<a id=__codelineno-0-2412 name=__codelineno-0-2412></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2413 name=__codelineno-0-2413></a>    <span class=k>if</span> <span class=nb>all</span><span class=p>((</span><span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>,</span> <span class=n>sender</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>)):</span>
<a id=__codelineno-0-2414 name=__codelineno-0-2414></a>        <span class=n>error_msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Either </span><span class=si>{</span><span class=n>messages</span><span class=si>=}</span><span class=s2> or </span><span class=si>{</span><span class=n>sender</span><span class=si>=}</span><span class=s2> must be provided.&quot;</span>
<a id=__codelineno-0-2415 name=__codelineno-0-2415></a>        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2416 name=__codelineno-0-2416></a>        <span class=k>raise</span> <span class=ne>AssertionError</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2417 name=__codelineno-0-2417></a>
<a id=__codelineno-0-2418 name=__codelineno-0-2418></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2419 name=__codelineno-0-2419></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
<a id=__codelineno-0-2420 name=__codelineno-0-2420></a>
<a id=__codelineno-0-2421 name=__codelineno-0-2421></a>    <span class=c1># Call the hookable method that gives registered hooks a chance to update agent state, used for their context variables.</span>
<a id=__codelineno-0-2422 name=__codelineno-0-2422></a>    <span class=bp>self</span><span class=o>.</span><span class=n>update_agent_state_before_reply</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
<a id=__codelineno-0-2423 name=__codelineno-0-2423></a>
<a id=__codelineno-0-2424 name=__codelineno-0-2424></a>    <span class=c1># Call the hookable method that gives registered hooks a chance to process the last message.</span>
<a id=__codelineno-0-2425 name=__codelineno-0-2425></a>    <span class=c1># Message modifications do not affect the incoming messages or self._oai_messages.</span>
<a id=__codelineno-0-2426 name=__codelineno-0-2426></a>    <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>process_last_received_message</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
<a id=__codelineno-0-2427 name=__codelineno-0-2427></a>
<a id=__codelineno-0-2428 name=__codelineno-0-2428></a>    <span class=c1># Call the hookable method that gives registered hooks a chance to process all messages.</span>
<a id=__codelineno-0-2429 name=__codelineno-0-2429></a>    <span class=c1># Message modifications do not affect the incoming messages or self._oai_messages.</span>
<a id=__codelineno-0-2430 name=__codelineno-0-2430></a>    <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>process_all_messages_before_reply</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
<a id=__codelineno-0-2431 name=__codelineno-0-2431></a>
<a id=__codelineno-0-2432 name=__codelineno-0-2432></a>    <span class=k>for</span> <span class=n>reply_func_tuple</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_reply_func_list</span><span class=p>:</span>
<a id=__codelineno-0-2433 name=__codelineno-0-2433></a>        <span class=n>reply_func</span> <span class=o>=</span> <span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;reply_func&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2434 name=__codelineno-0-2434></a>        <span class=k>if</span> <span class=s2>&quot;exclude&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span> <span class=ow>and</span> <span class=n>reply_func</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;exclude&quot;</span><span class=p>]:</span>
<a id=__codelineno-0-2435 name=__codelineno-0-2435></a>            <span class=k>continue</span>
<a id=__codelineno-0-2436 name=__codelineno-0-2436></a>        <span class=k>if</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span><span class=n>reply_func</span><span class=p>):</span>
<a id=__codelineno-0-2437 name=__codelineno-0-2437></a>            <span class=k>continue</span>
<a id=__codelineno-0-2438 name=__codelineno-0-2438></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_match_trigger</span><span class=p>(</span><span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;trigger&quot;</span><span class=p>],</span> <span class=n>sender</span><span class=p>):</span>
<a id=__codelineno-0-2439 name=__codelineno-0-2439></a>            <span class=n>final</span><span class=p>,</span> <span class=n>reply</span> <span class=o>=</span> <span class=n>reply_func</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>messages</span><span class=o>=</span><span class=n>messages</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;config&quot;</span><span class=p>])</span>
<a id=__codelineno-0-2440 name=__codelineno-0-2440></a>            <span class=k>if</span> <span class=n>logging_enabled</span><span class=p>():</span>
<a id=__codelineno-0-2441 name=__codelineno-0-2441></a>                <span class=n>log_event</span><span class=p>(</span>
<a id=__codelineno-0-2442 name=__codelineno-0-2442></a>                    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-2443 name=__codelineno-0-2443></a>                    <span class=s2>&quot;reply_func_executed&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2444 name=__codelineno-0-2444></a>                    <span class=n>reply_func_module</span><span class=o>=</span><span class=n>reply_func</span><span class=o>.</span><span class=vm>__module__</span><span class=p>,</span>
<a id=__codelineno-0-2445 name=__codelineno-0-2445></a>                    <span class=n>reply_func_name</span><span class=o>=</span><span class=n>reply_func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span>
<a id=__codelineno-0-2446 name=__codelineno-0-2446></a>                    <span class=n>final</span><span class=o>=</span><span class=n>final</span><span class=p>,</span>
<a id=__codelineno-0-2447 name=__codelineno-0-2447></a>                    <span class=n>reply</span><span class=o>=</span><span class=n>reply</span><span class=p>,</span>
<a id=__codelineno-0-2448 name=__codelineno-0-2448></a>                <span class=p>)</span>
<a id=__codelineno-0-2449 name=__codelineno-0-2449></a>            <span class=k>if</span> <span class=n>final</span><span class=p>:</span>
<a id=__codelineno-0-2450 name=__codelineno-0-2450></a>                <span class=k>return</span> <span class=n>reply</span>
<a id=__codelineno-0-2451 name=__codelineno-0-2451></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_default_auto_reply</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_generate_reply</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_generate_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>(async) Reply based on the conversation history and the sender.</p> <p>Either messages or sender must be provided. Register a reply_func with <code>None</code> as one trigger for it to be activated when <code>messages</code> is non-empty and <code>sender</code> is <code>None</code>. Use registered auto reply functions to generate replies. By default, the following functions are checked in order: 1. check_termination_and_human_reply 2. generate_function_call_reply 3. generate_tool_calls_reply 4. generate_code_execution_reply 5. generate_oai_reply Every function returns a tuple (final, reply). When a function returns final=False, the next function will be checked. So by default, termination and human reply will be checked first. If not terminating and human reply is skipped, execute function or code and return the result. AI replies are generated only when no code execution is performed.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>messages</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a list of messages in the conversation history.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>sender</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>sender of an Agent instance.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../../../../Agent/#autogen.Agent>Agent</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <details class=additional-keyword-arguments open> <summary>Additional keyword arguments</summary> <p>exclude (List[Callable[..., Any]]): a list of reply functions to be excluded.</p> </details> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>], None]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>str or dict or None: reply. None if no reply is generated.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2453>2453</a></span>
<span class=normal><a href=#__codelineno-0-2454>2454</a></span>
<span class=normal><a href=#__codelineno-0-2455>2455</a></span>
<span class=normal><a href=#__codelineno-0-2456>2456</a></span>
<span class=normal><a href=#__codelineno-0-2457>2457</a></span>
<span class=normal><a href=#__codelineno-0-2458>2458</a></span>
<span class=normal><a href=#__codelineno-0-2459>2459</a></span>
<span class=normal><a href=#__codelineno-0-2460>2460</a></span>
<span class=normal><a href=#__codelineno-0-2461>2461</a></span>
<span class=normal><a href=#__codelineno-0-2462>2462</a></span>
<span class=normal><a href=#__codelineno-0-2463>2463</a></span>
<span class=normal><a href=#__codelineno-0-2464>2464</a></span>
<span class=normal><a href=#__codelineno-0-2465>2465</a></span>
<span class=normal><a href=#__codelineno-0-2466>2466</a></span>
<span class=normal><a href=#__codelineno-0-2467>2467</a></span>
<span class=normal><a href=#__codelineno-0-2468>2468</a></span>
<span class=normal><a href=#__codelineno-0-2469>2469</a></span>
<span class=normal><a href=#__codelineno-0-2470>2470</a></span>
<span class=normal><a href=#__codelineno-0-2471>2471</a></span>
<span class=normal><a href=#__codelineno-0-2472>2472</a></span>
<span class=normal><a href=#__codelineno-0-2473>2473</a></span>
<span class=normal><a href=#__codelineno-0-2474>2474</a></span>
<span class=normal><a href=#__codelineno-0-2475>2475</a></span>
<span class=normal><a href=#__codelineno-0-2476>2476</a></span>
<span class=normal><a href=#__codelineno-0-2477>2477</a></span>
<span class=normal><a href=#__codelineno-0-2478>2478</a></span>
<span class=normal><a href=#__codelineno-0-2479>2479</a></span>
<span class=normal><a href=#__codelineno-0-2480>2480</a></span>
<span class=normal><a href=#__codelineno-0-2481>2481</a></span>
<span class=normal><a href=#__codelineno-0-2482>2482</a></span>
<span class=normal><a href=#__codelineno-0-2483>2483</a></span>
<span class=normal><a href=#__codelineno-0-2484>2484</a></span>
<span class=normal><a href=#__codelineno-0-2485>2485</a></span>
<span class=normal><a href=#__codelineno-0-2486>2486</a></span>
<span class=normal><a href=#__codelineno-0-2487>2487</a></span>
<span class=normal><a href=#__codelineno-0-2488>2488</a></span>
<span class=normal><a href=#__codelineno-0-2489>2489</a></span>
<span class=normal><a href=#__codelineno-0-2490>2490</a></span>
<span class=normal><a href=#__codelineno-0-2491>2491</a></span>
<span class=normal><a href=#__codelineno-0-2492>2492</a></span>
<span class=normal><a href=#__codelineno-0-2493>2493</a></span>
<span class=normal><a href=#__codelineno-0-2494>2494</a></span>
<span class=normal><a href=#__codelineno-0-2495>2495</a></span>
<span class=normal><a href=#__codelineno-0-2496>2496</a></span>
<span class=normal><a href=#__codelineno-0-2497>2497</a></span>
<span class=normal><a href=#__codelineno-0-2498>2498</a></span>
<span class=normal><a href=#__codelineno-0-2499>2499</a></span>
<span class=normal><a href=#__codelineno-0-2500>2500</a></span>
<span class=normal><a href=#__codelineno-0-2501>2501</a></span>
<span class=normal><a href=#__codelineno-0-2502>2502</a></span>
<span class=normal><a href=#__codelineno-0-2503>2503</a></span>
<span class=normal><a href=#__codelineno-0-2504>2504</a></span>
<span class=normal><a href=#__codelineno-0-2505>2505</a></span>
<span class=normal><a href=#__codelineno-0-2506>2506</a></span>
<span class=normal><a href=#__codelineno-0-2507>2507</a></span>
<span class=normal><a href=#__codelineno-0-2508>2508</a></span>
<span class=normal><a href=#__codelineno-0-2509>2509</a></span>
<span class=normal><a href=#__codelineno-0-2510>2510</a></span>
<span class=normal><a href=#__codelineno-0-2511>2511</a></span>
<span class=normal><a href=#__codelineno-0-2512>2512</a></span>
<span class=normal><a href=#__codelineno-0-2513>2513</a></span>
<span class=normal><a href=#__codelineno-0-2514>2514</a></span>
<span class=normal><a href=#__codelineno-0-2515>2515</a></span>
<span class=normal><a href=#__codelineno-0-2516>2516</a></span>
<span class=normal><a href=#__codelineno-0-2517>2517</a></span>
<span class=normal><a href=#__codelineno-0-2518>2518</a></span>
<span class=normal><a href=#__codelineno-0-2519>2519</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2453 name=__codelineno-0-2453></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_generate_reply</span><span class=p>(</span>
<a id=__codelineno-0-2454 name=__codelineno-0-2454></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-2455 name=__codelineno-0-2455></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2456 name=__codelineno-0-2456></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s2>&quot;Agent&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2457 name=__codelineno-0-2457></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
<a id=__codelineno-0-2458 name=__codelineno-0-2458></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=kc>None</span><span class=p>]:</span>
<a id=__codelineno-0-2459 name=__codelineno-0-2459></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(async) Reply based on the conversation history and the sender.</span>
<a id=__codelineno-0-2460 name=__codelineno-0-2460></a>
<a id=__codelineno-0-2461 name=__codelineno-0-2461></a><span class=sd>    Either messages or sender must be provided.</span>
<a id=__codelineno-0-2462 name=__codelineno-0-2462></a><span class=sd>    Register a reply_func with `None` as one trigger for it to be activated when `messages` is non-empty and `sender` is `None`.</span>
<a id=__codelineno-0-2463 name=__codelineno-0-2463></a><span class=sd>    Use registered auto reply functions to generate replies.</span>
<a id=__codelineno-0-2464 name=__codelineno-0-2464></a><span class=sd>    By default, the following functions are checked in order:</span>
<a id=__codelineno-0-2465 name=__codelineno-0-2465></a><span class=sd>    1. check_termination_and_human_reply</span>
<a id=__codelineno-0-2466 name=__codelineno-0-2466></a><span class=sd>    2. generate_function_call_reply</span>
<a id=__codelineno-0-2467 name=__codelineno-0-2467></a><span class=sd>    3. generate_tool_calls_reply</span>
<a id=__codelineno-0-2468 name=__codelineno-0-2468></a><span class=sd>    4. generate_code_execution_reply</span>
<a id=__codelineno-0-2469 name=__codelineno-0-2469></a><span class=sd>    5. generate_oai_reply</span>
<a id=__codelineno-0-2470 name=__codelineno-0-2470></a><span class=sd>    Every function returns a tuple (final, reply).</span>
<a id=__codelineno-0-2471 name=__codelineno-0-2471></a><span class=sd>    When a function returns final=False, the next function will be checked.</span>
<a id=__codelineno-0-2472 name=__codelineno-0-2472></a><span class=sd>    So by default, termination and human reply will be checked first.</span>
<a id=__codelineno-0-2473 name=__codelineno-0-2473></a><span class=sd>    If not terminating and human reply is skipped, execute function or code and return the result.</span>
<a id=__codelineno-0-2474 name=__codelineno-0-2474></a><span class=sd>    AI replies are generated only when no code execution is performed.</span>
<a id=__codelineno-0-2475 name=__codelineno-0-2475></a>
<a id=__codelineno-0-2476 name=__codelineno-0-2476></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2477 name=__codelineno-0-2477></a><span class=sd>        messages: a list of messages in the conversation history.</span>
<a id=__codelineno-0-2478 name=__codelineno-0-2478></a><span class=sd>        sender: sender of an Agent instance.</span>
<a id=__codelineno-0-2479 name=__codelineno-0-2479></a>
<a id=__codelineno-0-2480 name=__codelineno-0-2480></a><span class=sd>    Additional keyword arguments:</span>
<a id=__codelineno-0-2481 name=__codelineno-0-2481></a><span class=sd>        exclude (List[Callable[..., Any]]): a list of reply functions to be excluded.</span>
<a id=__codelineno-0-2482 name=__codelineno-0-2482></a>
<a id=__codelineno-0-2483 name=__codelineno-0-2483></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2484 name=__codelineno-0-2484></a><span class=sd>        str or dict or None: reply. None if no reply is generated.</span>
<a id=__codelineno-0-2485 name=__codelineno-0-2485></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2486 name=__codelineno-0-2486></a>    <span class=k>if</span> <span class=nb>all</span><span class=p>((</span><span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>,</span> <span class=n>sender</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>)):</span>
<a id=__codelineno-0-2487 name=__codelineno-0-2487></a>        <span class=n>error_msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Either </span><span class=si>{</span><span class=n>messages</span><span class=si>=}</span><span class=s2> or </span><span class=si>{</span><span class=n>sender</span><span class=si>=}</span><span class=s2> must be provided.&quot;</span>
<a id=__codelineno-0-2488 name=__codelineno-0-2488></a>        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2489 name=__codelineno-0-2489></a>        <span class=k>raise</span> <span class=ne>AssertionError</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2490 name=__codelineno-0-2490></a>
<a id=__codelineno-0-2491 name=__codelineno-0-2491></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2492 name=__codelineno-0-2492></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
<a id=__codelineno-0-2493 name=__codelineno-0-2493></a>
<a id=__codelineno-0-2494 name=__codelineno-0-2494></a>    <span class=c1># Call the hookable method that gives registered hooks a chance to update agent state, used for their context variables.</span>
<a id=__codelineno-0-2495 name=__codelineno-0-2495></a>    <span class=bp>self</span><span class=o>.</span><span class=n>update_agent_state_before_reply</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
<a id=__codelineno-0-2496 name=__codelineno-0-2496></a>
<a id=__codelineno-0-2497 name=__codelineno-0-2497></a>    <span class=c1># Call the hookable method that gives registered hooks a chance to process the last message.</span>
<a id=__codelineno-0-2498 name=__codelineno-0-2498></a>    <span class=c1># Message modifications do not affect the incoming messages or self._oai_messages.</span>
<a id=__codelineno-0-2499 name=__codelineno-0-2499></a>    <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>process_last_received_message</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
<a id=__codelineno-0-2500 name=__codelineno-0-2500></a>
<a id=__codelineno-0-2501 name=__codelineno-0-2501></a>    <span class=c1># Call the hookable method that gives registered hooks a chance to process all messages.</span>
<a id=__codelineno-0-2502 name=__codelineno-0-2502></a>    <span class=c1># Message modifications do not affect the incoming messages or self._oai_messages.</span>
<a id=__codelineno-0-2503 name=__codelineno-0-2503></a>    <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>process_all_messages_before_reply</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
<a id=__codelineno-0-2504 name=__codelineno-0-2504></a>
<a id=__codelineno-0-2505 name=__codelineno-0-2505></a>    <span class=k>for</span> <span class=n>reply_func_tuple</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_reply_func_list</span><span class=p>:</span>
<a id=__codelineno-0-2506 name=__codelineno-0-2506></a>        <span class=n>reply_func</span> <span class=o>=</span> <span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;reply_func&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2507 name=__codelineno-0-2507></a>        <span class=k>if</span> <span class=s2>&quot;exclude&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span> <span class=ow>and</span> <span class=n>reply_func</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;exclude&quot;</span><span class=p>]:</span>
<a id=__codelineno-0-2508 name=__codelineno-0-2508></a>            <span class=k>continue</span>
<a id=__codelineno-0-2509 name=__codelineno-0-2509></a>
<a id=__codelineno-0-2510 name=__codelineno-0-2510></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_match_trigger</span><span class=p>(</span><span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;trigger&quot;</span><span class=p>],</span> <span class=n>sender</span><span class=p>):</span>
<a id=__codelineno-0-2511 name=__codelineno-0-2511></a>            <span class=k>if</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span><span class=n>reply_func</span><span class=p>):</span>
<a id=__codelineno-0-2512 name=__codelineno-0-2512></a>                <span class=n>final</span><span class=p>,</span> <span class=n>reply</span> <span class=o>=</span> <span class=k>await</span> <span class=n>reply_func</span><span class=p>(</span>
<a id=__codelineno-0-2513 name=__codelineno-0-2513></a>                    <span class=bp>self</span><span class=p>,</span> <span class=n>messages</span><span class=o>=</span><span class=n>messages</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;config&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2514 name=__codelineno-0-2514></a>                <span class=p>)</span>
<a id=__codelineno-0-2515 name=__codelineno-0-2515></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2516 name=__codelineno-0-2516></a>                <span class=n>final</span><span class=p>,</span> <span class=n>reply</span> <span class=o>=</span> <span class=n>reply_func</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>messages</span><span class=o>=</span><span class=n>messages</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;config&quot;</span><span class=p>])</span>
<a id=__codelineno-0-2517 name=__codelineno-0-2517></a>            <span class=k>if</span> <span class=n>final</span><span class=p>:</span>
<a id=__codelineno-0-2518 name=__codelineno-0-2518></a>                <span class=k>return</span> <span class=n>reply</span>
<a id=__codelineno-0-2519 name=__codelineno-0-2519></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_default_auto_reply</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_system_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_system_message</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_system_message class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_system_message</span><span class=p>(</span><span class=n>system_message</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Update the system message.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>system_message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>system message for the ChatCompletion inference.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-982>982</a></span>
<span class=normal><a href=#__codelineno-0-983>983</a></span>
<span class=normal><a href=#__codelineno-0-984>984</a></span>
<span class=normal><a href=#__codelineno-0-985>985</a></span>
<span class=normal><a href=#__codelineno-0-986>986</a></span>
<span class=normal><a href=#__codelineno-0-987>987</a></span>
<span class=normal><a href=#__codelineno-0-988>988</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-982 name=__codelineno-0-982></a><span class=k>def</span><span class=w> </span><span class=nf>update_system_message</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>system_message</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-983 name=__codelineno-0-983></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Update the system message.</span>
<a id=__codelineno-0-984 name=__codelineno-0-984></a>
<a id=__codelineno-0-985 name=__codelineno-0-985></a><span class=sd>    Args:</span>
<a id=__codelineno-0-986 name=__codelineno-0-986></a><span class=sd>        system_message (str): system message for the ChatCompletion inference.</span>
<a id=__codelineno-0-987 name=__codelineno-0-987></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-988 name=__codelineno-0-988></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_oai_system_message</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;content&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>system_message</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">register_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>register_reply</span><span class=p>(</span><span class=n>trigger</span><span class=p>,</span> <span class=n>reply_func</span><span class=p>,</span> <span class=n>position</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>reset_config</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>ignore_async_in_sync_chat</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>remove_other_reply_funcs</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Register a reply function.</p> <p>The reply function will be called when the trigger matches the sender. The function registered later will be checked earlier by default. To change the order, set the position to a positive integer.</p> <p>Both sync and async reply functions can be registered. The sync reply function will be triggered from both sync and async chats. However, an async reply function will only be triggered from async chats (initiated with <code>ConversableAgent.a_initiate_chat</code>). If an <code>async</code> reply function is registered and a chat is initialized with a sync function, <code>ignore_async_in_sync_chat</code> determines the behaviour as follows: if <code>ignore_async_in_sync_chat</code> is set to <code>False</code> (default value), an exception will be raised, and if <code>ignore_async_in_sync_chat</code> is set to <code>True</code>, the reply function will be ignored.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>trigger</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the trigger. If a class is provided, the reply function will be called when the sender is an instance of the class. If a string is provided, the reply function will be called when the sender's name matches the string. If an agent instance is provided, the reply function will be called when the sender is the agent instance. If a callable is provided, the reply function will be called when the callable returns True. If a list is provided, the reply function will be called when any of the triggers in the list is activated. If None is provided, the reply function will be called only when the sender is None. Note: Be sure to register <code>None</code> as a trigger if you would like to trigger an auto-reply function with non-empty messages and <code>sender=None</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>Agent class, str, Agent instance, callable, or list</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>reply_func</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the reply function. The function takes a recipient agent, a list of messages, a sender agent and a config as input and returns a reply message.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>def</span><span class=w> </span><span class=nf>reply_func</span><span class=p>(</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>recipient</span><span class=p>:</span> <span class=n>ConversableAgent</span><span class=p>,</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=kc>None</span><span class=p>]]:</span>
</code></pre></div> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>position</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the position of the reply function in the reply function list. The function registered later will be checked earlier by default. To change the order, set the position to a positive integer.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>0</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>config</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the config to be passed to the reply function. When an agent is reset, the config will be reset to the original value.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>reset_config</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the function to reset the config. The function returns None. Signature: <code>def reset_config(config: Any)</code></p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>ignore_async_in_sync_chat</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether to ignore the async reply function in sync chats. If <code>False</code>, an exception will be raised if an async reply function is registered and a chat is initialized with a sync function.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>remove_other_reply_funcs</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether to remove other reply functions when registering this reply function.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span>
<span class=normal><a href=#__codelineno-0-542>542</a></span>
<span class=normal><a href=#__codelineno-0-543>543</a></span>
<span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span>
<span class=normal><a href=#__codelineno-0-549>549</a></span>
<span class=normal><a href=#__codelineno-0-550>550</a></span>
<span class=normal><a href=#__codelineno-0-551>551</a></span>
<span class=normal><a href=#__codelineno-0-552>552</a></span>
<span class=normal><a href=#__codelineno-0-553>553</a></span>
<span class=normal><a href=#__codelineno-0-554>554</a></span>
<span class=normal><a href=#__codelineno-0-555>555</a></span>
<span class=normal><a href=#__codelineno-0-556>556</a></span>
<span class=normal><a href=#__codelineno-0-557>557</a></span>
<span class=normal><a href=#__codelineno-0-558>558</a></span>
<span class=normal><a href=#__codelineno-0-559>559</a></span>
<span class=normal><a href=#__codelineno-0-560>560</a></span>
<span class=normal><a href=#__codelineno-0-561>561</a></span>
<span class=normal><a href=#__codelineno-0-562>562</a></span>
<span class=normal><a href=#__codelineno-0-563>563</a></span>
<span class=normal><a href=#__codelineno-0-564>564</a></span>
<span class=normal><a href=#__codelineno-0-565>565</a></span>
<span class=normal><a href=#__codelineno-0-566>566</a></span>
<span class=normal><a href=#__codelineno-0-567>567</a></span>
<span class=normal><a href=#__codelineno-0-568>568</a></span>
<span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span>
<span class=normal><a href=#__codelineno-0-572>572</a></span>
<span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span>
<span class=normal><a href=#__codelineno-0-579>579</a></span>
<span class=normal><a href=#__codelineno-0-580>580</a></span>
<span class=normal><a href=#__codelineno-0-581>581</a></span>
<span class=normal><a href=#__codelineno-0-582>582</a></span>
<span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span>
<span class=normal><a href=#__codelineno-0-586>586</a></span>
<span class=normal><a href=#__codelineno-0-587>587</a></span>
<span class=normal><a href=#__codelineno-0-588>588</a></span>
<span class=normal><a href=#__codelineno-0-589>589</a></span>
<span class=normal><a href=#__codelineno-0-590>590</a></span>
<span class=normal><a href=#__codelineno-0-591>591</a></span>
<span class=normal><a href=#__codelineno-0-592>592</a></span>
<span class=normal><a href=#__codelineno-0-593>593</a></span>
<span class=normal><a href=#__codelineno-0-594>594</a></span>
<span class=normal><a href=#__codelineno-0-595>595</a></span>
<span class=normal><a href=#__codelineno-0-596>596</a></span>
<span class=normal><a href=#__codelineno-0-597>597</a></span>
<span class=normal><a href=#__codelineno-0-598>598</a></span>
<span class=normal><a href=#__codelineno-0-599>599</a></span>
<span class=normal><a href=#__codelineno-0-600>600</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-530 name=__codelineno-0-530></a><span class=k>def</span><span class=w> </span><span class=nf>register_reply</span><span class=p>(</span>
<a id=__codelineno-0-531 name=__codelineno-0-531></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-532 name=__codelineno-0-532></a>    <span class=n>trigger</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>type</span><span class=p>[</span><span class=n>Agent</span><span class=p>],</span> <span class=nb>str</span><span class=p>,</span> <span class=n>Agent</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>Agent</span><span class=p>],</span> <span class=nb>bool</span><span class=p>],</span> <span class=nb>list</span><span class=p>],</span>
<a id=__codelineno-0-533 name=__codelineno-0-533></a>    <span class=n>reply_func</span><span class=p>:</span> <span class=n>Callable</span><span class=p>,</span>
<a id=__codelineno-0-534 name=__codelineno-0-534></a>    <span class=n>position</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
<a id=__codelineno-0-535 name=__codelineno-0-535></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-536 name=__codelineno-0-536></a>    <span class=n>reset_config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-537 name=__codelineno-0-537></a>    <span class=o>*</span><span class=p>,</span>
<a id=__codelineno-0-538 name=__codelineno-0-538></a>    <span class=n>ignore_async_in_sync_chat</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-539 name=__codelineno-0-539></a>    <span class=n>remove_other_reply_funcs</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-540 name=__codelineno-0-540></a><span class=p>):</span>
<a id=__codelineno-0-541 name=__codelineno-0-541></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Register a reply function.</span>
<a id=__codelineno-0-542 name=__codelineno-0-542></a>
<a id=__codelineno-0-543 name=__codelineno-0-543></a><span class=sd>    The reply function will be called when the trigger matches the sender.</span>
<a id=__codelineno-0-544 name=__codelineno-0-544></a><span class=sd>    The function registered later will be checked earlier by default.</span>
<a id=__codelineno-0-545 name=__codelineno-0-545></a><span class=sd>    To change the order, set the position to a positive integer.</span>
<a id=__codelineno-0-546 name=__codelineno-0-546></a>
<a id=__codelineno-0-547 name=__codelineno-0-547></a><span class=sd>    Both sync and async reply functions can be registered. The sync reply function will be triggered</span>
<a id=__codelineno-0-548 name=__codelineno-0-548></a><span class=sd>    from both sync and async chats. However, an async reply function will only be triggered from async</span>
<a id=__codelineno-0-549 name=__codelineno-0-549></a><span class=sd>    chats (initiated with `ConversableAgent.a_initiate_chat`). If an `async` reply function is registered</span>
<a id=__codelineno-0-550 name=__codelineno-0-550></a><span class=sd>    and a chat is initialized with a sync function, `ignore_async_in_sync_chat` determines the behaviour as follows:</span>
<a id=__codelineno-0-551 name=__codelineno-0-551></a><span class=sd>        if `ignore_async_in_sync_chat` is set to `False` (default value), an exception will be raised, and</span>
<a id=__codelineno-0-552 name=__codelineno-0-552></a><span class=sd>        if `ignore_async_in_sync_chat` is set to `True`, the reply function will be ignored.</span>
<a id=__codelineno-0-553 name=__codelineno-0-553></a>
<a id=__codelineno-0-554 name=__codelineno-0-554></a><span class=sd>    Args:</span>
<a id=__codelineno-0-555 name=__codelineno-0-555></a><span class=sd>        trigger (Agent class, str, Agent instance, callable, or list): the trigger.</span>
<a id=__codelineno-0-556 name=__codelineno-0-556></a><span class=sd>            If a class is provided, the reply function will be called when the sender is an instance of the class.</span>
<a id=__codelineno-0-557 name=__codelineno-0-557></a><span class=sd>            If a string is provided, the reply function will be called when the sender&#39;s name matches the string.</span>
<a id=__codelineno-0-558 name=__codelineno-0-558></a><span class=sd>            If an agent instance is provided, the reply function will be called when the sender is the agent instance.</span>
<a id=__codelineno-0-559 name=__codelineno-0-559></a><span class=sd>            If a callable is provided, the reply function will be called when the callable returns True.</span>
<a id=__codelineno-0-560 name=__codelineno-0-560></a><span class=sd>            If a list is provided, the reply function will be called when any of the triggers in the list is activated.</span>
<a id=__codelineno-0-561 name=__codelineno-0-561></a><span class=sd>            If None is provided, the reply function will be called only when the sender is None.</span>
<a id=__codelineno-0-562 name=__codelineno-0-562></a><span class=sd>            Note: Be sure to register `None` as a trigger if you would like to trigger an auto-reply function with non-empty messages and `sender=None`.</span>
<a id=__codelineno-0-563 name=__codelineno-0-563></a><span class=sd>        reply_func (Callable): the reply function.</span>
<a id=__codelineno-0-564 name=__codelineno-0-564></a><span class=sd>            The function takes a recipient agent, a list of messages, a sender agent and a config as input and returns a reply message.</span>
<a id=__codelineno-0-565 name=__codelineno-0-565></a>
<a id=__codelineno-0-566 name=__codelineno-0-566></a><span class=sd>            ```python</span>
<a id=__codelineno-0-567 name=__codelineno-0-567></a><span class=sd>            def reply_func(</span>
<a id=__codelineno-0-568 name=__codelineno-0-568></a><span class=sd>                recipient: ConversableAgent,</span>
<a id=__codelineno-0-569 name=__codelineno-0-569></a><span class=sd>                messages: Optional[List[Dict]] = None,</span>
<a id=__codelineno-0-570 name=__codelineno-0-570></a><span class=sd>                sender: Optional[Agent] = None,</span>
<a id=__codelineno-0-571 name=__codelineno-0-571></a><span class=sd>                config: Optional[Any] = None,</span>
<a id=__codelineno-0-572 name=__codelineno-0-572></a><span class=sd>            ) -&gt; Tuple[bool, Union[str, Dict, None]]:</span>
<a id=__codelineno-0-573 name=__codelineno-0-573></a><span class=sd>            ```</span>
<a id=__codelineno-0-574 name=__codelineno-0-574></a><span class=sd>        position (int): the position of the reply function in the reply function list.</span>
<a id=__codelineno-0-575 name=__codelineno-0-575></a><span class=sd>            The function registered later will be checked earlier by default.</span>
<a id=__codelineno-0-576 name=__codelineno-0-576></a><span class=sd>            To change the order, set the position to a positive integer.</span>
<a id=__codelineno-0-577 name=__codelineno-0-577></a><span class=sd>        config (Any): the config to be passed to the reply function.</span>
<a id=__codelineno-0-578 name=__codelineno-0-578></a><span class=sd>            When an agent is reset, the config will be reset to the original value.</span>
<a id=__codelineno-0-579 name=__codelineno-0-579></a><span class=sd>        reset_config (Callable): the function to reset the config.</span>
<a id=__codelineno-0-580 name=__codelineno-0-580></a><span class=sd>            The function returns None. Signature: ```def reset_config(config: Any)```</span>
<a id=__codelineno-0-581 name=__codelineno-0-581></a><span class=sd>        ignore_async_in_sync_chat (bool): whether to ignore the async reply function in sync chats. If `False`, an exception</span>
<a id=__codelineno-0-582 name=__codelineno-0-582></a><span class=sd>            will be raised if an async reply function is registered and a chat is initialized with a sync</span>
<a id=__codelineno-0-583 name=__codelineno-0-583></a><span class=sd>            function.</span>
<a id=__codelineno-0-584 name=__codelineno-0-584></a><span class=sd>        remove_other_reply_funcs (bool): whether to remove other reply functions when registering this reply function.</span>
<a id=__codelineno-0-585 name=__codelineno-0-585></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-586 name=__codelineno-0-586></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>trigger</span><span class=p>,</span> <span class=p>(</span><span class=nb>type</span><span class=p>,</span> <span class=nb>str</span><span class=p>,</span> <span class=n>Agent</span><span class=p>,</span> <span class=n>Callable</span><span class=p>,</span> <span class=nb>list</span><span class=p>)):</span>
<a id=__codelineno-0-587 name=__codelineno-0-587></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;trigger must be a class, a string, an agent, a callable or a list.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-588 name=__codelineno-0-588></a>    <span class=k>if</span> <span class=n>remove_other_reply_funcs</span><span class=p>:</span>
<a id=__codelineno-0-589 name=__codelineno-0-589></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_reply_func_list</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
<a id=__codelineno-0-590 name=__codelineno-0-590></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_reply_func_list</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span>
<a id=__codelineno-0-591 name=__codelineno-0-591></a>        <span class=n>position</span><span class=p>,</span>
<a id=__codelineno-0-592 name=__codelineno-0-592></a>        <span class=p>{</span>
<a id=__codelineno-0-593 name=__codelineno-0-593></a>            <span class=s2>&quot;trigger&quot;</span><span class=p>:</span> <span class=n>trigger</span><span class=p>,</span>
<a id=__codelineno-0-594 name=__codelineno-0-594></a>            <span class=s2>&quot;reply_func&quot;</span><span class=p>:</span> <span class=n>reply_func</span><span class=p>,</span>
<a id=__codelineno-0-595 name=__codelineno-0-595></a>            <span class=s2>&quot;config&quot;</span><span class=p>:</span> <span class=n>copy</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=n>config</span><span class=p>),</span>
<a id=__codelineno-0-596 name=__codelineno-0-596></a>            <span class=s2>&quot;init_config&quot;</span><span class=p>:</span> <span class=n>config</span><span class=p>,</span>
<a id=__codelineno-0-597 name=__codelineno-0-597></a>            <span class=s2>&quot;reset_config&quot;</span><span class=p>:</span> <span class=n>reset_config</span><span class=p>,</span>
<a id=__codelineno-0-598 name=__codelineno-0-598></a>            <span class=s2>&quot;ignore_async_in_sync_chat&quot;</span><span class=p>:</span> <span class=n>ignore_async_in_sync_chat</span> <span class=ow>and</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span><span class=n>reply_func</span><span class=p>),</span>
<a id=__codelineno-0-599 name=__codelineno-0-599></a>        <span class=p>},</span>
<a id=__codelineno-0-600 name=__codelineno-0-600></a>    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.replace_reply_func class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">replace_reply_func</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.replace_reply_func class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>replace_reply_func</span><span class=p>(</span><span class=n>old_reply_func</span><span class=p>,</span> <span class=n>new_reply_func</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Replace a registered reply function with a new one.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>old_reply_func</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the old reply function to be replaced.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>new_reply_func</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the new reply function to replace the old one.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-602>602</a></span>
<span class=normal><a href=#__codelineno-0-603>603</a></span>
<span class=normal><a href=#__codelineno-0-604>604</a></span>
<span class=normal><a href=#__codelineno-0-605>605</a></span>
<span class=normal><a href=#__codelineno-0-606>606</a></span>
<span class=normal><a href=#__codelineno-0-607>607</a></span>
<span class=normal><a href=#__codelineno-0-608>608</a></span>
<span class=normal><a href=#__codelineno-0-609>609</a></span>
<span class=normal><a href=#__codelineno-0-610>610</a></span>
<span class=normal><a href=#__codelineno-0-611>611</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-602 name=__codelineno-0-602></a><span class=k>def</span><span class=w> </span><span class=nf>replace_reply_func</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>old_reply_func</span><span class=p>:</span> <span class=n>Callable</span><span class=p>,</span> <span class=n>new_reply_func</span><span class=p>:</span> <span class=n>Callable</span><span class=p>):</span>
<a id=__codelineno-0-603 name=__codelineno-0-603></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Replace a registered reply function with a new one.</span>
<a id=__codelineno-0-604 name=__codelineno-0-604></a>
<a id=__codelineno-0-605 name=__codelineno-0-605></a><span class=sd>    Args:</span>
<a id=__codelineno-0-606 name=__codelineno-0-606></a><span class=sd>        old_reply_func (Callable): the old reply function to be replaced.</span>
<a id=__codelineno-0-607 name=__codelineno-0-607></a><span class=sd>        new_reply_func (Callable): the new reply function to replace the old one.</span>
<a id=__codelineno-0-608 name=__codelineno-0-608></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-609 name=__codelineno-0-609></a>    <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_reply_func_list</span><span class=p>:</span>
<a id=__codelineno-0-610 name=__codelineno-0-610></a>        <span class=k>if</span> <span class=n>f</span><span class=p>[</span><span class=s2>&quot;reply_func&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>old_reply_func</span><span class=p>:</span>
<a id=__codelineno-0-611 name=__codelineno-0-611></a>            <span class=n>f</span><span class=p>[</span><span class=s2>&quot;reply_func&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_reply_func</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_nested_chats class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">register_nested_chats</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_nested_chats class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>register_nested_chats</span><span class=p>(</span><span class=n>chat_queue</span><span class=p>,</span> <span class=n>trigger</span><span class=p>,</span> <span class=n>reply_func_from_nested_chats</span><span class=o>=</span><span class=s1>&#39;summary_from_nested_chats&#39;</span><span class=p>,</span> <span class=n>position</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>use_async</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Register a nested chat reply function.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>chat_queue</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a list of chat objects to be initiated. If use_async is used, then all messages in chat_queue must have a chat-id associated with them.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>trigger</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>refer to <code>register_reply</code> for details.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>Agent class, str, Agent instance, callable, or list</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>reply_func_from_nested_chats</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the reply function for the nested chat. The function takes a chat_queue for nested chat, recipient agent, a list of messages, a sender agent and a config as input and returns a reply message. Default to "summary_from_nested_chats", which corresponds to a built-in reply function that get summary from the nested chat_queue.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>(<a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>)</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;summary_from_nested_chats&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>)</code> </td> <td class=doc-param-details> <div class=doc-md-description> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>-&gt; Tuple[bool, Union[str, Dict, None]]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>position</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Ref to <code>register_reply</code> for details. Default to 2. It means we first check the termination and human reply, then check the registered nested chat reply.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>2</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>use_async</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Uses a_initiate_chats internally to start nested chats. If the original chat is initiated with a_initiate_chats, you may set this to true so nested chats do not run in sync.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>, None]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>kwargs</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Ref to <code>register_reply</code> for details.</p> </div> <p> <span class=doc-param-default> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-870>870</a></span>
<span class=normal><a href=#__codelineno-0-871>871</a></span>
<span class=normal><a href=#__codelineno-0-872>872</a></span>
<span class=normal><a href=#__codelineno-0-873>873</a></span>
<span class=normal><a href=#__codelineno-0-874>874</a></span>
<span class=normal><a href=#__codelineno-0-875>875</a></span>
<span class=normal><a href=#__codelineno-0-876>876</a></span>
<span class=normal><a href=#__codelineno-0-877>877</a></span>
<span class=normal><a href=#__codelineno-0-878>878</a></span>
<span class=normal><a href=#__codelineno-0-879>879</a></span>
<span class=normal><a href=#__codelineno-0-880>880</a></span>
<span class=normal><a href=#__codelineno-0-881>881</a></span>
<span class=normal><a href=#__codelineno-0-882>882</a></span>
<span class=normal><a href=#__codelineno-0-883>883</a></span>
<span class=normal><a href=#__codelineno-0-884>884</a></span>
<span class=normal><a href=#__codelineno-0-885>885</a></span>
<span class=normal><a href=#__codelineno-0-886>886</a></span>
<span class=normal><a href=#__codelineno-0-887>887</a></span>
<span class=normal><a href=#__codelineno-0-888>888</a></span>
<span class=normal><a href=#__codelineno-0-889>889</a></span>
<span class=normal><a href=#__codelineno-0-890>890</a></span>
<span class=normal><a href=#__codelineno-0-891>891</a></span>
<span class=normal><a href=#__codelineno-0-892>892</a></span>
<span class=normal><a href=#__codelineno-0-893>893</a></span>
<span class=normal><a href=#__codelineno-0-894>894</a></span>
<span class=normal><a href=#__codelineno-0-895>895</a></span>
<span class=normal><a href=#__codelineno-0-896>896</a></span>
<span class=normal><a href=#__codelineno-0-897>897</a></span>
<span class=normal><a href=#__codelineno-0-898>898</a></span>
<span class=normal><a href=#__codelineno-0-899>899</a></span>
<span class=normal><a href=#__codelineno-0-900>900</a></span>
<span class=normal><a href=#__codelineno-0-901>901</a></span>
<span class=normal><a href=#__codelineno-0-902>902</a></span>
<span class=normal><a href=#__codelineno-0-903>903</a></span>
<span class=normal><a href=#__codelineno-0-904>904</a></span>
<span class=normal><a href=#__codelineno-0-905>905</a></span>
<span class=normal><a href=#__codelineno-0-906>906</a></span>
<span class=normal><a href=#__codelineno-0-907>907</a></span>
<span class=normal><a href=#__codelineno-0-908>908</a></span>
<span class=normal><a href=#__codelineno-0-909>909</a></span>
<span class=normal><a href=#__codelineno-0-910>910</a></span>
<span class=normal><a href=#__codelineno-0-911>911</a></span>
<span class=normal><a href=#__codelineno-0-912>912</a></span>
<span class=normal><a href=#__codelineno-0-913>913</a></span>
<span class=normal><a href=#__codelineno-0-914>914</a></span>
<span class=normal><a href=#__codelineno-0-915>915</a></span>
<span class=normal><a href=#__codelineno-0-916>916</a></span>
<span class=normal><a href=#__codelineno-0-917>917</a></span>
<span class=normal><a href=#__codelineno-0-918>918</a></span>
<span class=normal><a href=#__codelineno-0-919>919</a></span>
<span class=normal><a href=#__codelineno-0-920>920</a></span>
<span class=normal><a href=#__codelineno-0-921>921</a></span>
<span class=normal><a href=#__codelineno-0-922>922</a></span>
<span class=normal><a href=#__codelineno-0-923>923</a></span>
<span class=normal><a href=#__codelineno-0-924>924</a></span>
<span class=normal><a href=#__codelineno-0-925>925</a></span>
<span class=normal><a href=#__codelineno-0-926>926</a></span>
<span class=normal><a href=#__codelineno-0-927>927</a></span>
<span class=normal><a href=#__codelineno-0-928>928</a></span>
<span class=normal><a href=#__codelineno-0-929>929</a></span>
<span class=normal><a href=#__codelineno-0-930>930</a></span>
<span class=normal><a href=#__codelineno-0-931>931</a></span>
<span class=normal><a href=#__codelineno-0-932>932</a></span>
<span class=normal><a href=#__codelineno-0-933>933</a></span>
<span class=normal><a href=#__codelineno-0-934>934</a></span>
<span class=normal><a href=#__codelineno-0-935>935</a></span>
<span class=normal><a href=#__codelineno-0-936>936</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-870 name=__codelineno-0-870></a><span class=k>def</span><span class=w> </span><span class=nf>register_nested_chats</span><span class=p>(</span>
<a id=__codelineno-0-871 name=__codelineno-0-871></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-872 name=__codelineno-0-872></a>    <span class=n>chat_queue</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]],</span>
<a id=__codelineno-0-873 name=__codelineno-0-873></a>    <span class=n>trigger</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>type</span><span class=p>[</span><span class=n>Agent</span><span class=p>],</span> <span class=nb>str</span><span class=p>,</span> <span class=n>Agent</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>Agent</span><span class=p>],</span> <span class=nb>bool</span><span class=p>],</span> <span class=nb>list</span><span class=p>],</span>
<a id=__codelineno-0-874 name=__codelineno-0-874></a>    <span class=n>reply_func_from_nested_chats</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=s2>&quot;summary_from_nested_chats&quot;</span><span class=p>,</span>
<a id=__codelineno-0-875 name=__codelineno-0-875></a>    <span class=n>position</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span>
<a id=__codelineno-0-876 name=__codelineno-0-876></a>    <span class=n>use_async</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=kc>None</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-877 name=__codelineno-0-877></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>,</span>
<a id=__codelineno-0-878 name=__codelineno-0-878></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-879 name=__codelineno-0-879></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Register a nested chat reply function.</span>
<a id=__codelineno-0-880 name=__codelineno-0-880></a>
<a id=__codelineno-0-881 name=__codelineno-0-881></a><span class=sd>    Args:</span>
<a id=__codelineno-0-882 name=__codelineno-0-882></a><span class=sd>        chat_queue (list): a list of chat objects to be initiated. If use_async is used, then all messages in chat_queue must have a chat-id associated with them.</span>
<a id=__codelineno-0-883 name=__codelineno-0-883></a><span class=sd>        trigger (Agent class, str, Agent instance, callable, or list): refer to `register_reply` for details.</span>
<a id=__codelineno-0-884 name=__codelineno-0-884></a><span class=sd>        reply_func_from_nested_chats (Callable, str): the reply function for the nested chat.</span>
<a id=__codelineno-0-885 name=__codelineno-0-885></a><span class=sd>            The function takes a chat_queue for nested chat, recipient agent, a list of messages, a sender agent and a config as input and returns a reply message.</span>
<a id=__codelineno-0-886 name=__codelineno-0-886></a><span class=sd>            Default to &quot;summary_from_nested_chats&quot;, which corresponds to a built-in reply function that get summary from the nested chat_queue.</span>
<a id=__codelineno-0-887 name=__codelineno-0-887></a><span class=sd>        ```python</span>
<a id=__codelineno-0-888 name=__codelineno-0-888></a><span class=sd>        def reply_func_from_nested_chats(</span>
<a id=__codelineno-0-889 name=__codelineno-0-889></a><span class=sd>            chat_queue: List[Dict],</span>
<a id=__codelineno-0-890 name=__codelineno-0-890></a><span class=sd>            recipient: ConversableAgent,</span>
<a id=__codelineno-0-891 name=__codelineno-0-891></a><span class=sd>            messages: Optional[List[Dict]] = None,</span>
<a id=__codelineno-0-892 name=__codelineno-0-892></a><span class=sd>            sender: Optional[Agent] = None,</span>
<a id=__codelineno-0-893 name=__codelineno-0-893></a><span class=sd>            config: Optional[Any] = None,</span>
<a id=__codelineno-0-894 name=__codelineno-0-894></a><span class=sd>        ) -&gt; Tuple[bool, Union[str, Dict, None]]:</span>
<a id=__codelineno-0-895 name=__codelineno-0-895></a><span class=sd>        ```</span>
<a id=__codelineno-0-896 name=__codelineno-0-896></a><span class=sd>        position (int): Ref to `register_reply` for details. Default to 2. It means we first check the termination and human reply, then check the registered nested chat reply.</span>
<a id=__codelineno-0-897 name=__codelineno-0-897></a><span class=sd>        use_async: Uses a_initiate_chats internally to start nested chats. If the original chat is initiated with a_initiate_chats, you may set this to true so nested chats do not run in sync.</span>
<a id=__codelineno-0-898 name=__codelineno-0-898></a><span class=sd>        kwargs: Ref to `register_reply` for details.</span>
<a id=__codelineno-0-899 name=__codelineno-0-899></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-900 name=__codelineno-0-900></a>    <span class=k>if</span> <span class=n>use_async</span><span class=p>:</span>
<a id=__codelineno-0-901 name=__codelineno-0-901></a>        <span class=k>for</span> <span class=n>chat</span> <span class=ow>in</span> <span class=n>chat_queue</span><span class=p>:</span>
<a id=__codelineno-0-902 name=__codelineno-0-902></a>            <span class=k>if</span> <span class=n>chat</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;chat_id&quot;</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-903 name=__codelineno-0-903></a>                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;chat_id is required for async nested chats&quot;</span><span class=p>)</span>
<a id=__codelineno-0-904 name=__codelineno-0-904></a>
<a id=__codelineno-0-905 name=__codelineno-0-905></a>    <span class=k>if</span> <span class=n>use_async</span><span class=p>:</span>
<a id=__codelineno-0-906 name=__codelineno-0-906></a>        <span class=k>if</span> <span class=n>reply_func_from_nested_chats</span> <span class=o>==</span> <span class=s2>&quot;summary_from_nested_chats&quot;</span><span class=p>:</span>
<a id=__codelineno-0-907 name=__codelineno-0-907></a>            <span class=n>reply_func_from_nested_chats</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_a_summary_from_nested_chats</span>
<a id=__codelineno-0-908 name=__codelineno-0-908></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>callable</span><span class=p>(</span><span class=n>reply_func_from_nested_chats</span><span class=p>)</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span>
<a id=__codelineno-0-909 name=__codelineno-0-909></a>            <span class=n>reply_func_from_nested_chats</span>
<a id=__codelineno-0-910 name=__codelineno-0-910></a>        <span class=p>):</span>
<a id=__codelineno-0-911 name=__codelineno-0-911></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;reply_func_from_nested_chats must be a callable and a coroutine&quot;</span><span class=p>)</span>
<a id=__codelineno-0-912 name=__codelineno-0-912></a>
<a id=__codelineno-0-913 name=__codelineno-0-913></a>        <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>wrapped_reply_func</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<a id=__codelineno-0-914 name=__codelineno-0-914></a>            <span class=k>return</span> <span class=k>await</span> <span class=n>reply_func_from_nested_chats</span><span class=p>(</span><span class=n>chat_queue</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>messages</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>config</span><span class=p>)</span>
<a id=__codelineno-0-915 name=__codelineno-0-915></a>
<a id=__codelineno-0-916 name=__codelineno-0-916></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-917 name=__codelineno-0-917></a>        <span class=k>if</span> <span class=n>reply_func_from_nested_chats</span> <span class=o>==</span> <span class=s2>&quot;summary_from_nested_chats&quot;</span><span class=p>:</span>
<a id=__codelineno-0-918 name=__codelineno-0-918></a>            <span class=n>reply_func_from_nested_chats</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_summary_from_nested_chats</span>
<a id=__codelineno-0-919 name=__codelineno-0-919></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>callable</span><span class=p>(</span><span class=n>reply_func_from_nested_chats</span><span class=p>):</span>
<a id=__codelineno-0-920 name=__codelineno-0-920></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;reply_func_from_nested_chats must be a callable&quot;</span><span class=p>)</span>
<a id=__codelineno-0-921 name=__codelineno-0-921></a>
<a id=__codelineno-0-922 name=__codelineno-0-922></a>        <span class=k>def</span><span class=w> </span><span class=nf>wrapped_reply_func</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<a id=__codelineno-0-923 name=__codelineno-0-923></a>            <span class=k>return</span> <span class=n>reply_func_from_nested_chats</span><span class=p>(</span><span class=n>chat_queue</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>messages</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>config</span><span class=p>)</span>
<a id=__codelineno-0-924 name=__codelineno-0-924></a>
<a id=__codelineno-0-925 name=__codelineno-0-925></a>    <span class=n>functools</span><span class=o>.</span><span class=n>update_wrapper</span><span class=p>(</span><span class=n>wrapped_reply_func</span><span class=p>,</span> <span class=n>reply_func_from_nested_chats</span><span class=p>)</span>
<a id=__codelineno-0-926 name=__codelineno-0-926></a>
<a id=__codelineno-0-927 name=__codelineno-0-927></a>    <span class=bp>self</span><span class=o>.</span><span class=n>register_reply</span><span class=p>(</span>
<a id=__codelineno-0-928 name=__codelineno-0-928></a>        <span class=n>trigger</span><span class=p>,</span>
<a id=__codelineno-0-929 name=__codelineno-0-929></a>        <span class=n>wrapped_reply_func</span><span class=p>,</span>
<a id=__codelineno-0-930 name=__codelineno-0-930></a>        <span class=n>position</span><span class=p>,</span>
<a id=__codelineno-0-931 name=__codelineno-0-931></a>        <span class=n>kwargs</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;config&quot;</span><span class=p>),</span>
<a id=__codelineno-0-932 name=__codelineno-0-932></a>        <span class=n>kwargs</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;reset_config&quot;</span><span class=p>),</span>
<a id=__codelineno-0-933 name=__codelineno-0-933></a>        <span class=n>ignore_async_in_sync_chat</span><span class=o>=</span><span class=p>(</span>
<a id=__codelineno-0-934 name=__codelineno-0-934></a>            <span class=ow>not</span> <span class=n>use_async</span> <span class=k>if</span> <span class=n>use_async</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=k>else</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;ignore_async_in_sync_chat&quot;</span><span class=p>)</span>
<a id=__codelineno-0-935 name=__codelineno-0-935></a>        <span class=p>),</span>
<a id=__codelineno-0-936 name=__codelineno-0-936></a>    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_context class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_context</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_context class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_context</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get a context variable by key.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>key</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The key to look up</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>default</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Value to return if key doesn't exist</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <p>Returns: The value associated with the key, or default if not found</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-938>938</a></span>
<span class=normal><a href=#__codelineno-0-939>939</a></span>
<span class=normal><a href=#__codelineno-0-940>940</a></span>
<span class=normal><a href=#__codelineno-0-941>941</a></span>
<span class=normal><a href=#__codelineno-0-942>942</a></span>
<span class=normal><a href=#__codelineno-0-943>943</a></span>
<span class=normal><a href=#__codelineno-0-944>944</a></span>
<span class=normal><a href=#__codelineno-0-945>945</a></span>
<span class=normal><a href=#__codelineno-0-946>946</a></span>
<span class=normal><a href=#__codelineno-0-947>947</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-938 name=__codelineno-0-938></a><span class=k>def</span><span class=w> </span><span class=nf>get_context</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>default</span><span class=p>:</span> <span class=n>Any</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
<a id=__codelineno-0-939 name=__codelineno-0-939></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get a context variable by key.</span>
<a id=__codelineno-0-940 name=__codelineno-0-940></a>
<a id=__codelineno-0-941 name=__codelineno-0-941></a><span class=sd>    Args:</span>
<a id=__codelineno-0-942 name=__codelineno-0-942></a><span class=sd>        key: The key to look up</span>
<a id=__codelineno-0-943 name=__codelineno-0-943></a><span class=sd>        default: Value to return if key doesn&#39;t exist</span>
<a id=__codelineno-0-944 name=__codelineno-0-944></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-945 name=__codelineno-0-945></a><span class=sd>        The value associated with the key, or default if not found</span>
<a id=__codelineno-0-946 name=__codelineno-0-946></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-947 name=__codelineno-0-947></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_variables</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.set_context class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">set_context</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.set_context class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_context</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Set a context variable.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>key</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The key to set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>value</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The value to associate with the key</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-949>949</a></span>
<span class=normal><a href=#__codelineno-0-950>950</a></span>
<span class=normal><a href=#__codelineno-0-951>951</a></span>
<span class=normal><a href=#__codelineno-0-952>952</a></span>
<span class=normal><a href=#__codelineno-0-953>953</a></span>
<span class=normal><a href=#__codelineno-0-954>954</a></span>
<span class=normal><a href=#__codelineno-0-955>955</a></span>
<span class=normal><a href=#__codelineno-0-956>956</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-949 name=__codelineno-0-949></a><span class=k>def</span><span class=w> </span><span class=nf>set_context</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-950 name=__codelineno-0-950></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Set a context variable.</span>
<a id=__codelineno-0-951 name=__codelineno-0-951></a>
<a id=__codelineno-0-952 name=__codelineno-0-952></a><span class=sd>    Args:</span>
<a id=__codelineno-0-953 name=__codelineno-0-953></a><span class=sd>        key: The key to set</span>
<a id=__codelineno-0-954 name=__codelineno-0-954></a><span class=sd>        value: The value to associate with the key</span>
<a id=__codelineno-0-955 name=__codelineno-0-955></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-956 name=__codelineno-0-956></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_context_variables</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_context class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_context</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_context class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_context</span><span class=p>(</span><span class=n>context_variables</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Update multiple context variables at once.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>context_variables</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Dictionary of variables to update/add</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-958>958</a></span>
<span class=normal><a href=#__codelineno-0-959>959</a></span>
<span class=normal><a href=#__codelineno-0-960>960</a></span>
<span class=normal><a href=#__codelineno-0-961>961</a></span>
<span class=normal><a href=#__codelineno-0-962>962</a></span>
<span class=normal><a href=#__codelineno-0-963>963</a></span>
<span class=normal><a href=#__codelineno-0-964>964</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-958 name=__codelineno-0-958></a><span class=k>def</span><span class=w> </span><span class=nf>update_context</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context_variables</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-959 name=__codelineno-0-959></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Update multiple context variables at once.</span>
<a id=__codelineno-0-960 name=__codelineno-0-960></a>
<a id=__codelineno-0-961 name=__codelineno-0-961></a><span class=sd>    Args:</span>
<a id=__codelineno-0-962 name=__codelineno-0-962></a><span class=sd>        context_variables: Dictionary of variables to update/add</span>
<a id=__codelineno-0-963 name=__codelineno-0-963></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-964 name=__codelineno-0-964></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_context_variables</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>context_variables</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.pop_context class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">pop_context</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.pop_context class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>pop_context</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Remove and return a context variable.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>key</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The key to remove</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>default</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Value to return if key doesn't exist</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <p>Returns: The value that was removed, or default if key not found</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-966>966</a></span>
<span class=normal><a href=#__codelineno-0-967>967</a></span>
<span class=normal><a href=#__codelineno-0-968>968</a></span>
<span class=normal><a href=#__codelineno-0-969>969</a></span>
<span class=normal><a href=#__codelineno-0-970>970</a></span>
<span class=normal><a href=#__codelineno-0-971>971</a></span>
<span class=normal><a href=#__codelineno-0-972>972</a></span>
<span class=normal><a href=#__codelineno-0-973>973</a></span>
<span class=normal><a href=#__codelineno-0-974>974</a></span>
<span class=normal><a href=#__codelineno-0-975>975</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-966 name=__codelineno-0-966></a><span class=k>def</span><span class=w> </span><span class=nf>pop_context</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>default</span><span class=p>:</span> <span class=n>Any</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
<a id=__codelineno-0-967 name=__codelineno-0-967></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Remove and return a context variable.</span>
<a id=__codelineno-0-968 name=__codelineno-0-968></a>
<a id=__codelineno-0-969 name=__codelineno-0-969></a><span class=sd>    Args:</span>
<a id=__codelineno-0-970 name=__codelineno-0-970></a><span class=sd>        key: The key to remove</span>
<a id=__codelineno-0-971 name=__codelineno-0-971></a><span class=sd>        default: Value to return if key doesn&#39;t exist</span>
<a id=__codelineno-0-972 name=__codelineno-0-972></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-973 name=__codelineno-0-973></a><span class=sd>        The value that was removed, or default if key not found</span>
<a id=__codelineno-0-974 name=__codelineno-0-974></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-975 name=__codelineno-0-975></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_variables</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_max_consecutive_auto_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_max_consecutive_auto_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_max_consecutive_auto_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_max_consecutive_auto_reply</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Update the maximum number of consecutive auto replies.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>value</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the maximum number of consecutive auto replies.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>sender</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>when the sender is provided, only update the max_consecutive_auto_reply for that sender.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../../../../Agent/#autogen.Agent>Agent</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-990> 990</a></span>
<span class=normal><a href=#__codelineno-0-991> 991</a></span>
<span class=normal><a href=#__codelineno-0-992> 992</a></span>
<span class=normal><a href=#__codelineno-0-993> 993</a></span>
<span class=normal><a href=#__codelineno-0-994> 994</a></span>
<span class=normal><a href=#__codelineno-0-995> 995</a></span>
<span class=normal><a href=#__codelineno-0-996> 996</a></span>
<span class=normal><a href=#__codelineno-0-997> 997</a></span>
<span class=normal><a href=#__codelineno-0-998> 998</a></span>
<span class=normal><a href=#__codelineno-0-999> 999</a></span>
<span class=normal><a href=#__codelineno-0-1000>1000</a></span>
<span class=normal><a href=#__codelineno-0-1001>1001</a></span>
<span class=normal><a href=#__codelineno-0-1002>1002</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-990 name=__codelineno-0-990></a><span class=k>def</span><span class=w> </span><span class=nf>update_max_consecutive_auto_reply</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<a id=__codelineno-0-991 name=__codelineno-0-991></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Update the maximum number of consecutive auto replies.</span>
<a id=__codelineno-0-992 name=__codelineno-0-992></a>
<a id=__codelineno-0-993 name=__codelineno-0-993></a><span class=sd>    Args:</span>
<a id=__codelineno-0-994 name=__codelineno-0-994></a><span class=sd>        value (int): the maximum number of consecutive auto replies.</span>
<a id=__codelineno-0-995 name=__codelineno-0-995></a><span class=sd>        sender (Agent): when the sender is provided, only update the max_consecutive_auto_reply for that sender.</span>
<a id=__codelineno-0-996 name=__codelineno-0-996></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-997 name=__codelineno-0-997></a>    <span class=k>if</span> <span class=n>sender</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-998 name=__codelineno-0-998></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply</span> <span class=o>=</span> <span class=n>value</span>
<a id=__codelineno-0-999 name=__codelineno-0-999></a>        <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply_dict</span><span class=p>:</span>
<a id=__codelineno-0-1000 name=__codelineno-0-1000></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply_dict</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
<a id=__codelineno-0-1001 name=__codelineno-0-1001></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1002 name=__codelineno-0-1002></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply_dict</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.max_consecutive_auto_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">max_consecutive_auto_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.max_consecutive_auto_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>max_consecutive_auto_reply</span><span class=p>(</span><span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>The maximum number of consecutive auto replies.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1004>1004</a></span>
<span class=normal><a href=#__codelineno-0-1005>1005</a></span>
<span class=normal><a href=#__codelineno-0-1006>1006</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1004 name=__codelineno-0-1004></a><span class=k>def</span><span class=w> </span><span class=nf>max_consecutive_auto_reply</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<a id=__codelineno-0-1005 name=__codelineno-0-1005></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;The maximum number of consecutive auto replies.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1006 name=__codelineno-0-1006></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply</span> <span class=k>if</span> <span class=n>sender</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply_dict</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.chat_messages_for_summary class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">chat_messages_for_summary</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.chat_messages_for_summary class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>chat_messages_for_summary</span><span class=p>(</span><span class=n>agent</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>A list of messages as a conversation to summarize.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1013>1013</a></span>
<span class=normal><a href=#__codelineno-0-1014>1014</a></span>
<span class=normal><a href=#__codelineno-0-1015>1015</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1013 name=__codelineno-0-1013></a><span class=k>def</span><span class=w> </span><span class=nf>chat_messages_for_summary</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agent</span><span class=p>:</span> <span class=n>Agent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-1014 name=__codelineno-0-1014></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;A list of messages as a conversation to summarize.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1015 name=__codelineno-0-1015></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>agent</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.last_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">last_message</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.last_message class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>last_message</span><span class=p>(</span><span class=n>agent</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>The last message exchanged with the agent.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>agent</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The agent in the conversation. If None and more than one agent's conversations are found, an error will be raised. If None and only one conversation is found, the last message of the only conversation will be returned.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../../../../Agent/#autogen.Agent>Agent</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The last message exchanged with the agent.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1017>1017</a></span>
<span class=normal><a href=#__codelineno-0-1018>1018</a></span>
<span class=normal><a href=#__codelineno-0-1019>1019</a></span>
<span class=normal><a href=#__codelineno-0-1020>1020</a></span>
<span class=normal><a href=#__codelineno-0-1021>1021</a></span>
<span class=normal><a href=#__codelineno-0-1022>1022</a></span>
<span class=normal><a href=#__codelineno-0-1023>1023</a></span>
<span class=normal><a href=#__codelineno-0-1024>1024</a></span>
<span class=normal><a href=#__codelineno-0-1025>1025</a></span>
<span class=normal><a href=#__codelineno-0-1026>1026</a></span>
<span class=normal><a href=#__codelineno-0-1027>1027</a></span>
<span class=normal><a href=#__codelineno-0-1028>1028</a></span>
<span class=normal><a href=#__codelineno-0-1029>1029</a></span>
<span class=normal><a href=#__codelineno-0-1030>1030</a></span>
<span class=normal><a href=#__codelineno-0-1031>1031</a></span>
<span class=normal><a href=#__codelineno-0-1032>1032</a></span>
<span class=normal><a href=#__codelineno-0-1033>1033</a></span>
<span class=normal><a href=#__codelineno-0-1034>1034</a></span>
<span class=normal><a href=#__codelineno-0-1035>1035</a></span>
<span class=normal><a href=#__codelineno-0-1036>1036</a></span>
<span class=normal><a href=#__codelineno-0-1037>1037</a></span>
<span class=normal><a href=#__codelineno-0-1038>1038</a></span>
<span class=normal><a href=#__codelineno-0-1039>1039</a></span>
<span class=normal><a href=#__codelineno-0-1040>1040</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1017 name=__codelineno-0-1017></a><span class=k>def</span><span class=w> </span><span class=nf>last_message</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-1018 name=__codelineno-0-1018></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;The last message exchanged with the agent.</span>
<a id=__codelineno-0-1019 name=__codelineno-0-1019></a>
<a id=__codelineno-0-1020 name=__codelineno-0-1020></a><span class=sd>    Args:</span>
<a id=__codelineno-0-1021 name=__codelineno-0-1021></a><span class=sd>        agent (Agent): The agent in the conversation.</span>
<a id=__codelineno-0-1022 name=__codelineno-0-1022></a><span class=sd>            If None and more than one agent&#39;s conversations are found, an error will be raised.</span>
<a id=__codelineno-0-1023 name=__codelineno-0-1023></a><span class=sd>            If None and only one conversation is found, the last message of the only conversation will be returned.</span>
<a id=__codelineno-0-1024 name=__codelineno-0-1024></a>
<a id=__codelineno-0-1025 name=__codelineno-0-1025></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-1026 name=__codelineno-0-1026></a><span class=sd>        The last message exchanged with the agent.</span>
<a id=__codelineno-0-1027 name=__codelineno-0-1027></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1028 name=__codelineno-0-1028></a>    <span class=k>if</span> <span class=n>agent</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1029 name=__codelineno-0-1029></a>        <span class=n>n_conversations</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>)</span>
<a id=__codelineno-0-1030 name=__codelineno-0-1030></a>        <span class=k>if</span> <span class=n>n_conversations</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-1031 name=__codelineno-0-1031></a>            <span class=k>return</span> <span class=kc>None</span>
<a id=__codelineno-0-1032 name=__codelineno-0-1032></a>        <span class=k>if</span> <span class=n>n_conversations</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
<a id=__codelineno-0-1033 name=__codelineno-0-1033></a>            <span class=k>for</span> <span class=n>conversation</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
<a id=__codelineno-0-1034 name=__codelineno-0-1034></a>                <span class=k>return</span> <span class=n>conversation</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-1035 name=__codelineno-0-1035></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;More than one conversation is found. Please specify the sender to get the last message.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-1036 name=__codelineno-0-1036></a>    <span class=k>if</span> <span class=n>agent</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>:</span>
<a id=__codelineno-0-1037 name=__codelineno-0-1037></a>        <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span>
<a id=__codelineno-0-1038 name=__codelineno-0-1038></a>            <span class=sa>f</span><span class=s2>&quot;The agent &#39;</span><span class=si>{</span><span class=n>agent</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&#39; is not present in any conversation. No history available for this agent.&quot;</span>
<a id=__codelineno-0-1039 name=__codelineno-0-1039></a>        <span class=p>)</span>
<a id=__codelineno-0-1040 name=__codelineno-0-1040></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>agent</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chat class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">initiate_chat</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chat class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>initiate_chat</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>clear_history</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>cache</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=n><span title=autogen.code_utils.DEFAULT_MAX_TURNS>DEFAULT_MAX_TURNS</span></span><span class=p>,</span> <span class=n>summary_method</span><span class=o>=</span><span class=n><a class="autorefs autorefs-internal" title=autogen.agentchat.conversable_agent.ConversableAgent.DEFAULT_SUMMARY_METHOD href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD>DEFAULT_SUMMARY_METHOD</a></span><span class=p>,</span> <span class=n>summary_args</span><span class=o>=</span><span class=p>{},</span> <span class=n>message</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Initiate a chat with the recipient agent.</p> <p>Reset the consecutive auto reply counter. If <code>clear_history</code> is True, the chat history with the recipient agent will be cleared.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>recipient</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the recipient agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.conversable_agent.ConversableAgent href=../../../../ConversableAgent/#autogen.ConversableAgent>ConversableAgent</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>clear_history</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether to clear the chat history with the agent. Default is True.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>silent</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>(Experimental) whether to print the messages for this conversation. Default is False.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> or None</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>cache</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the cache client to be used for this conversation. Default is None.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.cache.cache.AbstractCache href=../../../../cache/AbstractCache/#autogen.cache.AbstractCache>AbstractCache</a> or None</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>max_turns</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the maximum number of turns for the chat between the two agents. One turn means one conversation round trip. Note that this is different from <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chat--max-consecutive-auto-reply>max_consecutive_auto_reply</a> which is the maximum number of consecutive auto replies; and it is also different from <a href=./groupchat>max_rounds in GroupChat</a> which is the maximum number of rounds in a group chat session. If max_turns is set to None, the chat will continue until a termination condition is met. Default is None.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> or None</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><span title=autogen.code_utils.DEFAULT_MAX_TURNS>DEFAULT_MAX_TURNS</span></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>summary_method</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a method to get a summary from the chat. Default is DEFAULT_SUMMARY_METHOD, i.e., "last_msg".</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> or <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#callable>callable</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.conversable_agent.ConversableAgent.DEFAULT_SUMMARY_METHOD href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD>DEFAULT_SUMMARY_METHOD</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>Supported</code> </td> <td class=doc-param-details> <div class=doc-md-description> <ul> <li>when set to "last_msg", it returns the last message of the dialog as the summary.</li> <li>when set to "reflection_with_llm", it returns a summary extracted using an llm client. <code>llm_config</code> must be set in either the recipient or sender.</li> </ul> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>strings are &#34;last_msg&#34; and &#34;reflection_with_llm&#34;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>)</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>return recipient.last_message(sender)["content"]</p> </div> <p> </p> </td> </tr> <tr class=doc-section-item> <td> <code>summary_args</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a dictionary of arguments to be passed to the summary_method. One example key is "summary_prompt", and value is a string of text used to prompt a LLM-based agent (the sender or recipient agent) to reflect on the conversation and extract a summary when summary_method is "reflection_with_llm". The default summary_prompt is DEFAULT_SUMMARY_PROMPT, i.e., "Summarize takeaway from the conversation. Do not add any introductory phrases. If the intended request is NOT properly addressed, please point it out." Another available key is "summary_role", which is the role of the message sent to the agent in charge of summarizing. Default is "system".</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the initial message to be sent to the recipient. Needs to be provided. Otherwise, input() will be called to get the initial message. - If a string or a dict is provided, it will be used as the initial message. <code>generate_init_message</code> is called to generate the initial message for the agent based on this string and the context. If dict, it may contain the following reserved fields (either content or tool_calls need to be provided).</p> <div class=highlight><pre><span></span><code>    1. &quot;content&quot;: content of the message, can be None.
    2. &quot;function_call&quot;: a dictionary containing the function name and arguments. (deprecated in favor of &quot;tool_calls&quot;)
    3. &quot;tool_calls&quot;: a list of dictionaries containing the function name and arguments.
    4. &quot;role&quot;: role of the message, can be &quot;assistant&quot;, &quot;user&quot;, &quot;function&quot;.
        This field is only needed to distinguish between &quot;function&quot; or &quot;assistant&quot;/&quot;user&quot;.
    5. &quot;name&quot;: In most cases, this field is not needed. When the role is &quot;function&quot;, this field is needed to indicate the function name.
    6. &quot;context&quot; (dict): the context of the message, which will be passed to
        [OpenAIWrapper.create](/docs/api-reference/autogen/OpenAIWrapper#create).
</code></pre></div> <ul> <li> <p>If a callable is provided, it will be called to get the initial message in the form of a string or a dict. If the returned type is dict, it may contain the reserved fields mentioned above.</p> <p>Example of a callable message (returning a string):</p> </li> </ul> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>(<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> or <a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a>)</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>def</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>ConversableAgent, recipient: ConversableAgent, context: dict) -&gt; Union[str, Dict]: carryover = context.get("carryover", "") if isinstance(message, list): carryover = carryover[-1] final_msg = "Write a blogpost." + "\nContext: \n" + carryover return final_msg</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>my_message(sender</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>def</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>ConversableAgent, recipient: ConversableAgent, context: dict) -&gt; Union[str, Dict]: final_msg = {} carryover = context.get("carryover", "") if isinstance(message, list): carryover = carryover[-1] final_msg["content"] = "Write a blogpost." + "\nContext: \n" + carryover final_msg["context"] = {"prefix": "Today I feel"} return final_msg</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>my_message(sender</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>any additional information. It has the following reserved fields: - "carryover": a string or a list of string to specify the carryover information to be passed to this chat. If provided, we will combine this carryover (by attaching a "context: " string and the carryover content after the message content) with the "message" content when generating the initial chat message in <code>generate_init_message</code>. - "verbose": a boolean to specify whether to print the message and carryover in a chat. Default is False.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RAISES</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-raises-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </span> </td> <td class=doc-raises-details> <div class=doc-md-description> <p>if any async reply functions are registered and not ignored in sync chat.</p> </div> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ChatResult</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>an ChatResult object.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.chat.ChatResult href=../../../../ChatResult/#autogen.ChatResult>ChatResult</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1376>1376</a></span>
<span class=normal><a href=#__codelineno-0-1377>1377</a></span>
<span class=normal><a href=#__codelineno-0-1378>1378</a></span>
<span class=normal><a href=#__codelineno-0-1379>1379</a></span>
<span class=normal><a href=#__codelineno-0-1380>1380</a></span>
<span class=normal><a href=#__codelineno-0-1381>1381</a></span>
<span class=normal><a href=#__codelineno-0-1382>1382</a></span>
<span class=normal><a href=#__codelineno-0-1383>1383</a></span>
<span class=normal><a href=#__codelineno-0-1384>1384</a></span>
<span class=normal><a href=#__codelineno-0-1385>1385</a></span>
<span class=normal><a href=#__codelineno-0-1386>1386</a></span>
<span class=normal><a href=#__codelineno-0-1387>1387</a></span>
<span class=normal><a href=#__codelineno-0-1388>1388</a></span>
<span class=normal><a href=#__codelineno-0-1389>1389</a></span>
<span class=normal><a href=#__codelineno-0-1390>1390</a></span>
<span class=normal><a href=#__codelineno-0-1391>1391</a></span>
<span class=normal><a href=#__codelineno-0-1392>1392</a></span>
<span class=normal><a href=#__codelineno-0-1393>1393</a></span>
<span class=normal><a href=#__codelineno-0-1394>1394</a></span>
<span class=normal><a href=#__codelineno-0-1395>1395</a></span>
<span class=normal><a href=#__codelineno-0-1396>1396</a></span>
<span class=normal><a href=#__codelineno-0-1397>1397</a></span>
<span class=normal><a href=#__codelineno-0-1398>1398</a></span>
<span class=normal><a href=#__codelineno-0-1399>1399</a></span>
<span class=normal><a href=#__codelineno-0-1400>1400</a></span>
<span class=normal><a href=#__codelineno-0-1401>1401</a></span>
<span class=normal><a href=#__codelineno-0-1402>1402</a></span>
<span class=normal><a href=#__codelineno-0-1403>1403</a></span>
<span class=normal><a href=#__codelineno-0-1404>1404</a></span>
<span class=normal><a href=#__codelineno-0-1405>1405</a></span>
<span class=normal><a href=#__codelineno-0-1406>1406</a></span>
<span class=normal><a href=#__codelineno-0-1407>1407</a></span>
<span class=normal><a href=#__codelineno-0-1408>1408</a></span>
<span class=normal><a href=#__codelineno-0-1409>1409</a></span>
<span class=normal><a href=#__codelineno-0-1410>1410</a></span>
<span class=normal><a href=#__codelineno-0-1411>1411</a></span>
<span class=normal><a href=#__codelineno-0-1412>1412</a></span>
<span class=normal><a href=#__codelineno-0-1413>1413</a></span>
<span class=normal><a href=#__codelineno-0-1414>1414</a></span>
<span class=normal><a href=#__codelineno-0-1415>1415</a></span>
<span class=normal><a href=#__codelineno-0-1416>1416</a></span>
<span class=normal><a href=#__codelineno-0-1417>1417</a></span>
<span class=normal><a href=#__codelineno-0-1418>1418</a></span>
<span class=normal><a href=#__codelineno-0-1419>1419</a></span>
<span class=normal><a href=#__codelineno-0-1420>1420</a></span>
<span class=normal><a href=#__codelineno-0-1421>1421</a></span>
<span class=normal><a href=#__codelineno-0-1422>1422</a></span>
<span class=normal><a href=#__codelineno-0-1423>1423</a></span>
<span class=normal><a href=#__codelineno-0-1424>1424</a></span>
<span class=normal><a href=#__codelineno-0-1425>1425</a></span>
<span class=normal><a href=#__codelineno-0-1426>1426</a></span>
<span class=normal><a href=#__codelineno-0-1427>1427</a></span>
<span class=normal><a href=#__codelineno-0-1428>1428</a></span>
<span class=normal><a href=#__codelineno-0-1429>1429</a></span>
<span class=normal><a href=#__codelineno-0-1430>1430</a></span>
<span class=normal><a href=#__codelineno-0-1431>1431</a></span>
<span class=normal><a href=#__codelineno-0-1432>1432</a></span>
<span class=normal><a href=#__codelineno-0-1433>1433</a></span>
<span class=normal><a href=#__codelineno-0-1434>1434</a></span>
<span class=normal><a href=#__codelineno-0-1435>1435</a></span>
<span class=normal><a href=#__codelineno-0-1436>1436</a></span>
<span class=normal><a href=#__codelineno-0-1437>1437</a></span>
<span class=normal><a href=#__codelineno-0-1438>1438</a></span>
<span class=normal><a href=#__codelineno-0-1439>1439</a></span>
<span class=normal><a href=#__codelineno-0-1440>1440</a></span>
<span class=normal><a href=#__codelineno-0-1441>1441</a></span>
<span class=normal><a href=#__codelineno-0-1442>1442</a></span>
<span class=normal><a href=#__codelineno-0-1443>1443</a></span>
<span class=normal><a href=#__codelineno-0-1444>1444</a></span>
<span class=normal><a href=#__codelineno-0-1445>1445</a></span>
<span class=normal><a href=#__codelineno-0-1446>1446</a></span>
<span class=normal><a href=#__codelineno-0-1447>1447</a></span>
<span class=normal><a href=#__codelineno-0-1448>1448</a></span>
<span class=normal><a href=#__codelineno-0-1449>1449</a></span>
<span class=normal><a href=#__codelineno-0-1450>1450</a></span>
<span class=normal><a href=#__codelineno-0-1451>1451</a></span>
<span class=normal><a href=#__codelineno-0-1452>1452</a></span>
<span class=normal><a href=#__codelineno-0-1453>1453</a></span>
<span class=normal><a href=#__codelineno-0-1454>1454</a></span>
<span class=normal><a href=#__codelineno-0-1455>1455</a></span>
<span class=normal><a href=#__codelineno-0-1456>1456</a></span>
<span class=normal><a href=#__codelineno-0-1457>1457</a></span>
<span class=normal><a href=#__codelineno-0-1458>1458</a></span>
<span class=normal><a href=#__codelineno-0-1459>1459</a></span>
<span class=normal><a href=#__codelineno-0-1460>1460</a></span>
<span class=normal><a href=#__codelineno-0-1461>1461</a></span>
<span class=normal><a href=#__codelineno-0-1462>1462</a></span>
<span class=normal><a href=#__codelineno-0-1463>1463</a></span>
<span class=normal><a href=#__codelineno-0-1464>1464</a></span>
<span class=normal><a href=#__codelineno-0-1465>1465</a></span>
<span class=normal><a href=#__codelineno-0-1466>1466</a></span>
<span class=normal><a href=#__codelineno-0-1467>1467</a></span>
<span class=normal><a href=#__codelineno-0-1468>1468</a></span>
<span class=normal><a href=#__codelineno-0-1469>1469</a></span>
<span class=normal><a href=#__codelineno-0-1470>1470</a></span>
<span class=normal><a href=#__codelineno-0-1471>1471</a></span>
<span class=normal><a href=#__codelineno-0-1472>1472</a></span>
<span class=normal><a href=#__codelineno-0-1473>1473</a></span>
<span class=normal><a href=#__codelineno-0-1474>1474</a></span>
<span class=normal><a href=#__codelineno-0-1475>1475</a></span>
<span class=normal><a href=#__codelineno-0-1476>1476</a></span>
<span class=normal><a href=#__codelineno-0-1477>1477</a></span>
<span class=normal><a href=#__codelineno-0-1478>1478</a></span>
<span class=normal><a href=#__codelineno-0-1479>1479</a></span>
<span class=normal><a href=#__codelineno-0-1480>1480</a></span>
<span class=normal><a href=#__codelineno-0-1481>1481</a></span>
<span class=normal><a href=#__codelineno-0-1482>1482</a></span>
<span class=normal><a href=#__codelineno-0-1483>1483</a></span>
<span class=normal><a href=#__codelineno-0-1484>1484</a></span>
<span class=normal><a href=#__codelineno-0-1485>1485</a></span>
<span class=normal><a href=#__codelineno-0-1486>1486</a></span>
<span class=normal><a href=#__codelineno-0-1487>1487</a></span>
<span class=normal><a href=#__codelineno-0-1488>1488</a></span>
<span class=normal><a href=#__codelineno-0-1489>1489</a></span>
<span class=normal><a href=#__codelineno-0-1490>1490</a></span>
<span class=normal><a href=#__codelineno-0-1491>1491</a></span>
<span class=normal><a href=#__codelineno-0-1492>1492</a></span>
<span class=normal><a href=#__codelineno-0-1493>1493</a></span>
<span class=normal><a href=#__codelineno-0-1494>1494</a></span>
<span class=normal><a href=#__codelineno-0-1495>1495</a></span>
<span class=normal><a href=#__codelineno-0-1496>1496</a></span>
<span class=normal><a href=#__codelineno-0-1497>1497</a></span>
<span class=normal><a href=#__codelineno-0-1498>1498</a></span>
<span class=normal><a href=#__codelineno-0-1499>1499</a></span>
<span class=normal><a href=#__codelineno-0-1500>1500</a></span>
<span class=normal><a href=#__codelineno-0-1501>1501</a></span>
<span class=normal><a href=#__codelineno-0-1502>1502</a></span>
<span class=normal><a href=#__codelineno-0-1503>1503</a></span>
<span class=normal><a href=#__codelineno-0-1504>1504</a></span>
<span class=normal><a href=#__codelineno-0-1505>1505</a></span>
<span class=normal><a href=#__codelineno-0-1506>1506</a></span>
<span class=normal><a href=#__codelineno-0-1507>1507</a></span>
<span class=normal><a href=#__codelineno-0-1508>1508</a></span>
<span class=normal><a href=#__codelineno-0-1509>1509</a></span>
<span class=normal><a href=#__codelineno-0-1510>1510</a></span>
<span class=normal><a href=#__codelineno-0-1511>1511</a></span>
<span class=normal><a href=#__codelineno-0-1512>1512</a></span>
<span class=normal><a href=#__codelineno-0-1513>1513</a></span>
<span class=normal><a href=#__codelineno-0-1514>1514</a></span>
<span class=normal><a href=#__codelineno-0-1515>1515</a></span>
<span class=normal><a href=#__codelineno-0-1516>1516</a></span>
<span class=normal><a href=#__codelineno-0-1517>1517</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1376 name=__codelineno-0-1376></a><span class=k>def</span><span class=w> </span><span class=nf>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-0-1377 name=__codelineno-0-1377></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1378 name=__codelineno-0-1378></a>    <span class=n>recipient</span><span class=p>:</span> <span class=s2>&quot;ConversableAgent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-1379 name=__codelineno-0-1379></a>    <span class=n>clear_history</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-0-1380 name=__codelineno-0-1380></a>    <span class=n>silent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-1381 name=__codelineno-0-1381></a>    <span class=n>cache</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>AbstractCache</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1382 name=__codelineno-0-1382></a>    <span class=n>max_turns</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=n>DEFAULT_MAX_TURNS</span><span class=p>,</span>
<a id=__codelineno-0-1383 name=__codelineno-0-1383></a>    <span class=n>summary_method</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=n>DEFAULT_SUMMARY_METHOD</span><span class=p>,</span>
<a id=__codelineno-0-1384 name=__codelineno-0-1384></a>    <span class=n>summary_args</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{},</span>
<a id=__codelineno-0-1385 name=__codelineno-0-1385></a>    <span class=n>message</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1386 name=__codelineno-0-1386></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
<a id=__codelineno-0-1387 name=__codelineno-0-1387></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ChatResult</span><span class=p>:</span>
<a id=__codelineno-0-1388 name=__codelineno-0-1388></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initiate a chat with the recipient agent.</span>
<a id=__codelineno-0-1389 name=__codelineno-0-1389></a>
<a id=__codelineno-0-1390 name=__codelineno-0-1390></a><span class=sd>    Reset the consecutive auto reply counter.</span>
<a id=__codelineno-0-1391 name=__codelineno-0-1391></a><span class=sd>    If `clear_history` is True, the chat history with the recipient agent will be cleared.</span>
<a id=__codelineno-0-1392 name=__codelineno-0-1392></a>
<a id=__codelineno-0-1393 name=__codelineno-0-1393></a>
<a id=__codelineno-0-1394 name=__codelineno-0-1394></a><span class=sd>    Args:</span>
<a id=__codelineno-0-1395 name=__codelineno-0-1395></a><span class=sd>        recipient: the recipient agent.</span>
<a id=__codelineno-0-1396 name=__codelineno-0-1396></a><span class=sd>        clear_history (bool): whether to clear the chat history with the agent. Default is True.</span>
<a id=__codelineno-0-1397 name=__codelineno-0-1397></a><span class=sd>        silent (bool or None): (Experimental) whether to print the messages for this conversation. Default is False.</span>
<a id=__codelineno-0-1398 name=__codelineno-0-1398></a><span class=sd>        cache (AbstractCache or None): the cache client to be used for this conversation. Default is None.</span>
<a id=__codelineno-0-1399 name=__codelineno-0-1399></a><span class=sd>        max_turns (int or None): the maximum number of turns for the chat between the two agents. One turn means one conversation round trip. Note that this is different from</span>
<a id=__codelineno-0-1400 name=__codelineno-0-1400></a><span class=sd>            [max_consecutive_auto_reply](#max-consecutive-auto-reply) which is the maximum number of consecutive auto replies; and it is also different from [max_rounds in GroupChat](./groupchat) which is the maximum number of rounds in a group chat session.</span>
<a id=__codelineno-0-1401 name=__codelineno-0-1401></a><span class=sd>            If max_turns is set to None, the chat will continue until a termination condition is met. Default is None.</span>
<a id=__codelineno-0-1402 name=__codelineno-0-1402></a><span class=sd>        summary_method (str or callable): a method to get a summary from the chat. Default is DEFAULT_SUMMARY_METHOD, i.e., &quot;last_msg&quot;.</span>
<a id=__codelineno-0-1403 name=__codelineno-0-1403></a>
<a id=__codelineno-0-1404 name=__codelineno-0-1404></a><span class=sd>        Supported strings are &quot;last_msg&quot; and &quot;reflection_with_llm&quot;:</span>
<a id=__codelineno-0-1405 name=__codelineno-0-1405></a><span class=sd>            - when set to &quot;last_msg&quot;, it returns the last message of the dialog as the summary.</span>
<a id=__codelineno-0-1406 name=__codelineno-0-1406></a><span class=sd>            - when set to &quot;reflection_with_llm&quot;, it returns a summary extracted using an llm client.</span>
<a id=__codelineno-0-1407 name=__codelineno-0-1407></a><span class=sd>                `llm_config` must be set in either the recipient or sender.</span>
<a id=__codelineno-0-1408 name=__codelineno-0-1408></a>
<a id=__codelineno-0-1409 name=__codelineno-0-1409></a><span class=sd>        A callable summary_method should take the recipient and sender agent in a chat as input and return a string of summary. E.g.,</span>
<a id=__codelineno-0-1410 name=__codelineno-0-1410></a>
<a id=__codelineno-0-1411 name=__codelineno-0-1411></a><span class=sd>        ```python</span>
<a id=__codelineno-0-1412 name=__codelineno-0-1412></a><span class=sd>        def my_summary_method(</span>
<a id=__codelineno-0-1413 name=__codelineno-0-1413></a><span class=sd>            sender: ConversableAgent,</span>
<a id=__codelineno-0-1414 name=__codelineno-0-1414></a><span class=sd>            recipient: ConversableAgent,</span>
<a id=__codelineno-0-1415 name=__codelineno-0-1415></a><span class=sd>            summary_args: dict,</span>
<a id=__codelineno-0-1416 name=__codelineno-0-1416></a><span class=sd>        ):</span>
<a id=__codelineno-0-1417 name=__codelineno-0-1417></a><span class=sd>            return recipient.last_message(sender)[&quot;content&quot;]</span>
<a id=__codelineno-0-1418 name=__codelineno-0-1418></a><span class=sd>        ```</span>
<a id=__codelineno-0-1419 name=__codelineno-0-1419></a><span class=sd>        summary_args (dict): a dictionary of arguments to be passed to the summary_method.</span>
<a id=__codelineno-0-1420 name=__codelineno-0-1420></a><span class=sd>            One example key is &quot;summary_prompt&quot;, and value is a string of text used to prompt a LLM-based agent (the sender or recipient agent) to reflect</span>
<a id=__codelineno-0-1421 name=__codelineno-0-1421></a><span class=sd>            on the conversation and extract a summary when summary_method is &quot;reflection_with_llm&quot;.</span>
<a id=__codelineno-0-1422 name=__codelineno-0-1422></a><span class=sd>            The default summary_prompt is DEFAULT_SUMMARY_PROMPT, i.e., &quot;Summarize takeaway from the conversation. Do not add any introductory phrases. If the intended request is NOT properly addressed, please point it out.&quot;</span>
<a id=__codelineno-0-1423 name=__codelineno-0-1423></a><span class=sd>            Another available key is &quot;summary_role&quot;, which is the role of the message sent to the agent in charge of summarizing. Default is &quot;system&quot;.</span>
<a id=__codelineno-0-1424 name=__codelineno-0-1424></a><span class=sd>        message (str, dict or Callable): the initial message to be sent to the recipient. Needs to be provided. Otherwise, input() will be called to get the initial message.</span>
<a id=__codelineno-0-1425 name=__codelineno-0-1425></a><span class=sd>            - If a string or a dict is provided, it will be used as the initial message.        `generate_init_message` is called to generate the initial message for the agent based on this string and the context.</span>
<a id=__codelineno-0-1426 name=__codelineno-0-1426></a><span class=sd>                If dict, it may contain the following reserved fields (either content or tool_calls need to be provided).</span>
<a id=__codelineno-0-1427 name=__codelineno-0-1427></a>
<a id=__codelineno-0-1428 name=__codelineno-0-1428></a><span class=sd>                    1. &quot;content&quot;: content of the message, can be None.</span>
<a id=__codelineno-0-1429 name=__codelineno-0-1429></a><span class=sd>                    2. &quot;function_call&quot;: a dictionary containing the function name and arguments. (deprecated in favor of &quot;tool_calls&quot;)</span>
<a id=__codelineno-0-1430 name=__codelineno-0-1430></a><span class=sd>                    3. &quot;tool_calls&quot;: a list of dictionaries containing the function name and arguments.</span>
<a id=__codelineno-0-1431 name=__codelineno-0-1431></a><span class=sd>                    4. &quot;role&quot;: role of the message, can be &quot;assistant&quot;, &quot;user&quot;, &quot;function&quot;.</span>
<a id=__codelineno-0-1432 name=__codelineno-0-1432></a><span class=sd>                        This field is only needed to distinguish between &quot;function&quot; or &quot;assistant&quot;/&quot;user&quot;.</span>
<a id=__codelineno-0-1433 name=__codelineno-0-1433></a><span class=sd>                    5. &quot;name&quot;: In most cases, this field is not needed. When the role is &quot;function&quot;, this field is needed to indicate the function name.</span>
<a id=__codelineno-0-1434 name=__codelineno-0-1434></a><span class=sd>                    6. &quot;context&quot; (dict): the context of the message, which will be passed to</span>
<a id=__codelineno-0-1435 name=__codelineno-0-1435></a><span class=sd>                        [OpenAIWrapper.create](/docs/api-reference/autogen/OpenAIWrapper#create).</span>
<a id=__codelineno-0-1436 name=__codelineno-0-1436></a>
<a id=__codelineno-0-1437 name=__codelineno-0-1437></a><span class=sd>            - If a callable is provided, it will be called to get the initial message in the form of a string or a dict.</span>
<a id=__codelineno-0-1438 name=__codelineno-0-1438></a><span class=sd>                If the returned type is dict, it may contain the reserved fields mentioned above.</span>
<a id=__codelineno-0-1439 name=__codelineno-0-1439></a>
<a id=__codelineno-0-1440 name=__codelineno-0-1440></a><span class=sd>                Example of a callable message (returning a string):</span>
<a id=__codelineno-0-1441 name=__codelineno-0-1441></a>
<a id=__codelineno-0-1442 name=__codelineno-0-1442></a><span class=sd>        ```python</span>
<a id=__codelineno-0-1443 name=__codelineno-0-1443></a><span class=sd>        def my_message(sender: ConversableAgent, recipient: ConversableAgent, context: dict) -&gt; Union[str, Dict]:</span>
<a id=__codelineno-0-1444 name=__codelineno-0-1444></a><span class=sd>            carryover = context.get(&quot;carryover&quot;, &quot;&quot;)</span>
<a id=__codelineno-0-1445 name=__codelineno-0-1445></a><span class=sd>            if isinstance(message, list):</span>
<a id=__codelineno-0-1446 name=__codelineno-0-1446></a><span class=sd>                carryover = carryover[-1]</span>
<a id=__codelineno-0-1447 name=__codelineno-0-1447></a><span class=sd>            final_msg = &quot;Write a blogpost.&quot; + &quot;\\nContext: \\n&quot; + carryover</span>
<a id=__codelineno-0-1448 name=__codelineno-0-1448></a><span class=sd>            return final_msg</span>
<a id=__codelineno-0-1449 name=__codelineno-0-1449></a><span class=sd>        ```</span>
<a id=__codelineno-0-1450 name=__codelineno-0-1450></a>
<a id=__codelineno-0-1451 name=__codelineno-0-1451></a><span class=sd>                Example of a callable message (returning a dict):</span>
<a id=__codelineno-0-1452 name=__codelineno-0-1452></a>
<a id=__codelineno-0-1453 name=__codelineno-0-1453></a><span class=sd>        ```python</span>
<a id=__codelineno-0-1454 name=__codelineno-0-1454></a><span class=sd>        def my_message(sender: ConversableAgent, recipient: ConversableAgent, context: dict) -&gt; Union[str, Dict]:</span>
<a id=__codelineno-0-1455 name=__codelineno-0-1455></a><span class=sd>            final_msg = {}</span>
<a id=__codelineno-0-1456 name=__codelineno-0-1456></a><span class=sd>            carryover = context.get(&quot;carryover&quot;, &quot;&quot;)</span>
<a id=__codelineno-0-1457 name=__codelineno-0-1457></a><span class=sd>            if isinstance(message, list):</span>
<a id=__codelineno-0-1458 name=__codelineno-0-1458></a><span class=sd>                carryover = carryover[-1]</span>
<a id=__codelineno-0-1459 name=__codelineno-0-1459></a><span class=sd>            final_msg[&quot;content&quot;] = &quot;Write a blogpost.&quot; + &quot;\\nContext: \\n&quot; + carryover</span>
<a id=__codelineno-0-1460 name=__codelineno-0-1460></a><span class=sd>            final_msg[&quot;context&quot;] = {&quot;prefix&quot;: &quot;Today I feel&quot;}</span>
<a id=__codelineno-0-1461 name=__codelineno-0-1461></a><span class=sd>            return final_msg</span>
<a id=__codelineno-0-1462 name=__codelineno-0-1462></a><span class=sd>        ```</span>
<a id=__codelineno-0-1463 name=__codelineno-0-1463></a><span class=sd>        **kwargs: any additional information. It has the following reserved fields:</span>
<a id=__codelineno-0-1464 name=__codelineno-0-1464></a><span class=sd>            - &quot;carryover&quot;: a string or a list of string to specify the carryover information to be passed to this chat.</span>
<a id=__codelineno-0-1465 name=__codelineno-0-1465></a><span class=sd>                If provided, we will combine this carryover (by attaching a &quot;context: &quot; string and the carryover content after the message content) with the &quot;message&quot; content when generating the initial chat</span>
<a id=__codelineno-0-1466 name=__codelineno-0-1466></a><span class=sd>                message in `generate_init_message`.</span>
<a id=__codelineno-0-1467 name=__codelineno-0-1467></a><span class=sd>            - &quot;verbose&quot;: a boolean to specify whether to print the message and carryover in a chat. Default is False.</span>
<a id=__codelineno-0-1468 name=__codelineno-0-1468></a>
<a id=__codelineno-0-1469 name=__codelineno-0-1469></a><span class=sd>    Raises:</span>
<a id=__codelineno-0-1470 name=__codelineno-0-1470></a><span class=sd>        RuntimeError: if any async reply functions are registered and not ignored in sync chat.</span>
<a id=__codelineno-0-1471 name=__codelineno-0-1471></a>
<a id=__codelineno-0-1472 name=__codelineno-0-1472></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-1473 name=__codelineno-0-1473></a><span class=sd>        ChatResult: an ChatResult object.</span>
<a id=__codelineno-0-1474 name=__codelineno-0-1474></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1475 name=__codelineno-0-1475></a>    <span class=n>_chat_info</span> <span class=o>=</span> <span class=nb>locals</span><span class=p>()</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
<a id=__codelineno-0-1476 name=__codelineno-0-1476></a>    <span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;sender&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span>
<a id=__codelineno-0-1477 name=__codelineno-0-1477></a>    <span class=n>consolidate_chat_info</span><span class=p>(</span><span class=n>_chat_info</span><span class=p>,</span> <span class=n>uniform_sender</span><span class=o>=</span><span class=bp>self</span><span class=p>)</span>
<a id=__codelineno-0-1478 name=__codelineno-0-1478></a>    <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=p>[</span><span class=bp>self</span><span class=p>,</span> <span class=n>recipient</span><span class=p>]:</span>
<a id=__codelineno-0-1479 name=__codelineno-0-1479></a>        <span class=n>agent</span><span class=o>.</span><span class=n>_raise_exception_on_async_reply_functions</span><span class=p>()</span>
<a id=__codelineno-0-1480 name=__codelineno-0-1480></a>        <span class=n>agent</span><span class=o>.</span><span class=n>previous_cache</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>client_cache</span>
<a id=__codelineno-0-1481 name=__codelineno-0-1481></a>        <span class=n>agent</span><span class=o>.</span><span class=n>client_cache</span> <span class=o>=</span> <span class=n>cache</span>
<a id=__codelineno-0-1482 name=__codelineno-0-1482></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>max_turns</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
<a id=__codelineno-0-1483 name=__codelineno-0-1483></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_prepare_chat</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>clear_history</span><span class=p>,</span> <span class=n>reply_at_receive</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<a id=__codelineno-0-1484 name=__codelineno-0-1484></a>        <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>max_turns</span><span class=p>):</span>
<a id=__codelineno-0-1485 name=__codelineno-0-1485></a>            <span class=k>if</span> <span class=n>_</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-1486 name=__codelineno-0-1486></a>                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>Callable</span><span class=p>):</span>
<a id=__codelineno-0-1487 name=__codelineno-0-1487></a>                    <span class=n>msg2send</span> <span class=o>=</span> <span class=n>message</span><span class=p>(</span><span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;sender&quot;</span><span class=p>],</span> <span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;recipient&quot;</span><span class=p>],</span> <span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1488 name=__codelineno-0-1488></a>                <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1489 name=__codelineno-0-1489></a>                    <span class=n>msg2send</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_init_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1490 name=__codelineno-0-1490></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1491 name=__codelineno-0-1491></a>                <span class=n>msg2send</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>chat_messages</span><span class=p>[</span><span class=n>recipient</span><span class=p>],</span> <span class=n>sender</span><span class=o>=</span><span class=n>recipient</span><span class=p>)</span>
<a id=__codelineno-0-1492 name=__codelineno-0-1492></a>            <span class=k>if</span> <span class=n>msg2send</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1493 name=__codelineno-0-1493></a>                <span class=k>break</span>
<a id=__codelineno-0-1494 name=__codelineno-0-1494></a>            <span class=bp>self</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>msg2send</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>request_reply</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=n>silent</span><span class=p>)</span>
<a id=__codelineno-0-1495 name=__codelineno-0-1495></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1496 name=__codelineno-0-1496></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_prepare_chat</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>clear_history</span><span class=p>)</span>
<a id=__codelineno-0-1497 name=__codelineno-0-1497></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>Callable</span><span class=p>):</span>
<a id=__codelineno-0-1498 name=__codelineno-0-1498></a>            <span class=n>msg2send</span> <span class=o>=</span> <span class=n>message</span><span class=p>(</span><span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;sender&quot;</span><span class=p>],</span> <span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;recipient&quot;</span><span class=p>],</span> <span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1499 name=__codelineno-0-1499></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1500 name=__codelineno-0-1500></a>            <span class=n>msg2send</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_init_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1501 name=__codelineno-0-1501></a>        <span class=bp>self</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>msg2send</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=n>silent</span><span class=p>)</span>
<a id=__codelineno-0-1502 name=__codelineno-0-1502></a>    <span class=n>summary</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_summarize_chat</span><span class=p>(</span>
<a id=__codelineno-0-1503 name=__codelineno-0-1503></a>        <span class=n>summary_method</span><span class=p>,</span>
<a id=__codelineno-0-1504 name=__codelineno-0-1504></a>        <span class=n>summary_args</span><span class=p>,</span>
<a id=__codelineno-0-1505 name=__codelineno-0-1505></a>        <span class=n>recipient</span><span class=p>,</span>
<a id=__codelineno-0-1506 name=__codelineno-0-1506></a>        <span class=n>cache</span><span class=o>=</span><span class=n>cache</span><span class=p>,</span>
<a id=__codelineno-0-1507 name=__codelineno-0-1507></a>    <span class=p>)</span>
<a id=__codelineno-0-1508 name=__codelineno-0-1508></a>    <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=p>[</span><span class=bp>self</span><span class=p>,</span> <span class=n>recipient</span><span class=p>]:</span>
<a id=__codelineno-0-1509 name=__codelineno-0-1509></a>        <span class=n>agent</span><span class=o>.</span><span class=n>client_cache</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>previous_cache</span>
<a id=__codelineno-0-1510 name=__codelineno-0-1510></a>        <span class=n>agent</span><span class=o>.</span><span class=n>previous_cache</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-0-1511 name=__codelineno-0-1511></a>    <span class=n>chat_result</span> <span class=o>=</span> <span class=n>ChatResult</span><span class=p>(</span>
<a id=__codelineno-0-1512 name=__codelineno-0-1512></a>        <span class=n>chat_history</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>chat_messages</span><span class=p>[</span><span class=n>recipient</span><span class=p>],</span>
<a id=__codelineno-0-1513 name=__codelineno-0-1513></a>        <span class=n>summary</span><span class=o>=</span><span class=n>summary</span><span class=p>,</span>
<a id=__codelineno-0-1514 name=__codelineno-0-1514></a>        <span class=n>cost</span><span class=o>=</span><span class=n>gather_usage_summary</span><span class=p>([</span><span class=bp>self</span><span class=p>,</span> <span class=n>recipient</span><span class=p>]),</span>
<a id=__codelineno-0-1515 name=__codelineno-0-1515></a>        <span class=n>human_input</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>_human_input</span><span class=p>,</span>
<a id=__codelineno-0-1516 name=__codelineno-0-1516></a>    <span class=p>)</span>
<a id=__codelineno-0-1517 name=__codelineno-0-1517></a>    <span class=k>return</span> <span class=n>chat_result</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_initiate_chat class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_initiate_chat</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_initiate_chat class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_initiate_chat</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>clear_history</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>cache</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=n><span title=autogen.code_utils.DEFAULT_MAX_TURNS>DEFAULT_MAX_TURNS</span></span><span class=p>,</span> <span class=n>summary_method</span><span class=o>=</span><span class=n><a class="autorefs autorefs-internal" title=autogen.agentchat.conversable_agent.ConversableAgent.DEFAULT_SUMMARY_METHOD href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD>DEFAULT_SUMMARY_METHOD</a></span><span class=p>,</span> <span class=n>summary_args</span><span class=o>=</span><span class=p>{},</span> <span class=n>message</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>(async) Initiate a chat with the recipient agent.</p> <p>Reset the consecutive auto reply counter. If <code>clear_history</code> is True, the chat history with the recipient agent will be cleared. <code>a_generate_init_message</code> is called to generate the initial message for the agent.</p> <p>Args: Please refer to <code>initiate_chat</code>.</p> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ChatResult</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>an ChatResult object.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.chat.ChatResult href=../../../../ChatResult/#autogen.ChatResult>ChatResult</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1519>1519</a></span>
<span class=normal><a href=#__codelineno-0-1520>1520</a></span>
<span class=normal><a href=#__codelineno-0-1521>1521</a></span>
<span class=normal><a href=#__codelineno-0-1522>1522</a></span>
<span class=normal><a href=#__codelineno-0-1523>1523</a></span>
<span class=normal><a href=#__codelineno-0-1524>1524</a></span>
<span class=normal><a href=#__codelineno-0-1525>1525</a></span>
<span class=normal><a href=#__codelineno-0-1526>1526</a></span>
<span class=normal><a href=#__codelineno-0-1527>1527</a></span>
<span class=normal><a href=#__codelineno-0-1528>1528</a></span>
<span class=normal><a href=#__codelineno-0-1529>1529</a></span>
<span class=normal><a href=#__codelineno-0-1530>1530</a></span>
<span class=normal><a href=#__codelineno-0-1531>1531</a></span>
<span class=normal><a href=#__codelineno-0-1532>1532</a></span>
<span class=normal><a href=#__codelineno-0-1533>1533</a></span>
<span class=normal><a href=#__codelineno-0-1534>1534</a></span>
<span class=normal><a href=#__codelineno-0-1535>1535</a></span>
<span class=normal><a href=#__codelineno-0-1536>1536</a></span>
<span class=normal><a href=#__codelineno-0-1537>1537</a></span>
<span class=normal><a href=#__codelineno-0-1538>1538</a></span>
<span class=normal><a href=#__codelineno-0-1539>1539</a></span>
<span class=normal><a href=#__codelineno-0-1540>1540</a></span>
<span class=normal><a href=#__codelineno-0-1541>1541</a></span>
<span class=normal><a href=#__codelineno-0-1542>1542</a></span>
<span class=normal><a href=#__codelineno-0-1543>1543</a></span>
<span class=normal><a href=#__codelineno-0-1544>1544</a></span>
<span class=normal><a href=#__codelineno-0-1545>1545</a></span>
<span class=normal><a href=#__codelineno-0-1546>1546</a></span>
<span class=normal><a href=#__codelineno-0-1547>1547</a></span>
<span class=normal><a href=#__codelineno-0-1548>1548</a></span>
<span class=normal><a href=#__codelineno-0-1549>1549</a></span>
<span class=normal><a href=#__codelineno-0-1550>1550</a></span>
<span class=normal><a href=#__codelineno-0-1551>1551</a></span>
<span class=normal><a href=#__codelineno-0-1552>1552</a></span>
<span class=normal><a href=#__codelineno-0-1553>1553</a></span>
<span class=normal><a href=#__codelineno-0-1554>1554</a></span>
<span class=normal><a href=#__codelineno-0-1555>1555</a></span>
<span class=normal><a href=#__codelineno-0-1556>1556</a></span>
<span class=normal><a href=#__codelineno-0-1557>1557</a></span>
<span class=normal><a href=#__codelineno-0-1558>1558</a></span>
<span class=normal><a href=#__codelineno-0-1559>1559</a></span>
<span class=normal><a href=#__codelineno-0-1560>1560</a></span>
<span class=normal><a href=#__codelineno-0-1561>1561</a></span>
<span class=normal><a href=#__codelineno-0-1562>1562</a></span>
<span class=normal><a href=#__codelineno-0-1563>1563</a></span>
<span class=normal><a href=#__codelineno-0-1564>1564</a></span>
<span class=normal><a href=#__codelineno-0-1565>1565</a></span>
<span class=normal><a href=#__codelineno-0-1566>1566</a></span>
<span class=normal><a href=#__codelineno-0-1567>1567</a></span>
<span class=normal><a href=#__codelineno-0-1568>1568</a></span>
<span class=normal><a href=#__codelineno-0-1569>1569</a></span>
<span class=normal><a href=#__codelineno-0-1570>1570</a></span>
<span class=normal><a href=#__codelineno-0-1571>1571</a></span>
<span class=normal><a href=#__codelineno-0-1572>1572</a></span>
<span class=normal><a href=#__codelineno-0-1573>1573</a></span>
<span class=normal><a href=#__codelineno-0-1574>1574</a></span>
<span class=normal><a href=#__codelineno-0-1575>1575</a></span>
<span class=normal><a href=#__codelineno-0-1576>1576</a></span>
<span class=normal><a href=#__codelineno-0-1577>1577</a></span>
<span class=normal><a href=#__codelineno-0-1578>1578</a></span>
<span class=normal><a href=#__codelineno-0-1579>1579</a></span>
<span class=normal><a href=#__codelineno-0-1580>1580</a></span>
<span class=normal><a href=#__codelineno-0-1581>1581</a></span>
<span class=normal><a href=#__codelineno-0-1582>1582</a></span>
<span class=normal><a href=#__codelineno-0-1583>1583</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1519 name=__codelineno-0-1519></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_initiate_chat</span><span class=p>(</span>
<a id=__codelineno-0-1520 name=__codelineno-0-1520></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1521 name=__codelineno-0-1521></a>    <span class=n>recipient</span><span class=p>:</span> <span class=s2>&quot;ConversableAgent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-1522 name=__codelineno-0-1522></a>    <span class=n>clear_history</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-0-1523 name=__codelineno-0-1523></a>    <span class=n>silent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-1524 name=__codelineno-0-1524></a>    <span class=n>cache</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>AbstractCache</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1525 name=__codelineno-0-1525></a>    <span class=n>max_turns</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=n>DEFAULT_MAX_TURNS</span><span class=p>,</span>
<a id=__codelineno-0-1526 name=__codelineno-0-1526></a>    <span class=n>summary_method</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=n>DEFAULT_SUMMARY_METHOD</span><span class=p>,</span>
<a id=__codelineno-0-1527 name=__codelineno-0-1527></a>    <span class=n>summary_args</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{},</span>
<a id=__codelineno-0-1528 name=__codelineno-0-1528></a>    <span class=n>message</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1529 name=__codelineno-0-1529></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
<a id=__codelineno-0-1530 name=__codelineno-0-1530></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ChatResult</span><span class=p>:</span>
<a id=__codelineno-0-1531 name=__codelineno-0-1531></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(async) Initiate a chat with the recipient agent.</span>
<a id=__codelineno-0-1532 name=__codelineno-0-1532></a>
<a id=__codelineno-0-1533 name=__codelineno-0-1533></a><span class=sd>    Reset the consecutive auto reply counter.</span>
<a id=__codelineno-0-1534 name=__codelineno-0-1534></a><span class=sd>    If `clear_history` is True, the chat history with the recipient agent will be cleared.</span>
<a id=__codelineno-0-1535 name=__codelineno-0-1535></a><span class=sd>    `a_generate_init_message` is called to generate the initial message for the agent.</span>
<a id=__codelineno-0-1536 name=__codelineno-0-1536></a>
<a id=__codelineno-0-1537 name=__codelineno-0-1537></a><span class=sd>    Args: Please refer to `initiate_chat`.</span>
<a id=__codelineno-0-1538 name=__codelineno-0-1538></a>
<a id=__codelineno-0-1539 name=__codelineno-0-1539></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-1540 name=__codelineno-0-1540></a><span class=sd>        ChatResult: an ChatResult object.</span>
<a id=__codelineno-0-1541 name=__codelineno-0-1541></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1542 name=__codelineno-0-1542></a>    <span class=n>_chat_info</span> <span class=o>=</span> <span class=nb>locals</span><span class=p>()</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
<a id=__codelineno-0-1543 name=__codelineno-0-1543></a>    <span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;sender&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span>
<a id=__codelineno-0-1544 name=__codelineno-0-1544></a>    <span class=n>consolidate_chat_info</span><span class=p>(</span><span class=n>_chat_info</span><span class=p>,</span> <span class=n>uniform_sender</span><span class=o>=</span><span class=bp>self</span><span class=p>)</span>
<a id=__codelineno-0-1545 name=__codelineno-0-1545></a>    <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=p>[</span><span class=bp>self</span><span class=p>,</span> <span class=n>recipient</span><span class=p>]:</span>
<a id=__codelineno-0-1546 name=__codelineno-0-1546></a>        <span class=n>agent</span><span class=o>.</span><span class=n>previous_cache</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>client_cache</span>
<a id=__codelineno-0-1547 name=__codelineno-0-1547></a>        <span class=n>agent</span><span class=o>.</span><span class=n>client_cache</span> <span class=o>=</span> <span class=n>cache</span>
<a id=__codelineno-0-1548 name=__codelineno-0-1548></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>max_turns</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
<a id=__codelineno-0-1549 name=__codelineno-0-1549></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_prepare_chat</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>clear_history</span><span class=p>,</span> <span class=n>reply_at_receive</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<a id=__codelineno-0-1550 name=__codelineno-0-1550></a>        <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>max_turns</span><span class=p>):</span>
<a id=__codelineno-0-1551 name=__codelineno-0-1551></a>            <span class=k>if</span> <span class=n>_</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-1552 name=__codelineno-0-1552></a>                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>Callable</span><span class=p>):</span>
<a id=__codelineno-0-1553 name=__codelineno-0-1553></a>                    <span class=n>msg2send</span> <span class=o>=</span> <span class=n>message</span><span class=p>(</span><span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;sender&quot;</span><span class=p>],</span> <span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;recipient&quot;</span><span class=p>],</span> <span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1554 name=__codelineno-0-1554></a>                <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1555 name=__codelineno-0-1555></a>                    <span class=n>msg2send</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_generate_init_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1556 name=__codelineno-0-1556></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1557 name=__codelineno-0-1557></a>                <span class=n>msg2send</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_generate_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>chat_messages</span><span class=p>[</span><span class=n>recipient</span><span class=p>],</span> <span class=n>sender</span><span class=o>=</span><span class=n>recipient</span><span class=p>)</span>
<a id=__codelineno-0-1558 name=__codelineno-0-1558></a>            <span class=k>if</span> <span class=n>msg2send</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1559 name=__codelineno-0-1559></a>                <span class=k>break</span>
<a id=__codelineno-0-1560 name=__codelineno-0-1560></a>            <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_send</span><span class=p>(</span><span class=n>msg2send</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>request_reply</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=n>silent</span><span class=p>)</span>
<a id=__codelineno-0-1561 name=__codelineno-0-1561></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1562 name=__codelineno-0-1562></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_prepare_chat</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>clear_history</span><span class=p>)</span>
<a id=__codelineno-0-1563 name=__codelineno-0-1563></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>Callable</span><span class=p>):</span>
<a id=__codelineno-0-1564 name=__codelineno-0-1564></a>            <span class=n>msg2send</span> <span class=o>=</span> <span class=n>message</span><span class=p>(</span><span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;sender&quot;</span><span class=p>],</span> <span class=n>_chat_info</span><span class=p>[</span><span class=s2>&quot;recipient&quot;</span><span class=p>],</span> <span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1565 name=__codelineno-0-1565></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1566 name=__codelineno-0-1566></a>            <span class=n>msg2send</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_generate_init_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1567 name=__codelineno-0-1567></a>        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_send</span><span class=p>(</span><span class=n>msg2send</span><span class=p>,</span> <span class=n>recipient</span><span class=p>,</span> <span class=n>silent</span><span class=o>=</span><span class=n>silent</span><span class=p>)</span>
<a id=__codelineno-0-1568 name=__codelineno-0-1568></a>    <span class=n>summary</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_summarize_chat</span><span class=p>(</span>
<a id=__codelineno-0-1569 name=__codelineno-0-1569></a>        <span class=n>summary_method</span><span class=p>,</span>
<a id=__codelineno-0-1570 name=__codelineno-0-1570></a>        <span class=n>summary_args</span><span class=p>,</span>
<a id=__codelineno-0-1571 name=__codelineno-0-1571></a>        <span class=n>recipient</span><span class=p>,</span>
<a id=__codelineno-0-1572 name=__codelineno-0-1572></a>        <span class=n>cache</span><span class=o>=</span><span class=n>cache</span><span class=p>,</span>
<a id=__codelineno-0-1573 name=__codelineno-0-1573></a>    <span class=p>)</span>
<a id=__codelineno-0-1574 name=__codelineno-0-1574></a>    <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=p>[</span><span class=bp>self</span><span class=p>,</span> <span class=n>recipient</span><span class=p>]:</span>
<a id=__codelineno-0-1575 name=__codelineno-0-1575></a>        <span class=n>agent</span><span class=o>.</span><span class=n>client_cache</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>previous_cache</span>
<a id=__codelineno-0-1576 name=__codelineno-0-1576></a>        <span class=n>agent</span><span class=o>.</span><span class=n>previous_cache</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-0-1577 name=__codelineno-0-1577></a>    <span class=n>chat_result</span> <span class=o>=</span> <span class=n>ChatResult</span><span class=p>(</span>
<a id=__codelineno-0-1578 name=__codelineno-0-1578></a>        <span class=n>chat_history</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>chat_messages</span><span class=p>[</span><span class=n>recipient</span><span class=p>],</span>
<a id=__codelineno-0-1579 name=__codelineno-0-1579></a>        <span class=n>summary</span><span class=o>=</span><span class=n>summary</span><span class=p>,</span>
<a id=__codelineno-0-1580 name=__codelineno-0-1580></a>        <span class=n>cost</span><span class=o>=</span><span class=n>gather_usage_summary</span><span class=p>([</span><span class=bp>self</span><span class=p>,</span> <span class=n>recipient</span><span class=p>]),</span>
<a id=__codelineno-0-1581 name=__codelineno-0-1581></a>        <span class=n>human_input</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>_human_input</span><span class=p>,</span>
<a id=__codelineno-0-1582 name=__codelineno-0-1582></a>    <span class=p>)</span>
<a id=__codelineno-0-1583 name=__codelineno-0-1583></a>    <span class=k>return</span> <span class=n>chat_result</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chats class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">initiate_chats</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chats class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>initiate_chats</span><span class=p>(</span><span class=n>chat_queue</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>(Experimental) Initiate chats with multiple agents.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>chat_queue</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a list of dictionaries containing the information of the chats. Each dictionary should contain the input arguments for <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.initiate_chats--initiate-chat><code>initiate_chat</code></a></p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><span title=List>List</span>[<span title=Dict>Dict</span>]</code> </span> </p> </td> </tr> </tbody> </table> <p>Returns: a list of ChatResult objects corresponding to the finished chats in the chat_queue.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1722>1722</a></span>
<span class=normal><a href=#__codelineno-0-1723>1723</a></span>
<span class=normal><a href=#__codelineno-0-1724>1724</a></span>
<span class=normal><a href=#__codelineno-0-1725>1725</a></span>
<span class=normal><a href=#__codelineno-0-1726>1726</a></span>
<span class=normal><a href=#__codelineno-0-1727>1727</a></span>
<span class=normal><a href=#__codelineno-0-1728>1728</a></span>
<span class=normal><a href=#__codelineno-0-1729>1729</a></span>
<span class=normal><a href=#__codelineno-0-1730>1730</a></span>
<span class=normal><a href=#__codelineno-0-1731>1731</a></span>
<span class=normal><a href=#__codelineno-0-1732>1732</a></span>
<span class=normal><a href=#__codelineno-0-1733>1733</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1722 name=__codelineno-0-1722></a><span class=k>def</span><span class=w> </span><span class=nf>initiate_chats</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>chat_queue</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>ChatResult</span><span class=p>]:</span>
<a id=__codelineno-0-1723 name=__codelineno-0-1723></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(Experimental) Initiate chats with multiple agents.</span>
<a id=__codelineno-0-1724 name=__codelineno-0-1724></a>
<a id=__codelineno-0-1725 name=__codelineno-0-1725></a><span class=sd>    Args:</span>
<a id=__codelineno-0-1726 name=__codelineno-0-1726></a><span class=sd>        chat_queue (List[Dict]): a list of dictionaries containing the information of the chats.</span>
<a id=__codelineno-0-1727 name=__codelineno-0-1727></a><span class=sd>            Each dictionary should contain the input arguments for [`initiate_chat`](#initiate-chat)</span>
<a id=__codelineno-0-1728 name=__codelineno-0-1728></a>
<a id=__codelineno-0-1729 name=__codelineno-0-1729></a><span class=sd>    Returns: a list of ChatResult objects corresponding to the finished chats in the chat_queue.</span>
<a id=__codelineno-0-1730 name=__codelineno-0-1730></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1731 name=__codelineno-0-1731></a>    <span class=n>_chat_queue</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_check_chat_queue_for_sender</span><span class=p>(</span><span class=n>chat_queue</span><span class=p>)</span>
<a id=__codelineno-0-1732 name=__codelineno-0-1732></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_finished_chats</span> <span class=o>=</span> <span class=n>initiate_chats</span><span class=p>(</span><span class=n>_chat_queue</span><span class=p>)</span>
<a id=__codelineno-0-1733 name=__codelineno-0-1733></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_finished_chats</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_initiate_chats class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_initiate_chats</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_initiate_chats class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_initiate_chats</span><span class=p>(</span><span class=n>chat_queue</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1735>1735</a></span>
<span class=normal><a href=#__codelineno-0-1736>1736</a></span>
<span class=normal><a href=#__codelineno-0-1737>1737</a></span>
<span class=normal><a href=#__codelineno-0-1738>1738</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1735 name=__codelineno-0-1735></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_initiate_chats</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>chat_queue</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=n>ChatResult</span><span class=p>]:</span>
<a id=__codelineno-0-1736 name=__codelineno-0-1736></a>    <span class=n>_chat_queue</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_check_chat_queue_for_sender</span><span class=p>(</span><span class=n>chat_queue</span><span class=p>)</span>
<a id=__codelineno-0-1737 name=__codelineno-0-1737></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_finished_chats</span> <span class=o>=</span> <span class=k>await</span> <span class=n>a_initiate_chats</span><span class=p>(</span><span class=n>_chat_queue</span><span class=p>)</span>
<a id=__codelineno-0-1738 name=__codelineno-0-1738></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_finished_chats</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_chat_results class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_chat_results</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_chat_results class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_chat_results</span><span class=p>(</span><span class=n>chat_index</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>A summary from the finished chats of particular agents.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1740>1740</a></span>
<span class=normal><a href=#__codelineno-0-1741>1741</a></span>
<span class=normal><a href=#__codelineno-0-1742>1742</a></span>
<span class=normal><a href=#__codelineno-0-1743>1743</a></span>
<span class=normal><a href=#__codelineno-0-1744>1744</a></span>
<span class=normal><a href=#__codelineno-0-1745>1745</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1740 name=__codelineno-0-1740></a><span class=k>def</span><span class=w> </span><span class=nf>get_chat_results</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>chat_index</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>ChatResult</span><span class=p>],</span> <span class=n>ChatResult</span><span class=p>]:</span>
<a id=__codelineno-0-1741 name=__codelineno-0-1741></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;A summary from the finished chats of particular agents.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1742 name=__codelineno-0-1742></a>    <span class=k>if</span> <span class=n>chat_index</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1743 name=__codelineno-0-1743></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_finished_chats</span><span class=p>[</span><span class=n>chat_index</span><span class=p>]</span>
<a id=__codelineno-0-1744 name=__codelineno-0-1744></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1745 name=__codelineno-0-1745></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_finished_chats</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.reset class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">reset</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reset class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>reset</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Reset the agent.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1747>1747</a></span>
<span class=normal><a href=#__codelineno-0-1748>1748</a></span>
<span class=normal><a href=#__codelineno-0-1749>1749</a></span>
<span class=normal><a href=#__codelineno-0-1750>1750</a></span>
<span class=normal><a href=#__codelineno-0-1751>1751</a></span>
<span class=normal><a href=#__codelineno-0-1752>1752</a></span>
<span class=normal><a href=#__codelineno-0-1753>1753</a></span>
<span class=normal><a href=#__codelineno-0-1754>1754</a></span>
<span class=normal><a href=#__codelineno-0-1755>1755</a></span>
<span class=normal><a href=#__codelineno-0-1756>1756</a></span>
<span class=normal><a href=#__codelineno-0-1757>1757</a></span>
<span class=normal><a href=#__codelineno-0-1758>1758</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1747 name=__codelineno-0-1747></a><span class=k>def</span><span class=w> </span><span class=nf>reset</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1748 name=__codelineno-0-1748></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Reset the agent.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1749 name=__codelineno-0-1749></a>    <span class=bp>self</span><span class=o>.</span><span class=n>clear_history</span><span class=p>()</span>
<a id=__codelineno-0-1750 name=__codelineno-0-1750></a>    <span class=bp>self</span><span class=o>.</span><span class=n>reset_consecutive_auto_reply_counter</span><span class=p>()</span>
<a id=__codelineno-0-1751 name=__codelineno-0-1751></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stop_reply_at_receive</span><span class=p>()</span>
<a id=__codelineno-0-1752 name=__codelineno-0-1752></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1753 name=__codelineno-0-1753></a>        <span class=bp>self</span><span class=o>.</span><span class=n>client</span><span class=o>.</span><span class=n>clear_usage_summary</span><span class=p>()</span>
<a id=__codelineno-0-1754 name=__codelineno-0-1754></a>    <span class=k>for</span> <span class=n>reply_func_tuple</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_reply_func_list</span><span class=p>:</span>
<a id=__codelineno-0-1755 name=__codelineno-0-1755></a>        <span class=k>if</span> <span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;reset_config&quot;</span><span class=p>]</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1756 name=__codelineno-0-1756></a>            <span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;reset_config&quot;</span><span class=p>](</span><span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;config&quot;</span><span class=p>])</span>
<a id=__codelineno-0-1757 name=__codelineno-0-1757></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1758 name=__codelineno-0-1758></a>            <span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;config&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=n>reply_func_tuple</span><span class=p>[</span><span class=s2>&quot;init_config&quot;</span><span class=p>])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.stop_reply_at_receive class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">stop_reply_at_receive</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.stop_reply_at_receive class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>stop_reply_at_receive</span><span class=p>(</span><span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Reset the reply_at_receive of the sender.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1760>1760</a></span>
<span class=normal><a href=#__codelineno-0-1761>1761</a></span>
<span class=normal><a href=#__codelineno-0-1762>1762</a></span>
<span class=normal><a href=#__codelineno-0-1763>1763</a></span>
<span class=normal><a href=#__codelineno-0-1764>1764</a></span>
<span class=normal><a href=#__codelineno-0-1765>1765</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1760 name=__codelineno-0-1760></a><span class=k>def</span><span class=w> </span><span class=nf>stop_reply_at_receive</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<a id=__codelineno-0-1761 name=__codelineno-0-1761></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Reset the reply_at_receive of the sender.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1762 name=__codelineno-0-1762></a>    <span class=k>if</span> <span class=n>sender</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1763 name=__codelineno-0-1763></a>        <span class=bp>self</span><span class=o>.</span><span class=n>reply_at_receive</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
<a id=__codelineno-0-1764 name=__codelineno-0-1764></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1765 name=__codelineno-0-1765></a>        <span class=bp>self</span><span class=o>.</span><span class=n>reply_at_receive</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.reset_consecutive_auto_reply_counter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">reset_consecutive_auto_reply_counter</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.reset_consecutive_auto_reply_counter class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>reset_consecutive_auto_reply_counter</span><span class=p>(</span><span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Reset the consecutive_auto_reply_counter of the sender.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1767>1767</a></span>
<span class=normal><a href=#__codelineno-0-1768>1768</a></span>
<span class=normal><a href=#__codelineno-0-1769>1769</a></span>
<span class=normal><a href=#__codelineno-0-1770>1770</a></span>
<span class=normal><a href=#__codelineno-0-1771>1771</a></span>
<span class=normal><a href=#__codelineno-0-1772>1772</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1767 name=__codelineno-0-1767></a><span class=k>def</span><span class=w> </span><span class=nf>reset_consecutive_auto_reply_counter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<a id=__codelineno-0-1768 name=__codelineno-0-1768></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Reset the consecutive_auto_reply_counter of the sender.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1769 name=__codelineno-0-1769></a>    <span class=k>if</span> <span class=n>sender</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1770 name=__codelineno-0-1770></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
<a id=__codelineno-0-1771 name=__codelineno-0-1771></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1772 name=__codelineno-0-1772></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.clear_history class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">clear_history</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.clear_history class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>clear_history</span><span class=p>(</span><span class=n>recipient</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>nr_messages_to_preserve</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Clear the chat history of the agent.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>recipient</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the agent with whom the chat history to clear. If None, clear the chat history with all agents.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../../../../Agent/#autogen.Agent>Agent</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>nr_messages_to_preserve</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the number of newest messages to preserve in the chat history.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1774>1774</a></span>
<span class=normal><a href=#__codelineno-0-1775>1775</a></span>
<span class=normal><a href=#__codelineno-0-1776>1776</a></span>
<span class=normal><a href=#__codelineno-0-1777>1777</a></span>
<span class=normal><a href=#__codelineno-0-1778>1778</a></span>
<span class=normal><a href=#__codelineno-0-1779>1779</a></span>
<span class=normal><a href=#__codelineno-0-1780>1780</a></span>
<span class=normal><a href=#__codelineno-0-1781>1781</a></span>
<span class=normal><a href=#__codelineno-0-1782>1782</a></span>
<span class=normal><a href=#__codelineno-0-1783>1783</a></span>
<span class=normal><a href=#__codelineno-0-1784>1784</a></span>
<span class=normal><a href=#__codelineno-0-1785>1785</a></span>
<span class=normal><a href=#__codelineno-0-1786>1786</a></span>
<span class=normal><a href=#__codelineno-0-1787>1787</a></span>
<span class=normal><a href=#__codelineno-0-1788>1788</a></span>
<span class=normal><a href=#__codelineno-0-1789>1789</a></span>
<span class=normal><a href=#__codelineno-0-1790>1790</a></span>
<span class=normal><a href=#__codelineno-0-1791>1791</a></span>
<span class=normal><a href=#__codelineno-0-1792>1792</a></span>
<span class=normal><a href=#__codelineno-0-1793>1793</a></span>
<span class=normal><a href=#__codelineno-0-1794>1794</a></span>
<span class=normal><a href=#__codelineno-0-1795>1795</a></span>
<span class=normal><a href=#__codelineno-0-1796>1796</a></span>
<span class=normal><a href=#__codelineno-0-1797>1797</a></span>
<span class=normal><a href=#__codelineno-0-1798>1798</a></span>
<span class=normal><a href=#__codelineno-0-1799>1799</a></span>
<span class=normal><a href=#__codelineno-0-1800>1800</a></span>
<span class=normal><a href=#__codelineno-0-1801>1801</a></span>
<span class=normal><a href=#__codelineno-0-1802>1802</a></span>
<span class=normal><a href=#__codelineno-0-1803>1803</a></span>
<span class=normal><a href=#__codelineno-0-1804>1804</a></span>
<span class=normal><a href=#__codelineno-0-1805>1805</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1774 name=__codelineno-0-1774></a><span class=k>def</span><span class=w> </span><span class=nf>clear_history</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>recipient</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>nr_messages_to_preserve</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<a id=__codelineno-0-1775 name=__codelineno-0-1775></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Clear the chat history of the agent.</span>
<a id=__codelineno-0-1776 name=__codelineno-0-1776></a>
<a id=__codelineno-0-1777 name=__codelineno-0-1777></a><span class=sd>    Args:</span>
<a id=__codelineno-0-1778 name=__codelineno-0-1778></a><span class=sd>        recipient: the agent with whom the chat history to clear. If None, clear the chat history with all agents.</span>
<a id=__codelineno-0-1779 name=__codelineno-0-1779></a><span class=sd>        nr_messages_to_preserve: the number of newest messages to preserve in the chat history.</span>
<a id=__codelineno-0-1780 name=__codelineno-0-1780></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-1781 name=__codelineno-0-1781></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-1782 name=__codelineno-0-1782></a>    <span class=k>if</span> <span class=n>recipient</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1783 name=__codelineno-0-1783></a>        <span class=n>no_messages_preserved</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-1784 name=__codelineno-0-1784></a>        <span class=k>if</span> <span class=n>nr_messages_to_preserve</span><span class=p>:</span>
<a id=__codelineno-0-1785 name=__codelineno-0-1785></a>            <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>:</span>
<a id=__codelineno-0-1786 name=__codelineno-0-1786></a>                <span class=n>nr_messages_to_preserve_internal</span> <span class=o>=</span> <span class=n>nr_messages_to_preserve</span>
<a id=__codelineno-0-1787 name=__codelineno-0-1787></a>                <span class=c1># if breaking history between function call and function response, save function call message</span>
<a id=__codelineno-0-1788 name=__codelineno-0-1788></a>                <span class=c1># additionally, otherwise openai will return error</span>
<a id=__codelineno-0-1789 name=__codelineno-0-1789></a>                <span class=n>first_msg_to_save</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>key</span><span class=p>][</span><span class=o>-</span><span class=n>nr_messages_to_preserve_internal</span><span class=p>]</span>
<a id=__codelineno-0-1790 name=__codelineno-0-1790></a>                <span class=k>if</span> <span class=s2>&quot;tool_responses&quot;</span> <span class=ow>in</span> <span class=n>first_msg_to_save</span><span class=p>:</span>
<a id=__codelineno-0-1791 name=__codelineno-0-1791></a>                    <span class=n>nr_messages_to_preserve_internal</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-0-1792 name=__codelineno-0-1792></a>                    <span class=c1># clear_conversable_agent_history.print_preserving_message(iostream.print)</span>
<a id=__codelineno-0-1793 name=__codelineno-0-1793></a>                    <span class=n>no_messages_preserved</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-0-1794 name=__codelineno-0-1794></a>                <span class=c1># Remove messages from history except last `nr_messages_to_preserve` messages.</span>
<a id=__codelineno-0-1795 name=__codelineno-0-1795></a>                <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>key</span><span class=p>][</span><span class=o>-</span><span class=n>nr_messages_to_preserve_internal</span><span class=p>:]</span>
<a id=__codelineno-0-1796 name=__codelineno-0-1796></a>            <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
<a id=__codelineno-0-1797 name=__codelineno-0-1797></a>                <span class=n>ClearConversableAgentHistoryMessage</span><span class=p>(</span><span class=n>agent</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span> <span class=n>no_messages_preserved</span><span class=o>=</span><span class=n>no_messages_preserved</span><span class=p>)</span>
<a id=__codelineno-0-1798 name=__codelineno-0-1798></a>            <span class=p>)</span>
<a id=__codelineno-0-1799 name=__codelineno-0-1799></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1800 name=__codelineno-0-1800></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
<a id=__codelineno-0-1801 name=__codelineno-0-1801></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1802 name=__codelineno-0-1802></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>recipient</span><span class=p>]</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
<a id=__codelineno-0-1803 name=__codelineno-0-1803></a>        <span class=c1># clear_conversable_agent_history.print_warning(iostream.print)</span>
<a id=__codelineno-0-1804 name=__codelineno-0-1804></a>        <span class=k>if</span> <span class=n>nr_messages_to_preserve</span><span class=p>:</span>
<a id=__codelineno-0-1805 name=__codelineno-0-1805></a>            <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>ClearConversableAgentHistoryWarningMessage</span><span class=p>(</span><span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_oai_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">generate_oai_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_oai_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>generate_oai_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a reply using autogen.oai.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1807>1807</a></span>
<span class=normal><a href=#__codelineno-0-1808>1808</a></span>
<span class=normal><a href=#__codelineno-0-1809>1809</a></span>
<span class=normal><a href=#__codelineno-0-1810>1810</a></span>
<span class=normal><a href=#__codelineno-0-1811>1811</a></span>
<span class=normal><a href=#__codelineno-0-1812>1812</a></span>
<span class=normal><a href=#__codelineno-0-1813>1813</a></span>
<span class=normal><a href=#__codelineno-0-1814>1814</a></span>
<span class=normal><a href=#__codelineno-0-1815>1815</a></span>
<span class=normal><a href=#__codelineno-0-1816>1816</a></span>
<span class=normal><a href=#__codelineno-0-1817>1817</a></span>
<span class=normal><a href=#__codelineno-0-1818>1818</a></span>
<span class=normal><a href=#__codelineno-0-1819>1819</a></span>
<span class=normal><a href=#__codelineno-0-1820>1820</a></span>
<span class=normal><a href=#__codelineno-0-1821>1821</a></span>
<span class=normal><a href=#__codelineno-0-1822>1822</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1807 name=__codelineno-0-1807></a><span class=k>def</span><span class=w> </span><span class=nf>generate_oai_reply</span><span class=p>(</span>
<a id=__codelineno-0-1808 name=__codelineno-0-1808></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1809 name=__codelineno-0-1809></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1810 name=__codelineno-0-1810></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1811 name=__codelineno-0-1811></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>OpenAIWrapper</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1812 name=__codelineno-0-1812></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]]:</span>
<a id=__codelineno-0-1813 name=__codelineno-0-1813></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a reply using autogen.oai.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1814 name=__codelineno-0-1814></a>    <span class=n>client</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=k>if</span> <span class=n>config</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=n>config</span>
<a id=__codelineno-0-1815 name=__codelineno-0-1815></a>    <span class=k>if</span> <span class=n>client</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1816 name=__codelineno-0-1816></a>        <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
<a id=__codelineno-0-1817 name=__codelineno-0-1817></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1818 name=__codelineno-0-1818></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
<a id=__codelineno-0-1819 name=__codelineno-0-1819></a>    <span class=n>extracted_response</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_generate_oai_reply_from_client</span><span class=p>(</span>
<a id=__codelineno-0-1820 name=__codelineno-0-1820></a>        <span class=n>client</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_system_message</span> <span class=o>+</span> <span class=n>messages</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>client_cache</span>
<a id=__codelineno-0-1821 name=__codelineno-0-1821></a>    <span class=p>)</span>
<a id=__codelineno-0-1822 name=__codelineno-0-1822></a>    <span class=k>return</span> <span class=p>(</span><span class=kc>False</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span> <span class=k>if</span> <span class=n>extracted_response</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=n>extracted_response</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_oai_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_generate_oai_reply</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_oai_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_generate_oai_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a reply using autogen.oai asynchronously.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1867>1867</a></span>
<span class=normal><a href=#__codelineno-0-1868>1868</a></span>
<span class=normal><a href=#__codelineno-0-1869>1869</a></span>
<span class=normal><a href=#__codelineno-0-1870>1870</a></span>
<span class=normal><a href=#__codelineno-0-1871>1871</a></span>
<span class=normal><a href=#__codelineno-0-1872>1872</a></span>
<span class=normal><a href=#__codelineno-0-1873>1873</a></span>
<span class=normal><a href=#__codelineno-0-1874>1874</a></span>
<span class=normal><a href=#__codelineno-0-1875>1875</a></span>
<span class=normal><a href=#__codelineno-0-1876>1876</a></span>
<span class=normal><a href=#__codelineno-0-1877>1877</a></span>
<span class=normal><a href=#__codelineno-0-1878>1878</a></span>
<span class=normal><a href=#__codelineno-0-1879>1879</a></span>
<span class=normal><a href=#__codelineno-0-1880>1880</a></span>
<span class=normal><a href=#__codelineno-0-1881>1881</a></span>
<span class=normal><a href=#__codelineno-0-1882>1882</a></span>
<span class=normal><a href=#__codelineno-0-1883>1883</a></span>
<span class=normal><a href=#__codelineno-0-1884>1884</a></span>
<span class=normal><a href=#__codelineno-0-1885>1885</a></span>
<span class=normal><a href=#__codelineno-0-1886>1886</a></span>
<span class=normal><a href=#__codelineno-0-1887>1887</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1867 name=__codelineno-0-1867></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_generate_oai_reply</span><span class=p>(</span>
<a id=__codelineno-0-1868 name=__codelineno-0-1868></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1869 name=__codelineno-0-1869></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1870 name=__codelineno-0-1870></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1871 name=__codelineno-0-1871></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1872 name=__codelineno-0-1872></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]]:</span>
<a id=__codelineno-0-1873 name=__codelineno-0-1873></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a reply using autogen.oai asynchronously.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1874 name=__codelineno-0-1874></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-1875 name=__codelineno-0-1875></a>
<a id=__codelineno-0-1876 name=__codelineno-0-1876></a>    <span class=k>def</span><span class=w> </span><span class=nf>_generate_oai_reply</span><span class=p>(</span>
<a id=__codelineno-0-1877 name=__codelineno-0-1877></a>        <span class=bp>self</span><span class=p>,</span> <span class=n>iostream</span><span class=p>:</span> <span class=n>IOStream</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span>
<a id=__codelineno-0-1878 name=__codelineno-0-1878></a>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]]:</span>
<a id=__codelineno-0-1879 name=__codelineno-0-1879></a>        <span class=k>with</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>set_default</span><span class=p>(</span><span class=n>iostream</span><span class=p>):</span>
<a id=__codelineno-0-1880 name=__codelineno-0-1880></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_oai_reply</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-1881 name=__codelineno-0-1881></a>
<a id=__codelineno-0-1882 name=__codelineno-0-1882></a>    <span class=k>return</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>get_event_loop</span><span class=p>()</span><span class=o>.</span><span class=n>run_in_executor</span><span class=p>(</span>
<a id=__codelineno-0-1883 name=__codelineno-0-1883></a>        <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1884 name=__codelineno-0-1884></a>        <span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span>
<a id=__codelineno-0-1885 name=__codelineno-0-1885></a>            <span class=n>_generate_oai_reply</span><span class=p>,</span> <span class=bp>self</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span> <span class=n>iostream</span><span class=o>=</span><span class=n>iostream</span><span class=p>,</span> <span class=n>messages</span><span class=o>=</span><span class=n>messages</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=n>config</span>
<a id=__codelineno-0-1886 name=__codelineno-0-1886></a>        <span class=p>),</span>
<a id=__codelineno-0-1887 name=__codelineno-0-1887></a>    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_code_execution_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">generate_code_execution_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_code_execution_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>generate_code_execution_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a reply using code execution.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1940>1940</a></span>
<span class=normal><a href=#__codelineno-0-1941>1941</a></span>
<span class=normal><a href=#__codelineno-0-1942>1942</a></span>
<span class=normal><a href=#__codelineno-0-1943>1943</a></span>
<span class=normal><a href=#__codelineno-0-1944>1944</a></span>
<span class=normal><a href=#__codelineno-0-1945>1945</a></span>
<span class=normal><a href=#__codelineno-0-1946>1946</a></span>
<span class=normal><a href=#__codelineno-0-1947>1947</a></span>
<span class=normal><a href=#__codelineno-0-1948>1948</a></span>
<span class=normal><a href=#__codelineno-0-1949>1949</a></span>
<span class=normal><a href=#__codelineno-0-1950>1950</a></span>
<span class=normal><a href=#__codelineno-0-1951>1951</a></span>
<span class=normal><a href=#__codelineno-0-1952>1952</a></span>
<span class=normal><a href=#__codelineno-0-1953>1953</a></span>
<span class=normal><a href=#__codelineno-0-1954>1954</a></span>
<span class=normal><a href=#__codelineno-0-1955>1955</a></span>
<span class=normal><a href=#__codelineno-0-1956>1956</a></span>
<span class=normal><a href=#__codelineno-0-1957>1957</a></span>
<span class=normal><a href=#__codelineno-0-1958>1958</a></span>
<span class=normal><a href=#__codelineno-0-1959>1959</a></span>
<span class=normal><a href=#__codelineno-0-1960>1960</a></span>
<span class=normal><a href=#__codelineno-0-1961>1961</a></span>
<span class=normal><a href=#__codelineno-0-1962>1962</a></span>
<span class=normal><a href=#__codelineno-0-1963>1963</a></span>
<span class=normal><a href=#__codelineno-0-1964>1964</a></span>
<span class=normal><a href=#__codelineno-0-1965>1965</a></span>
<span class=normal><a href=#__codelineno-0-1966>1966</a></span>
<span class=normal><a href=#__codelineno-0-1967>1967</a></span>
<span class=normal><a href=#__codelineno-0-1968>1968</a></span>
<span class=normal><a href=#__codelineno-0-1969>1969</a></span>
<span class=normal><a href=#__codelineno-0-1970>1970</a></span>
<span class=normal><a href=#__codelineno-0-1971>1971</a></span>
<span class=normal><a href=#__codelineno-0-1972>1972</a></span>
<span class=normal><a href=#__codelineno-0-1973>1973</a></span>
<span class=normal><a href=#__codelineno-0-1974>1974</a></span>
<span class=normal><a href=#__codelineno-0-1975>1975</a></span>
<span class=normal><a href=#__codelineno-0-1976>1976</a></span>
<span class=normal><a href=#__codelineno-0-1977>1977</a></span>
<span class=normal><a href=#__codelineno-0-1978>1978</a></span>
<span class=normal><a href=#__codelineno-0-1979>1979</a></span>
<span class=normal><a href=#__codelineno-0-1980>1980</a></span>
<span class=normal><a href=#__codelineno-0-1981>1981</a></span>
<span class=normal><a href=#__codelineno-0-1982>1982</a></span>
<span class=normal><a href=#__codelineno-0-1983>1983</a></span>
<span class=normal><a href=#__codelineno-0-1984>1984</a></span>
<span class=normal><a href=#__codelineno-0-1985>1985</a></span>
<span class=normal><a href=#__codelineno-0-1986>1986</a></span>
<span class=normal><a href=#__codelineno-0-1987>1987</a></span>
<span class=normal><a href=#__codelineno-0-1988>1988</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1940 name=__codelineno-0-1940></a><span class=k>def</span><span class=w> </span><span class=nf>generate_code_execution_reply</span><span class=p>(</span>
<a id=__codelineno-0-1941 name=__codelineno-0-1941></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1942 name=__codelineno-0-1942></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1943 name=__codelineno-0-1943></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1944 name=__codelineno-0-1944></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>Literal</span><span class=p>[</span><span class=kc>False</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1945 name=__codelineno-0-1945></a><span class=p>):</span>
<a id=__codelineno-0-1946 name=__codelineno-0-1946></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a reply using code execution.&quot;&quot;&quot;</span>
<a id=__codelineno-0-1947 name=__codelineno-0-1947></a>    <span class=n>code_execution_config</span> <span class=o>=</span> <span class=n>config</span> <span class=k>if</span> <span class=n>config</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=k>else</span> <span class=bp>self</span><span class=o>.</span><span class=n>_code_execution_config</span>
<a id=__codelineno-0-1948 name=__codelineno-0-1948></a>    <span class=k>if</span> <span class=n>code_execution_config</span> <span class=ow>is</span> <span class=kc>False</span><span class=p>:</span>
<a id=__codelineno-0-1949 name=__codelineno-0-1949></a>        <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
<a id=__codelineno-0-1950 name=__codelineno-0-1950></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-1951 name=__codelineno-0-1951></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
<a id=__codelineno-0-1952 name=__codelineno-0-1952></a>    <span class=n>last_n_messages</span> <span class=o>=</span> <span class=n>code_execution_config</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;last_n_messages&quot;</span><span class=p>,</span> <span class=s2>&quot;auto&quot;</span><span class=p>)</span>
<a id=__codelineno-0-1953 name=__codelineno-0-1953></a>
<a id=__codelineno-0-1954 name=__codelineno-0-1954></a>    <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>last_n_messages</span><span class=p>,</span> <span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>))</span> <span class=ow>and</span> <span class=n>last_n_messages</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=ow>and</span> <span class=n>last_n_messages</span> <span class=o>!=</span> <span class=s2>&quot;auto&quot;</span><span class=p>:</span>
<a id=__codelineno-0-1955 name=__codelineno-0-1955></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;last_n_messages must be either a non-negative integer, or the string &#39;auto&#39;.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-1956 name=__codelineno-0-1956></a>
<a id=__codelineno-0-1957 name=__codelineno-0-1957></a>    <span class=n>messages_to_scan</span> <span class=o>=</span> <span class=n>last_n_messages</span>
<a id=__codelineno-0-1958 name=__codelineno-0-1958></a>    <span class=k>if</span> <span class=n>last_n_messages</span> <span class=o>==</span> <span class=s2>&quot;auto&quot;</span><span class=p>:</span>
<a id=__codelineno-0-1959 name=__codelineno-0-1959></a>        <span class=c1># Find when the agent last spoke</span>
<a id=__codelineno-0-1960 name=__codelineno-0-1960></a>        <span class=n>messages_to_scan</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-1961 name=__codelineno-0-1961></a>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>messages</span><span class=p>)):</span>
<a id=__codelineno-0-1962 name=__codelineno-0-1962></a>            <span class=n>message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)]</span>
<a id=__codelineno-0-1963 name=__codelineno-0-1963></a>            <span class=k>if</span> <span class=s2>&quot;role&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>message</span> <span class=ow>or</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;role&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;user&quot;</span><span class=p>:</span>
<a id=__codelineno-0-1964 name=__codelineno-0-1964></a>                <span class=k>break</span>
<a id=__codelineno-0-1965 name=__codelineno-0-1965></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-1966 name=__codelineno-0-1966></a>                <span class=n>messages_to_scan</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-0-1967 name=__codelineno-0-1967></a>
<a id=__codelineno-0-1968 name=__codelineno-0-1968></a>    <span class=c1># iterate through the last n messages in reverse</span>
<a id=__codelineno-0-1969 name=__codelineno-0-1969></a>    <span class=c1># if code blocks are found, execute the code blocks and return the output</span>
<a id=__codelineno-0-1970 name=__codelineno-0-1970></a>    <span class=c1># if no code blocks are found, continue</span>
<a id=__codelineno-0-1971 name=__codelineno-0-1971></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>min</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>messages</span><span class=p>),</span> <span class=n>messages_to_scan</span><span class=p>)):</span>
<a id=__codelineno-0-1972 name=__codelineno-0-1972></a>        <span class=n>message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)]</span>
<a id=__codelineno-0-1973 name=__codelineno-0-1973></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>]:</span>
<a id=__codelineno-0-1974 name=__codelineno-0-1974></a>            <span class=k>continue</span>
<a id=__codelineno-0-1975 name=__codelineno-0-1975></a>        <span class=n>code_blocks</span> <span class=o>=</span> <span class=n>extract_code</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>])</span>
<a id=__codelineno-0-1976 name=__codelineno-0-1976></a>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>code_blocks</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span> <span class=ow>and</span> <span class=n>code_blocks</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=n>UNKNOWN</span><span class=p>:</span>
<a id=__codelineno-0-1977 name=__codelineno-0-1977></a>            <span class=k>continue</span>
<a id=__codelineno-0-1978 name=__codelineno-0-1978></a>
<a id=__codelineno-0-1979 name=__codelineno-0-1979></a>        <span class=c1># found code blocks, execute code and push &quot;last_n_messages&quot; back</span>
<a id=__codelineno-0-1980 name=__codelineno-0-1980></a>        <span class=n>exitcode</span><span class=p>,</span> <span class=n>logs</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>execute_code_blocks</span><span class=p>(</span><span class=n>code_blocks</span><span class=p>)</span>
<a id=__codelineno-0-1981 name=__codelineno-0-1981></a>        <span class=n>code_execution_config</span><span class=p>[</span><span class=s2>&quot;last_n_messages&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>last_n_messages</span>
<a id=__codelineno-0-1982 name=__codelineno-0-1982></a>        <span class=n>exitcode2str</span> <span class=o>=</span> <span class=s2>&quot;execution succeeded&quot;</span> <span class=k>if</span> <span class=n>exitcode</span> <span class=o>==</span> <span class=mi>0</span> <span class=k>else</span> <span class=s2>&quot;execution failed&quot;</span>
<a id=__codelineno-0-1983 name=__codelineno-0-1983></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;exitcode: </span><span class=si>{</span><span class=n>exitcode</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>exitcode2str</span><span class=si>}</span><span class=s2>)</span><span class=se>\n</span><span class=s2>Code output: </span><span class=si>{</span><span class=n>logs</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-1984 name=__codelineno-0-1984></a>
<a id=__codelineno-0-1985 name=__codelineno-0-1985></a>    <span class=c1># no code blocks are found, push last_n_messages back and return.</span>
<a id=__codelineno-0-1986 name=__codelineno-0-1986></a>    <span class=n>code_execution_config</span><span class=p>[</span><span class=s2>&quot;last_n_messages&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>last_n_messages</span>
<a id=__codelineno-0-1987 name=__codelineno-0-1987></a>
<a id=__codelineno-0-1988 name=__codelineno-0-1988></a>    <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_function_call_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">generate_function_call_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_function_call_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>generate_function_call_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a reply using function call.</p> <p>"function_call" replaced by "tool_calls" as of <a href=https://github.com/openai/openai-python/releases/tag/v1.1.0>OpenAI API v1.1.0</a> See https://platform.openai.com/docs/api-reference/chat/create#chat-create-functions</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1990>1990</a></span>
<span class=normal><a href=#__codelineno-0-1991>1991</a></span>
<span class=normal><a href=#__codelineno-0-1992>1992</a></span>
<span class=normal><a href=#__codelineno-0-1993>1993</a></span>
<span class=normal><a href=#__codelineno-0-1994>1994</a></span>
<span class=normal><a href=#__codelineno-0-1995>1995</a></span>
<span class=normal><a href=#__codelineno-0-1996>1996</a></span>
<span class=normal><a href=#__codelineno-0-1997>1997</a></span>
<span class=normal><a href=#__codelineno-0-1998>1998</a></span>
<span class=normal><a href=#__codelineno-0-1999>1999</a></span>
<span class=normal><a href=#__codelineno-0-2000>2000</a></span>
<span class=normal><a href=#__codelineno-0-2001>2001</a></span>
<span class=normal><a href=#__codelineno-0-2002>2002</a></span>
<span class=normal><a href=#__codelineno-0-2003>2003</a></span>
<span class=normal><a href=#__codelineno-0-2004>2004</a></span>
<span class=normal><a href=#__codelineno-0-2005>2005</a></span>
<span class=normal><a href=#__codelineno-0-2006>2006</a></span>
<span class=normal><a href=#__codelineno-0-2007>2007</a></span>
<span class=normal><a href=#__codelineno-0-2008>2008</a></span>
<span class=normal><a href=#__codelineno-0-2009>2009</a></span>
<span class=normal><a href=#__codelineno-0-2010>2010</a></span>
<span class=normal><a href=#__codelineno-0-2011>2011</a></span>
<span class=normal><a href=#__codelineno-0-2012>2012</a></span>
<span class=normal><a href=#__codelineno-0-2013>2013</a></span>
<span class=normal><a href=#__codelineno-0-2014>2014</a></span>
<span class=normal><a href=#__codelineno-0-2015>2015</a></span>
<span class=normal><a href=#__codelineno-0-2016>2016</a></span>
<span class=normal><a href=#__codelineno-0-2017>2017</a></span>
<span class=normal><a href=#__codelineno-0-2018>2018</a></span>
<span class=normal><a href=#__codelineno-0-2019>2019</a></span>
<span class=normal><a href=#__codelineno-0-2020>2020</a></span>
<span class=normal><a href=#__codelineno-0-2021>2021</a></span>
<span class=normal><a href=#__codelineno-0-2022>2022</a></span>
<span class=normal><a href=#__codelineno-0-2023>2023</a></span>
<span class=normal><a href=#__codelineno-0-2024>2024</a></span>
<span class=normal><a href=#__codelineno-0-2025>2025</a></span>
<span class=normal><a href=#__codelineno-0-2026>2026</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1990 name=__codelineno-0-1990></a><span class=k>def</span><span class=w> </span><span class=nf>generate_function_call_reply</span><span class=p>(</span>
<a id=__codelineno-0-1991 name=__codelineno-0-1991></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-1992 name=__codelineno-0-1992></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1993 name=__codelineno-0-1993></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1994 name=__codelineno-0-1994></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-1995 name=__codelineno-0-1995></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]:</span>
<a id=__codelineno-0-1996 name=__codelineno-0-1996></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a reply using function call.</span>
<a id=__codelineno-0-1997 name=__codelineno-0-1997></a>
<a id=__codelineno-0-1998 name=__codelineno-0-1998></a><span class=sd>    &quot;function_call&quot; replaced by &quot;tool_calls&quot; as of [OpenAI API v1.1.0](https://github.com/openai/openai-python/releases/tag/v1.1.0)</span>
<a id=__codelineno-0-1999 name=__codelineno-0-1999></a><span class=sd>    See https://platform.openai.com/docs/api-reference/chat/create#chat-create-functions</span>
<a id=__codelineno-0-2000 name=__codelineno-0-2000></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2001 name=__codelineno-0-2001></a>    <span class=k>if</span> <span class=n>config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2002 name=__codelineno-0-2002></a>        <span class=n>config</span> <span class=o>=</span> <span class=bp>self</span>
<a id=__codelineno-0-2003 name=__codelineno-0-2003></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2004 name=__codelineno-0-2004></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
<a id=__codelineno-0-2005 name=__codelineno-0-2005></a>    <span class=n>message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-2006 name=__codelineno-0-2006></a>    <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;function_call&quot;</span><span class=p>):</span>
<a id=__codelineno-0-2007 name=__codelineno-0-2007></a>        <span class=n>call_id</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;id&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-2008 name=__codelineno-0-2008></a>        <span class=n>func_call</span> <span class=o>=</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;function_call&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2009 name=__codelineno-0-2009></a>        <span class=n>func</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>func_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>),</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-2010 name=__codelineno-0-2010></a>        <span class=k>if</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<a id=__codelineno-0-2011 name=__codelineno-0-2011></a>            <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-2012 name=__codelineno-0-2012></a>                <span class=c1># get the running loop if it was already created</span>
<a id=__codelineno-0-2013 name=__codelineno-0-2013></a>                <span class=n>loop</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>get_running_loop</span><span class=p>()</span>
<a id=__codelineno-0-2014 name=__codelineno-0-2014></a>                <span class=n>close_loop</span> <span class=o>=</span> <span class=kc>False</span>
<a id=__codelineno-0-2015 name=__codelineno-0-2015></a>            <span class=k>except</span> <span class=ne>RuntimeError</span><span class=p>:</span>
<a id=__codelineno-0-2016 name=__codelineno-0-2016></a>                <span class=c1># create a loop if there is no running loop</span>
<a id=__codelineno-0-2017 name=__codelineno-0-2017></a>                <span class=n>loop</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>new_event_loop</span><span class=p>()</span>
<a id=__codelineno-0-2018 name=__codelineno-0-2018></a>                <span class=n>close_loop</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-2019 name=__codelineno-0-2019></a>
<a id=__codelineno-0-2020 name=__codelineno-0-2020></a>            <span class=n>_</span><span class=p>,</span> <span class=n>func_return</span> <span class=o>=</span> <span class=n>loop</span><span class=o>.</span><span class=n>run_until_complete</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>a_execute_function</span><span class=p>(</span><span class=n>func_call</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>call_id</span><span class=p>))</span>
<a id=__codelineno-0-2021 name=__codelineno-0-2021></a>            <span class=k>if</span> <span class=n>close_loop</span><span class=p>:</span>
<a id=__codelineno-0-2022 name=__codelineno-0-2022></a>                <span class=n>loop</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
<a id=__codelineno-0-2023 name=__codelineno-0-2023></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2024 name=__codelineno-0-2024></a>            <span class=n>_</span><span class=p>,</span> <span class=n>func_return</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>execute_function</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=s2>&quot;function_call&quot;</span><span class=p>],</span> <span class=n>call_id</span><span class=o>=</span><span class=n>call_id</span><span class=p>)</span>
<a id=__codelineno-0-2025 name=__codelineno-0-2025></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=n>func_return</span>
<a id=__codelineno-0-2026 name=__codelineno-0-2026></a>    <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_function_call_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_generate_function_call_reply</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_function_call_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_generate_function_call_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a reply using async function call.</p> <p>"function_call" replaced by "tool_calls" as of <a href=https://github.com/openai/openai-python/releases/tag/v1.1.0>OpenAI API v1.1.0</a> See https://platform.openai.com/docs/api-reference/chat/create#chat-create-functions</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2028>2028</a></span>
<span class=normal><a href=#__codelineno-0-2029>2029</a></span>
<span class=normal><a href=#__codelineno-0-2030>2030</a></span>
<span class=normal><a href=#__codelineno-0-2031>2031</a></span>
<span class=normal><a href=#__codelineno-0-2032>2032</a></span>
<span class=normal><a href=#__codelineno-0-2033>2033</a></span>
<span class=normal><a href=#__codelineno-0-2034>2034</a></span>
<span class=normal><a href=#__codelineno-0-2035>2035</a></span>
<span class=normal><a href=#__codelineno-0-2036>2036</a></span>
<span class=normal><a href=#__codelineno-0-2037>2037</a></span>
<span class=normal><a href=#__codelineno-0-2038>2038</a></span>
<span class=normal><a href=#__codelineno-0-2039>2039</a></span>
<span class=normal><a href=#__codelineno-0-2040>2040</a></span>
<span class=normal><a href=#__codelineno-0-2041>2041</a></span>
<span class=normal><a href=#__codelineno-0-2042>2042</a></span>
<span class=normal><a href=#__codelineno-0-2043>2043</a></span>
<span class=normal><a href=#__codelineno-0-2044>2044</a></span>
<span class=normal><a href=#__codelineno-0-2045>2045</a></span>
<span class=normal><a href=#__codelineno-0-2046>2046</a></span>
<span class=normal><a href=#__codelineno-0-2047>2047</a></span>
<span class=normal><a href=#__codelineno-0-2048>2048</a></span>
<span class=normal><a href=#__codelineno-0-2049>2049</a></span>
<span class=normal><a href=#__codelineno-0-2050>2050</a></span>
<span class=normal><a href=#__codelineno-0-2051>2051</a></span>
<span class=normal><a href=#__codelineno-0-2052>2052</a></span>
<span class=normal><a href=#__codelineno-0-2053>2053</a></span>
<span class=normal><a href=#__codelineno-0-2054>2054</a></span>
<span class=normal><a href=#__codelineno-0-2055>2055</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2028 name=__codelineno-0-2028></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_generate_function_call_reply</span><span class=p>(</span>
<a id=__codelineno-0-2029 name=__codelineno-0-2029></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-2030 name=__codelineno-0-2030></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2031 name=__codelineno-0-2031></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2032 name=__codelineno-0-2032></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2033 name=__codelineno-0-2033></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]:</span>
<a id=__codelineno-0-2034 name=__codelineno-0-2034></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a reply using async function call.</span>
<a id=__codelineno-0-2035 name=__codelineno-0-2035></a>
<a id=__codelineno-0-2036 name=__codelineno-0-2036></a><span class=sd>    &quot;function_call&quot; replaced by &quot;tool_calls&quot; as of [OpenAI API v1.1.0](https://github.com/openai/openai-python/releases/tag/v1.1.0)</span>
<a id=__codelineno-0-2037 name=__codelineno-0-2037></a><span class=sd>    See https://platform.openai.com/docs/api-reference/chat/create#chat-create-functions</span>
<a id=__codelineno-0-2038 name=__codelineno-0-2038></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2039 name=__codelineno-0-2039></a>    <span class=k>if</span> <span class=n>config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2040 name=__codelineno-0-2040></a>        <span class=n>config</span> <span class=o>=</span> <span class=bp>self</span>
<a id=__codelineno-0-2041 name=__codelineno-0-2041></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2042 name=__codelineno-0-2042></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
<a id=__codelineno-0-2043 name=__codelineno-0-2043></a>    <span class=n>message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-2044 name=__codelineno-0-2044></a>    <span class=k>if</span> <span class=s2>&quot;function_call&quot;</span> <span class=ow>in</span> <span class=n>message</span><span class=p>:</span>
<a id=__codelineno-0-2045 name=__codelineno-0-2045></a>        <span class=n>call_id</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;id&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-2046 name=__codelineno-0-2046></a>        <span class=n>func_call</span> <span class=o>=</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;function_call&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2047 name=__codelineno-0-2047></a>        <span class=n>func_name</span> <span class=o>=</span> <span class=n>func_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
<a id=__codelineno-0-2048 name=__codelineno-0-2048></a>        <span class=n>func</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>func_name</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-2049 name=__codelineno-0-2049></a>        <span class=k>if</span> <span class=n>func</span> <span class=ow>and</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<a id=__codelineno-0-2050 name=__codelineno-0-2050></a>            <span class=n>_</span><span class=p>,</span> <span class=n>func_return</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_execute_function</span><span class=p>(</span><span class=n>func_call</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>call_id</span><span class=p>)</span>
<a id=__codelineno-0-2051 name=__codelineno-0-2051></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2052 name=__codelineno-0-2052></a>            <span class=n>_</span><span class=p>,</span> <span class=n>func_return</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>execute_function</span><span class=p>(</span><span class=n>func_call</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>call_id</span><span class=p>)</span>
<a id=__codelineno-0-2053 name=__codelineno-0-2053></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=n>func_return</span>
<a id=__codelineno-0-2054 name=__codelineno-0-2054></a>
<a id=__codelineno-0-2055 name=__codelineno-0-2055></a>    <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_tool_calls_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">generate_tool_calls_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_tool_calls_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>generate_tool_calls_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a reply using tool call.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2060>2060</a></span>
<span class=normal><a href=#__codelineno-0-2061>2061</a></span>
<span class=normal><a href=#__codelineno-0-2062>2062</a></span>
<span class=normal><a href=#__codelineno-0-2063>2063</a></span>
<span class=normal><a href=#__codelineno-0-2064>2064</a></span>
<span class=normal><a href=#__codelineno-0-2065>2065</a></span>
<span class=normal><a href=#__codelineno-0-2066>2066</a></span>
<span class=normal><a href=#__codelineno-0-2067>2067</a></span>
<span class=normal><a href=#__codelineno-0-2068>2068</a></span>
<span class=normal><a href=#__codelineno-0-2069>2069</a></span>
<span class=normal><a href=#__codelineno-0-2070>2070</a></span>
<span class=normal><a href=#__codelineno-0-2071>2071</a></span>
<span class=normal><a href=#__codelineno-0-2072>2072</a></span>
<span class=normal><a href=#__codelineno-0-2073>2073</a></span>
<span class=normal><a href=#__codelineno-0-2074>2074</a></span>
<span class=normal><a href=#__codelineno-0-2075>2075</a></span>
<span class=normal><a href=#__codelineno-0-2076>2076</a></span>
<span class=normal><a href=#__codelineno-0-2077>2077</a></span>
<span class=normal><a href=#__codelineno-0-2078>2078</a></span>
<span class=normal><a href=#__codelineno-0-2079>2079</a></span>
<span class=normal><a href=#__codelineno-0-2080>2080</a></span>
<span class=normal><a href=#__codelineno-0-2081>2081</a></span>
<span class=normal><a href=#__codelineno-0-2082>2082</a></span>
<span class=normal><a href=#__codelineno-0-2083>2083</a></span>
<span class=normal><a href=#__codelineno-0-2084>2084</a></span>
<span class=normal><a href=#__codelineno-0-2085>2085</a></span>
<span class=normal><a href=#__codelineno-0-2086>2086</a></span>
<span class=normal><a href=#__codelineno-0-2087>2087</a></span>
<span class=normal><a href=#__codelineno-0-2088>2088</a></span>
<span class=normal><a href=#__codelineno-0-2089>2089</a></span>
<span class=normal><a href=#__codelineno-0-2090>2090</a></span>
<span class=normal><a href=#__codelineno-0-2091>2091</a></span>
<span class=normal><a href=#__codelineno-0-2092>2092</a></span>
<span class=normal><a href=#__codelineno-0-2093>2093</a></span>
<span class=normal><a href=#__codelineno-0-2094>2094</a></span>
<span class=normal><a href=#__codelineno-0-2095>2095</a></span>
<span class=normal><a href=#__codelineno-0-2096>2096</a></span>
<span class=normal><a href=#__codelineno-0-2097>2097</a></span>
<span class=normal><a href=#__codelineno-0-2098>2098</a></span>
<span class=normal><a href=#__codelineno-0-2099>2099</a></span>
<span class=normal><a href=#__codelineno-0-2100>2100</a></span>
<span class=normal><a href=#__codelineno-0-2101>2101</a></span>
<span class=normal><a href=#__codelineno-0-2102>2102</a></span>
<span class=normal><a href=#__codelineno-0-2103>2103</a></span>
<span class=normal><a href=#__codelineno-0-2104>2104</a></span>
<span class=normal><a href=#__codelineno-0-2105>2105</a></span>
<span class=normal><a href=#__codelineno-0-2106>2106</a></span>
<span class=normal><a href=#__codelineno-0-2107>2107</a></span>
<span class=normal><a href=#__codelineno-0-2108>2108</a></span>
<span class=normal><a href=#__codelineno-0-2109>2109</a></span>
<span class=normal><a href=#__codelineno-0-2110>2110</a></span>
<span class=normal><a href=#__codelineno-0-2111>2111</a></span>
<span class=normal><a href=#__codelineno-0-2112>2112</a></span>
<span class=normal><a href=#__codelineno-0-2113>2113</a></span>
<span class=normal><a href=#__codelineno-0-2114>2114</a></span>
<span class=normal><a href=#__codelineno-0-2115>2115</a></span>
<span class=normal><a href=#__codelineno-0-2116>2116</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2060 name=__codelineno-0-2060></a><span class=k>def</span><span class=w> </span><span class=nf>generate_tool_calls_reply</span><span class=p>(</span>
<a id=__codelineno-0-2061 name=__codelineno-0-2061></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-2062 name=__codelineno-0-2062></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2063 name=__codelineno-0-2063></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2064 name=__codelineno-0-2064></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2065 name=__codelineno-0-2065></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]:</span>
<a id=__codelineno-0-2066 name=__codelineno-0-2066></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a reply using tool call.&quot;&quot;&quot;</span>
<a id=__codelineno-0-2067 name=__codelineno-0-2067></a>    <span class=k>if</span> <span class=n>config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2068 name=__codelineno-0-2068></a>        <span class=n>config</span> <span class=o>=</span> <span class=bp>self</span>
<a id=__codelineno-0-2069 name=__codelineno-0-2069></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2070 name=__codelineno-0-2070></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
<a id=__codelineno-0-2071 name=__codelineno-0-2071></a>    <span class=n>message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-2072 name=__codelineno-0-2072></a>    <span class=n>tool_returns</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-2073 name=__codelineno-0-2073></a>    <span class=k>for</span> <span class=n>tool_call</span> <span class=ow>in</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;tool_calls&quot;</span><span class=p>,</span> <span class=p>[]):</span>
<a id=__codelineno-0-2074 name=__codelineno-0-2074></a>        <span class=n>function_call</span> <span class=o>=</span> <span class=n>tool_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;function&quot;</span><span class=p>,</span> <span class=p>{})</span>
<a id=__codelineno-0-2075 name=__codelineno-0-2075></a>        <span class=n>tool_call_id</span> <span class=o>=</span> <span class=n>tool_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;id&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-2076 name=__codelineno-0-2076></a>        <span class=n>func</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>function_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>),</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-2077 name=__codelineno-0-2077></a>        <span class=k>if</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<a id=__codelineno-0-2078 name=__codelineno-0-2078></a>            <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-2079 name=__codelineno-0-2079></a>                <span class=c1># get the running loop if it was already created</span>
<a id=__codelineno-0-2080 name=__codelineno-0-2080></a>                <span class=n>loop</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>get_running_loop</span><span class=p>()</span>
<a id=__codelineno-0-2081 name=__codelineno-0-2081></a>                <span class=n>close_loop</span> <span class=o>=</span> <span class=kc>False</span>
<a id=__codelineno-0-2082 name=__codelineno-0-2082></a>            <span class=k>except</span> <span class=ne>RuntimeError</span><span class=p>:</span>
<a id=__codelineno-0-2083 name=__codelineno-0-2083></a>                <span class=c1># create a loop if there is no running loop</span>
<a id=__codelineno-0-2084 name=__codelineno-0-2084></a>                <span class=n>loop</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>new_event_loop</span><span class=p>()</span>
<a id=__codelineno-0-2085 name=__codelineno-0-2085></a>                <span class=n>close_loop</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-2086 name=__codelineno-0-2086></a>
<a id=__codelineno-0-2087 name=__codelineno-0-2087></a>            <span class=n>_</span><span class=p>,</span> <span class=n>func_return</span> <span class=o>=</span> <span class=n>loop</span><span class=o>.</span><span class=n>run_until_complete</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>a_execute_function</span><span class=p>(</span><span class=n>function_call</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>tool_call_id</span><span class=p>))</span>
<a id=__codelineno-0-2088 name=__codelineno-0-2088></a>            <span class=k>if</span> <span class=n>close_loop</span><span class=p>:</span>
<a id=__codelineno-0-2089 name=__codelineno-0-2089></a>                <span class=n>loop</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
<a id=__codelineno-0-2090 name=__codelineno-0-2090></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2091 name=__codelineno-0-2091></a>            <span class=n>_</span><span class=p>,</span> <span class=n>func_return</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>execute_function</span><span class=p>(</span><span class=n>function_call</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>tool_call_id</span><span class=p>)</span>
<a id=__codelineno-0-2092 name=__codelineno-0-2092></a>        <span class=n>content</span> <span class=o>=</span> <span class=n>func_return</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
<a id=__codelineno-0-2093 name=__codelineno-0-2093></a>        <span class=k>if</span> <span class=n>content</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2094 name=__codelineno-0-2094></a>            <span class=n>content</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2095 name=__codelineno-0-2095></a>
<a id=__codelineno-0-2096 name=__codelineno-0-2096></a>        <span class=k>if</span> <span class=n>tool_call_id</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2097 name=__codelineno-0-2097></a>            <span class=n>tool_call_response</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-2098 name=__codelineno-0-2098></a>                <span class=s2>&quot;tool_call_id&quot;</span><span class=p>:</span> <span class=n>tool_call_id</span><span class=p>,</span>
<a id=__codelineno-0-2099 name=__codelineno-0-2099></a>                <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;tool&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2100 name=__codelineno-0-2100></a>                <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=n>content</span><span class=p>,</span>
<a id=__codelineno-0-2101 name=__codelineno-0-2101></a>            <span class=p>}</span>
<a id=__codelineno-0-2102 name=__codelineno-0-2102></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2103 name=__codelineno-0-2103></a>            <span class=c1># Do not include tool_call_id if it is not present.</span>
<a id=__codelineno-0-2104 name=__codelineno-0-2104></a>            <span class=c1># This is to make the tool call object compatible with Mistral API.</span>
<a id=__codelineno-0-2105 name=__codelineno-0-2105></a>            <span class=n>tool_call_response</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-2106 name=__codelineno-0-2106></a>                <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;tool&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2107 name=__codelineno-0-2107></a>                <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=n>content</span><span class=p>,</span>
<a id=__codelineno-0-2108 name=__codelineno-0-2108></a>            <span class=p>}</span>
<a id=__codelineno-0-2109 name=__codelineno-0-2109></a>        <span class=n>tool_returns</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>tool_call_response</span><span class=p>)</span>
<a id=__codelineno-0-2110 name=__codelineno-0-2110></a>    <span class=k>if</span> <span class=n>tool_returns</span><span class=p>:</span>
<a id=__codelineno-0-2111 name=__codelineno-0-2111></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=p>{</span>
<a id=__codelineno-0-2112 name=__codelineno-0-2112></a>            <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;tool&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2113 name=__codelineno-0-2113></a>            <span class=s2>&quot;tool_responses&quot;</span><span class=p>:</span> <span class=n>tool_returns</span><span class=p>,</span>
<a id=__codelineno-0-2114 name=__codelineno-0-2114></a>            <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=s2>&quot;</span><span class=se>\n\n</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=bp>self</span><span class=o>.</span><span class=n>_str_for_tool_response</span><span class=p>(</span><span class=n>tool_return</span><span class=p>)</span> <span class=k>for</span> <span class=n>tool_return</span> <span class=ow>in</span> <span class=n>tool_returns</span><span class=p>]),</span>
<a id=__codelineno-0-2115 name=__codelineno-0-2115></a>        <span class=p>}</span>
<a id=__codelineno-0-2116 name=__codelineno-0-2116></a>    <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_tool_calls_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_generate_tool_calls_reply</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_tool_calls_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_generate_tool_calls_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a reply using async function call.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2128>2128</a></span>
<span class=normal><a href=#__codelineno-0-2129>2129</a></span>
<span class=normal><a href=#__codelineno-0-2130>2130</a></span>
<span class=normal><a href=#__codelineno-0-2131>2131</a></span>
<span class=normal><a href=#__codelineno-0-2132>2132</a></span>
<span class=normal><a href=#__codelineno-0-2133>2133</a></span>
<span class=normal><a href=#__codelineno-0-2134>2134</a></span>
<span class=normal><a href=#__codelineno-0-2135>2135</a></span>
<span class=normal><a href=#__codelineno-0-2136>2136</a></span>
<span class=normal><a href=#__codelineno-0-2137>2137</a></span>
<span class=normal><a href=#__codelineno-0-2138>2138</a></span>
<span class=normal><a href=#__codelineno-0-2139>2139</a></span>
<span class=normal><a href=#__codelineno-0-2140>2140</a></span>
<span class=normal><a href=#__codelineno-0-2141>2141</a></span>
<span class=normal><a href=#__codelineno-0-2142>2142</a></span>
<span class=normal><a href=#__codelineno-0-2143>2143</a></span>
<span class=normal><a href=#__codelineno-0-2144>2144</a></span>
<span class=normal><a href=#__codelineno-0-2145>2145</a></span>
<span class=normal><a href=#__codelineno-0-2146>2146</a></span>
<span class=normal><a href=#__codelineno-0-2147>2147</a></span>
<span class=normal><a href=#__codelineno-0-2148>2148</a></span>
<span class=normal><a href=#__codelineno-0-2149>2149</a></span>
<span class=normal><a href=#__codelineno-0-2150>2150</a></span>
<span class=normal><a href=#__codelineno-0-2151>2151</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2128 name=__codelineno-0-2128></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_generate_tool_calls_reply</span><span class=p>(</span>
<a id=__codelineno-0-2129 name=__codelineno-0-2129></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-2130 name=__codelineno-0-2130></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2131 name=__codelineno-0-2131></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2132 name=__codelineno-0-2132></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2133 name=__codelineno-0-2133></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]:</span>
<a id=__codelineno-0-2134 name=__codelineno-0-2134></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate a reply using async function call.&quot;&quot;&quot;</span>
<a id=__codelineno-0-2135 name=__codelineno-0-2135></a>    <span class=k>if</span> <span class=n>config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2136 name=__codelineno-0-2136></a>        <span class=n>config</span> <span class=o>=</span> <span class=bp>self</span>
<a id=__codelineno-0-2137 name=__codelineno-0-2137></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2138 name=__codelineno-0-2138></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span>
<a id=__codelineno-0-2139 name=__codelineno-0-2139></a>    <span class=n>message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-2140 name=__codelineno-0-2140></a>    <span class=n>async_tool_calls</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-2141 name=__codelineno-0-2141></a>    <span class=k>for</span> <span class=n>tool_call</span> <span class=ow>in</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;tool_calls&quot;</span><span class=p>,</span> <span class=p>[]):</span>
<a id=__codelineno-0-2142 name=__codelineno-0-2142></a>        <span class=n>async_tool_calls</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_a_execute_tool_call</span><span class=p>(</span><span class=n>tool_call</span><span class=p>))</span>
<a id=__codelineno-0-2143 name=__codelineno-0-2143></a>    <span class=k>if</span> <span class=n>async_tool_calls</span><span class=p>:</span>
<a id=__codelineno-0-2144 name=__codelineno-0-2144></a>        <span class=n>tool_returns</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>async_tool_calls</span><span class=p>)</span>
<a id=__codelineno-0-2145 name=__codelineno-0-2145></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=p>{</span>
<a id=__codelineno-0-2146 name=__codelineno-0-2146></a>            <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;tool&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2147 name=__codelineno-0-2147></a>            <span class=s2>&quot;tool_responses&quot;</span><span class=p>:</span> <span class=n>tool_returns</span><span class=p>,</span>
<a id=__codelineno-0-2148 name=__codelineno-0-2148></a>            <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=s2>&quot;</span><span class=se>\n\n</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=bp>self</span><span class=o>.</span><span class=n>_str_for_tool_response</span><span class=p>(</span><span class=n>tool_return</span><span class=p>)</span> <span class=k>for</span> <span class=n>tool_return</span> <span class=ow>in</span> <span class=n>tool_returns</span><span class=p>]),</span>
<a id=__codelineno-0-2149 name=__codelineno-0-2149></a>        <span class=p>}</span>
<a id=__codelineno-0-2150 name=__codelineno-0-2150></a>
<a id=__codelineno-0-2151 name=__codelineno-0-2151></a>    <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.check_termination_and_human_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">check_termination_and_human_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.check_termination_and_human_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>check_termination_and_human_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check if the conversation should be terminated, and if human reply is provided.</p> <p>This method checks for conditions that require the conversation to be terminated, such as reaching a maximum number of consecutive auto-replies or encountering a termination message. Additionally, it prompts for and processes human input based on the configured human input mode, which can be 'ALWAYS', 'NEVER', or 'TERMINATE'. The method also manages the consecutive auto-reply counter for the conversation and prints relevant messages based on the human input received.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>-</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>A list of message dictionaries, representing the conversation history.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>messages (Optional[List[Dict]]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>-</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The agent object representing the sender of the message.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>sender (Optional[Agent]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>-</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Configuration object, defaults to the current instance if not provided.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>config (Optional[Any]</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <ul> <li>Tuple[bool, Union[str, Dict, None]]: A tuple containing a boolean indicating if the conversation</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, None]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>should be terminated, and a human reply which can be a string, a dictionary, or None.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2153>2153</a></span>
<span class=normal><a href=#__codelineno-0-2154>2154</a></span>
<span class=normal><a href=#__codelineno-0-2155>2155</a></span>
<span class=normal><a href=#__codelineno-0-2156>2156</a></span>
<span class=normal><a href=#__codelineno-0-2157>2157</a></span>
<span class=normal><a href=#__codelineno-0-2158>2158</a></span>
<span class=normal><a href=#__codelineno-0-2159>2159</a></span>
<span class=normal><a href=#__codelineno-0-2160>2160</a></span>
<span class=normal><a href=#__codelineno-0-2161>2161</a></span>
<span class=normal><a href=#__codelineno-0-2162>2162</a></span>
<span class=normal><a href=#__codelineno-0-2163>2163</a></span>
<span class=normal><a href=#__codelineno-0-2164>2164</a></span>
<span class=normal><a href=#__codelineno-0-2165>2165</a></span>
<span class=normal><a href=#__codelineno-0-2166>2166</a></span>
<span class=normal><a href=#__codelineno-0-2167>2167</a></span>
<span class=normal><a href=#__codelineno-0-2168>2168</a></span>
<span class=normal><a href=#__codelineno-0-2169>2169</a></span>
<span class=normal><a href=#__codelineno-0-2170>2170</a></span>
<span class=normal><a href=#__codelineno-0-2171>2171</a></span>
<span class=normal><a href=#__codelineno-0-2172>2172</a></span>
<span class=normal><a href=#__codelineno-0-2173>2173</a></span>
<span class=normal><a href=#__codelineno-0-2174>2174</a></span>
<span class=normal><a href=#__codelineno-0-2175>2175</a></span>
<span class=normal><a href=#__codelineno-0-2176>2176</a></span>
<span class=normal><a href=#__codelineno-0-2177>2177</a></span>
<span class=normal><a href=#__codelineno-0-2178>2178</a></span>
<span class=normal><a href=#__codelineno-0-2179>2179</a></span>
<span class=normal><a href=#__codelineno-0-2180>2180</a></span>
<span class=normal><a href=#__codelineno-0-2181>2181</a></span>
<span class=normal><a href=#__codelineno-0-2182>2182</a></span>
<span class=normal><a href=#__codelineno-0-2183>2183</a></span>
<span class=normal><a href=#__codelineno-0-2184>2184</a></span>
<span class=normal><a href=#__codelineno-0-2185>2185</a></span>
<span class=normal><a href=#__codelineno-0-2186>2186</a></span>
<span class=normal><a href=#__codelineno-0-2187>2187</a></span>
<span class=normal><a href=#__codelineno-0-2188>2188</a></span>
<span class=normal><a href=#__codelineno-0-2189>2189</a></span>
<span class=normal><a href=#__codelineno-0-2190>2190</a></span>
<span class=normal><a href=#__codelineno-0-2191>2191</a></span>
<span class=normal><a href=#__codelineno-0-2192>2192</a></span>
<span class=normal><a href=#__codelineno-0-2193>2193</a></span>
<span class=normal><a href=#__codelineno-0-2194>2194</a></span>
<span class=normal><a href=#__codelineno-0-2195>2195</a></span>
<span class=normal><a href=#__codelineno-0-2196>2196</a></span>
<span class=normal><a href=#__codelineno-0-2197>2197</a></span>
<span class=normal><a href=#__codelineno-0-2198>2198</a></span>
<span class=normal><a href=#__codelineno-0-2199>2199</a></span>
<span class=normal><a href=#__codelineno-0-2200>2200</a></span>
<span class=normal><a href=#__codelineno-0-2201>2201</a></span>
<span class=normal><a href=#__codelineno-0-2202>2202</a></span>
<span class=normal><a href=#__codelineno-0-2203>2203</a></span>
<span class=normal><a href=#__codelineno-0-2204>2204</a></span>
<span class=normal><a href=#__codelineno-0-2205>2205</a></span>
<span class=normal><a href=#__codelineno-0-2206>2206</a></span>
<span class=normal><a href=#__codelineno-0-2207>2207</a></span>
<span class=normal><a href=#__codelineno-0-2208>2208</a></span>
<span class=normal><a href=#__codelineno-0-2209>2209</a></span>
<span class=normal><a href=#__codelineno-0-2210>2210</a></span>
<span class=normal><a href=#__codelineno-0-2211>2211</a></span>
<span class=normal><a href=#__codelineno-0-2212>2212</a></span>
<span class=normal><a href=#__codelineno-0-2213>2213</a></span>
<span class=normal><a href=#__codelineno-0-2214>2214</a></span>
<span class=normal><a href=#__codelineno-0-2215>2215</a></span>
<span class=normal><a href=#__codelineno-0-2216>2216</a></span>
<span class=normal><a href=#__codelineno-0-2217>2217</a></span>
<span class=normal><a href=#__codelineno-0-2218>2218</a></span>
<span class=normal><a href=#__codelineno-0-2219>2219</a></span>
<span class=normal><a href=#__codelineno-0-2220>2220</a></span>
<span class=normal><a href=#__codelineno-0-2221>2221</a></span>
<span class=normal><a href=#__codelineno-0-2222>2222</a></span>
<span class=normal><a href=#__codelineno-0-2223>2223</a></span>
<span class=normal><a href=#__codelineno-0-2224>2224</a></span>
<span class=normal><a href=#__codelineno-0-2225>2225</a></span>
<span class=normal><a href=#__codelineno-0-2226>2226</a></span>
<span class=normal><a href=#__codelineno-0-2227>2227</a></span>
<span class=normal><a href=#__codelineno-0-2228>2228</a></span>
<span class=normal><a href=#__codelineno-0-2229>2229</a></span>
<span class=normal><a href=#__codelineno-0-2230>2230</a></span>
<span class=normal><a href=#__codelineno-0-2231>2231</a></span>
<span class=normal><a href=#__codelineno-0-2232>2232</a></span>
<span class=normal><a href=#__codelineno-0-2233>2233</a></span>
<span class=normal><a href=#__codelineno-0-2234>2234</a></span>
<span class=normal><a href=#__codelineno-0-2235>2235</a></span>
<span class=normal><a href=#__codelineno-0-2236>2236</a></span>
<span class=normal><a href=#__codelineno-0-2237>2237</a></span>
<span class=normal><a href=#__codelineno-0-2238>2238</a></span>
<span class=normal><a href=#__codelineno-0-2239>2239</a></span>
<span class=normal><a href=#__codelineno-0-2240>2240</a></span>
<span class=normal><a href=#__codelineno-0-2241>2241</a></span>
<span class=normal><a href=#__codelineno-0-2242>2242</a></span>
<span class=normal><a href=#__codelineno-0-2243>2243</a></span>
<span class=normal><a href=#__codelineno-0-2244>2244</a></span>
<span class=normal><a href=#__codelineno-0-2245>2245</a></span>
<span class=normal><a href=#__codelineno-0-2246>2246</a></span>
<span class=normal><a href=#__codelineno-0-2247>2247</a></span>
<span class=normal><a href=#__codelineno-0-2248>2248</a></span>
<span class=normal><a href=#__codelineno-0-2249>2249</a></span>
<span class=normal><a href=#__codelineno-0-2250>2250</a></span>
<span class=normal><a href=#__codelineno-0-2251>2251</a></span>
<span class=normal><a href=#__codelineno-0-2252>2252</a></span>
<span class=normal><a href=#__codelineno-0-2253>2253</a></span>
<span class=normal><a href=#__codelineno-0-2254>2254</a></span>
<span class=normal><a href=#__codelineno-0-2255>2255</a></span>
<span class=normal><a href=#__codelineno-0-2256>2256</a></span>
<span class=normal><a href=#__codelineno-0-2257>2257</a></span>
<span class=normal><a href=#__codelineno-0-2258>2258</a></span>
<span class=normal><a href=#__codelineno-0-2259>2259</a></span>
<span class=normal><a href=#__codelineno-0-2260>2260</a></span>
<span class=normal><a href=#__codelineno-0-2261>2261</a></span>
<span class=normal><a href=#__codelineno-0-2262>2262</a></span>
<span class=normal><a href=#__codelineno-0-2263>2263</a></span>
<span class=normal><a href=#__codelineno-0-2264>2264</a></span>
<span class=normal><a href=#__codelineno-0-2265>2265</a></span>
<span class=normal><a href=#__codelineno-0-2266>2266</a></span>
<span class=normal><a href=#__codelineno-0-2267>2267</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2153 name=__codelineno-0-2153></a><span class=k>def</span><span class=w> </span><span class=nf>check_termination_and_human_reply</span><span class=p>(</span>
<a id=__codelineno-0-2154 name=__codelineno-0-2154></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-2155 name=__codelineno-0-2155></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2156 name=__codelineno-0-2156></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2157 name=__codelineno-0-2157></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2158 name=__codelineno-0-2158></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=kc>None</span><span class=p>]]:</span>
<a id=__codelineno-0-2159 name=__codelineno-0-2159></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the conversation should be terminated, and if human reply is provided.</span>
<a id=__codelineno-0-2160 name=__codelineno-0-2160></a>
<a id=__codelineno-0-2161 name=__codelineno-0-2161></a><span class=sd>    This method checks for conditions that require the conversation to be terminated, such as reaching</span>
<a id=__codelineno-0-2162 name=__codelineno-0-2162></a><span class=sd>    a maximum number of consecutive auto-replies or encountering a termination message. Additionally,</span>
<a id=__codelineno-0-2163 name=__codelineno-0-2163></a><span class=sd>    it prompts for and processes human input based on the configured human input mode, which can be</span>
<a id=__codelineno-0-2164 name=__codelineno-0-2164></a><span class=sd>    &#39;ALWAYS&#39;, &#39;NEVER&#39;, or &#39;TERMINATE&#39;. The method also manages the consecutive auto-reply counter</span>
<a id=__codelineno-0-2165 name=__codelineno-0-2165></a><span class=sd>    for the conversation and prints relevant messages based on the human input received.</span>
<a id=__codelineno-0-2166 name=__codelineno-0-2166></a>
<a id=__codelineno-0-2167 name=__codelineno-0-2167></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2168 name=__codelineno-0-2168></a><span class=sd>        - messages (Optional[List[Dict]]): A list of message dictionaries, representing the conversation history.</span>
<a id=__codelineno-0-2169 name=__codelineno-0-2169></a><span class=sd>        - sender (Optional[Agent]): The agent object representing the sender of the message.</span>
<a id=__codelineno-0-2170 name=__codelineno-0-2170></a><span class=sd>        - config (Optional[Any]): Configuration object, defaults to the current instance if not provided.</span>
<a id=__codelineno-0-2171 name=__codelineno-0-2171></a>
<a id=__codelineno-0-2172 name=__codelineno-0-2172></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2173 name=__codelineno-0-2173></a><span class=sd>        - Tuple[bool, Union[str, Dict, None]]: A tuple containing a boolean indicating if the conversation</span>
<a id=__codelineno-0-2174 name=__codelineno-0-2174></a><span class=sd>        should be terminated, and a human reply which can be a string, a dictionary, or None.</span>
<a id=__codelineno-0-2175 name=__codelineno-0-2175></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2176 name=__codelineno-0-2176></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-2177 name=__codelineno-0-2177></a>
<a id=__codelineno-0-2178 name=__codelineno-0-2178></a>    <span class=k>if</span> <span class=n>config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2179 name=__codelineno-0-2179></a>        <span class=n>config</span> <span class=o>=</span> <span class=bp>self</span>
<a id=__codelineno-0-2180 name=__codelineno-0-2180></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2181 name=__codelineno-0-2181></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=k>if</span> <span class=n>sender</span> <span class=k>else</span> <span class=p>[]</span>
<a id=__codelineno-0-2182 name=__codelineno-0-2182></a>
<a id=__codelineno-0-2183 name=__codelineno-0-2183></a>    <span class=c1># if there are no messages, continue the conversation</span>
<a id=__codelineno-0-2184 name=__codelineno-0-2184></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>messages</span><span class=p>:</span>
<a id=__codelineno-0-2185 name=__codelineno-0-2185></a>        <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
<a id=__codelineno-0-2186 name=__codelineno-0-2186></a>    <span class=n>message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-2187 name=__codelineno-0-2187></a>
<a id=__codelineno-0-2188 name=__codelineno-0-2188></a>    <span class=n>reply</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2189 name=__codelineno-0-2189></a>    <span class=n>no_human_input_msg</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2190 name=__codelineno-0-2190></a>    <span class=n>sender_name</span> <span class=o>=</span> <span class=s2>&quot;the sender&quot;</span> <span class=k>if</span> <span class=n>sender</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=n>sender</span><span class=o>.</span><span class=n>name</span>
<a id=__codelineno-0-2191 name=__codelineno-0-2191></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span> <span class=o>==</span> <span class=s2>&quot;ALWAYS&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2192 name=__codelineno-0-2192></a>        <span class=n>reply</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_human_input</span><span class=p>(</span>
<a id=__codelineno-0-2193 name=__codelineno-0-2193></a>            <span class=sa>f</span><span class=s2>&quot;Replying as </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>. Provide feedback to </span><span class=si>{</span><span class=n>sender_name</span><span class=si>}</span><span class=s2>. Press enter to skip and use auto-reply, or type &#39;exit&#39; to end the conversation: &quot;</span>
<a id=__codelineno-0-2194 name=__codelineno-0-2194></a>        <span class=p>)</span>
<a id=__codelineno-0-2195 name=__codelineno-0-2195></a>        <span class=n>no_human_input_msg</span> <span class=o>=</span> <span class=s2>&quot;NO HUMAN INPUT RECEIVED.&quot;</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>reply</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2196 name=__codelineno-0-2196></a>        <span class=c1># if the human input is empty, and the message is a termination message, then we will terminate the conversation</span>
<a id=__codelineno-0-2197 name=__codelineno-0-2197></a>        <span class=n>reply</span> <span class=o>=</span> <span class=n>reply</span> <span class=k>if</span> <span class=n>reply</span> <span class=ow>or</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_termination_msg</span><span class=p>(</span><span class=n>message</span><span class=p>)</span> <span class=k>else</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2198 name=__codelineno-0-2198></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2199 name=__codelineno-0-2199></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply_dict</span><span class=p>[</span><span class=n>sender</span><span class=p>]:</span>
<a id=__codelineno-0-2200 name=__codelineno-0-2200></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span> <span class=o>==</span> <span class=s2>&quot;NEVER&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2201 name=__codelineno-0-2201></a>                <span class=n>reply</span> <span class=o>=</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2202 name=__codelineno-0-2202></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2203 name=__codelineno-0-2203></a>                <span class=c1># self.human_input_mode == &quot;TERMINATE&quot;:</span>
<a id=__codelineno-0-2204 name=__codelineno-0-2204></a>                <span class=n>terminate</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_termination_msg</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
<a id=__codelineno-0-2205 name=__codelineno-0-2205></a>                <span class=n>reply</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_human_input</span><span class=p>(</span>
<a id=__codelineno-0-2206 name=__codelineno-0-2206></a>                    <span class=sa>f</span><span class=s2>&quot;Please give feedback to </span><span class=si>{</span><span class=n>sender_name</span><span class=si>}</span><span class=s2>. Press enter or type &#39;exit&#39; to stop the conversation: &quot;</span>
<a id=__codelineno-0-2207 name=__codelineno-0-2207></a>                    <span class=k>if</span> <span class=n>terminate</span>
<a id=__codelineno-0-2208 name=__codelineno-0-2208></a>                    <span class=k>else</span> <span class=sa>f</span><span class=s2>&quot;Please give feedback to </span><span class=si>{</span><span class=n>sender_name</span><span class=si>}</span><span class=s2>. Press enter to skip and use auto-reply, or type &#39;exit&#39; to stop the conversation: &quot;</span>
<a id=__codelineno-0-2209 name=__codelineno-0-2209></a>                <span class=p>)</span>
<a id=__codelineno-0-2210 name=__codelineno-0-2210></a>                <span class=n>no_human_input_msg</span> <span class=o>=</span> <span class=s2>&quot;NO HUMAN INPUT RECEIVED.&quot;</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>reply</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2211 name=__codelineno-0-2211></a>                <span class=c1># if the human input is empty, and the message is a termination message, then we will terminate the conversation</span>
<a id=__codelineno-0-2212 name=__codelineno-0-2212></a>                <span class=n>reply</span> <span class=o>=</span> <span class=n>reply</span> <span class=k>if</span> <span class=n>reply</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>terminate</span> <span class=k>else</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2213 name=__codelineno-0-2213></a>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_termination_msg</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
<a id=__codelineno-0-2214 name=__codelineno-0-2214></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span> <span class=o>==</span> <span class=s2>&quot;NEVER&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2215 name=__codelineno-0-2215></a>                <span class=n>reply</span> <span class=o>=</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2216 name=__codelineno-0-2216></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2217 name=__codelineno-0-2217></a>                <span class=c1># self.human_input_mode == &quot;TERMINATE&quot;:</span>
<a id=__codelineno-0-2218 name=__codelineno-0-2218></a>                <span class=n>reply</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_human_input</span><span class=p>(</span>
<a id=__codelineno-0-2219 name=__codelineno-0-2219></a>                    <span class=sa>f</span><span class=s2>&quot;Please give feedback to </span><span class=si>{</span><span class=n>sender_name</span><span class=si>}</span><span class=s2>. Press enter or type &#39;exit&#39; to stop the conversation: &quot;</span>
<a id=__codelineno-0-2220 name=__codelineno-0-2220></a>                <span class=p>)</span>
<a id=__codelineno-0-2221 name=__codelineno-0-2221></a>                <span class=n>no_human_input_msg</span> <span class=o>=</span> <span class=s2>&quot;NO HUMAN INPUT RECEIVED.&quot;</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>reply</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2222 name=__codelineno-0-2222></a>                <span class=c1># if the human input is empty, and the message is a termination message, then we will terminate the conversation</span>
<a id=__codelineno-0-2223 name=__codelineno-0-2223></a>                <span class=n>reply</span> <span class=o>=</span> <span class=n>reply</span> <span class=ow>or</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2224 name=__codelineno-0-2224></a>
<a id=__codelineno-0-2225 name=__codelineno-0-2225></a>    <span class=c1># print the no_human_input_msg</span>
<a id=__codelineno-0-2226 name=__codelineno-0-2226></a>    <span class=k>if</span> <span class=n>no_human_input_msg</span><span class=p>:</span>
<a id=__codelineno-0-2227 name=__codelineno-0-2227></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
<a id=__codelineno-0-2228 name=__codelineno-0-2228></a>            <span class=n>TerminationAndHumanReplyMessage</span><span class=p>(</span><span class=n>no_human_input_msg</span><span class=o>=</span><span class=n>no_human_input_msg</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>)</span>
<a id=__codelineno-0-2229 name=__codelineno-0-2229></a>        <span class=p>)</span>
<a id=__codelineno-0-2230 name=__codelineno-0-2230></a>
<a id=__codelineno-0-2231 name=__codelineno-0-2231></a>    <span class=c1># stop the conversation</span>
<a id=__codelineno-0-2232 name=__codelineno-0-2232></a>    <span class=k>if</span> <span class=n>reply</span> <span class=o>==</span> <span class=s2>&quot;exit&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2233 name=__codelineno-0-2233></a>        <span class=c1># reset the consecutive_auto_reply_counter</span>
<a id=__codelineno-0-2234 name=__codelineno-0-2234></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-2235 name=__codelineno-0-2235></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>None</span>
<a id=__codelineno-0-2236 name=__codelineno-0-2236></a>
<a id=__codelineno-0-2237 name=__codelineno-0-2237></a>    <span class=c1># send the human reply</span>
<a id=__codelineno-0-2238 name=__codelineno-0-2238></a>    <span class=k>if</span> <span class=n>reply</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply_dict</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-2239 name=__codelineno-0-2239></a>        <span class=c1># reset the consecutive_auto_reply_counter</span>
<a id=__codelineno-0-2240 name=__codelineno-0-2240></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-2241 name=__codelineno-0-2241></a>        <span class=c1># User provided a custom response, return function and tool failures indicating user interruption</span>
<a id=__codelineno-0-2242 name=__codelineno-0-2242></a>        <span class=n>tool_returns</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-2243 name=__codelineno-0-2243></a>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;function_call&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
<a id=__codelineno-0-2244 name=__codelineno-0-2244></a>            <span class=n>tool_returns</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
<a id=__codelineno-0-2245 name=__codelineno-0-2245></a>                <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;function&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2246 name=__codelineno-0-2246></a>                <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;function_call&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>),</span>
<a id=__codelineno-0-2247 name=__codelineno-0-2247></a>                <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=s2>&quot;USER INTERRUPTED&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2248 name=__codelineno-0-2248></a>            <span class=p>})</span>
<a id=__codelineno-0-2249 name=__codelineno-0-2249></a>
<a id=__codelineno-0-2250 name=__codelineno-0-2250></a>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;tool_calls&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
<a id=__codelineno-0-2251 name=__codelineno-0-2251></a>            <span class=n>tool_returns</span><span class=o>.</span><span class=n>extend</span><span class=p>([</span>
<a id=__codelineno-0-2252 name=__codelineno-0-2252></a>                <span class=p>{</span><span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;tool&quot;</span><span class=p>,</span> <span class=s2>&quot;tool_call_id&quot;</span><span class=p>:</span> <span class=n>tool_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;id&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>),</span> <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=s2>&quot;USER INTERRUPTED&quot;</span><span class=p>}</span>
<a id=__codelineno-0-2253 name=__codelineno-0-2253></a>                <span class=k>for</span> <span class=n>tool_call</span> <span class=ow>in</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;tool_calls&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2254 name=__codelineno-0-2254></a>            <span class=p>])</span>
<a id=__codelineno-0-2255 name=__codelineno-0-2255></a>
<a id=__codelineno-0-2256 name=__codelineno-0-2256></a>        <span class=n>response</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span> <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=n>reply</span><span class=p>}</span>
<a id=__codelineno-0-2257 name=__codelineno-0-2257></a>        <span class=k>if</span> <span class=n>tool_returns</span><span class=p>:</span>
<a id=__codelineno-0-2258 name=__codelineno-0-2258></a>            <span class=n>response</span><span class=p>[</span><span class=s2>&quot;tool_responses&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>tool_returns</span>
<a id=__codelineno-0-2259 name=__codelineno-0-2259></a>
<a id=__codelineno-0-2260 name=__codelineno-0-2260></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=n>response</span>
<a id=__codelineno-0-2261 name=__codelineno-0-2261></a>
<a id=__codelineno-0-2262 name=__codelineno-0-2262></a>    <span class=c1># increment the consecutive_auto_reply_counter</span>
<a id=__codelineno-0-2263 name=__codelineno-0-2263></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-0-2264 name=__codelineno-0-2264></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span> <span class=o>!=</span> <span class=s2>&quot;NEVER&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2265 name=__codelineno-0-2265></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>UsingAutoReplyMessage</span><span class=p>(</span><span class=n>human_input_mode</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>))</span>
<a id=__codelineno-0-2266 name=__codelineno-0-2266></a>
<a id=__codelineno-0-2267 name=__codelineno-0-2267></a>    <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_check_termination_and_human_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_check_termination_and_human_reply</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_check_termination_and_human_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_check_termination_and_human_reply</span><span class=p>(</span><span class=n>messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>(async) Check if the conversation should be terminated, and if human reply is provided.</p> <p>This method checks for conditions that require the conversation to be terminated, such as reaching a maximum number of consecutive auto-replies or encountering a termination message. Additionally, it prompts for and processes human input based on the configured human input mode, which can be 'ALWAYS', 'NEVER', or 'TERMINATE'. The method also manages the consecutive auto-reply counter for the conversation and prints relevant messages based on the human input received.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>messages</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>A list of message dictionaries, representing the conversation history.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<span title=List>List</span>[<span title=Dict>Dict</span>]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>sender</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The agent object representing the sender of the message.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../../../../Agent/#autogen.Agent>Agent</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>config</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Configuration object, defaults to the current instance if not provided.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>Tuple[bool, Union[str, Dict, None]]: A tuple containing a boolean indicating if the conversation</p> </div> </td> </tr> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, None]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>should be terminated, and a human reply which can be a string, a dictionary, or None.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2269>2269</a></span>
<span class=normal><a href=#__codelineno-0-2270>2270</a></span>
<span class=normal><a href=#__codelineno-0-2271>2271</a></span>
<span class=normal><a href=#__codelineno-0-2272>2272</a></span>
<span class=normal><a href=#__codelineno-0-2273>2273</a></span>
<span class=normal><a href=#__codelineno-0-2274>2274</a></span>
<span class=normal><a href=#__codelineno-0-2275>2275</a></span>
<span class=normal><a href=#__codelineno-0-2276>2276</a></span>
<span class=normal><a href=#__codelineno-0-2277>2277</a></span>
<span class=normal><a href=#__codelineno-0-2278>2278</a></span>
<span class=normal><a href=#__codelineno-0-2279>2279</a></span>
<span class=normal><a href=#__codelineno-0-2280>2280</a></span>
<span class=normal><a href=#__codelineno-0-2281>2281</a></span>
<span class=normal><a href=#__codelineno-0-2282>2282</a></span>
<span class=normal><a href=#__codelineno-0-2283>2283</a></span>
<span class=normal><a href=#__codelineno-0-2284>2284</a></span>
<span class=normal><a href=#__codelineno-0-2285>2285</a></span>
<span class=normal><a href=#__codelineno-0-2286>2286</a></span>
<span class=normal><a href=#__codelineno-0-2287>2287</a></span>
<span class=normal><a href=#__codelineno-0-2288>2288</a></span>
<span class=normal><a href=#__codelineno-0-2289>2289</a></span>
<span class=normal><a href=#__codelineno-0-2290>2290</a></span>
<span class=normal><a href=#__codelineno-0-2291>2291</a></span>
<span class=normal><a href=#__codelineno-0-2292>2292</a></span>
<span class=normal><a href=#__codelineno-0-2293>2293</a></span>
<span class=normal><a href=#__codelineno-0-2294>2294</a></span>
<span class=normal><a href=#__codelineno-0-2295>2295</a></span>
<span class=normal><a href=#__codelineno-0-2296>2296</a></span>
<span class=normal><a href=#__codelineno-0-2297>2297</a></span>
<span class=normal><a href=#__codelineno-0-2298>2298</a></span>
<span class=normal><a href=#__codelineno-0-2299>2299</a></span>
<span class=normal><a href=#__codelineno-0-2300>2300</a></span>
<span class=normal><a href=#__codelineno-0-2301>2301</a></span>
<span class=normal><a href=#__codelineno-0-2302>2302</a></span>
<span class=normal><a href=#__codelineno-0-2303>2303</a></span>
<span class=normal><a href=#__codelineno-0-2304>2304</a></span>
<span class=normal><a href=#__codelineno-0-2305>2305</a></span>
<span class=normal><a href=#__codelineno-0-2306>2306</a></span>
<span class=normal><a href=#__codelineno-0-2307>2307</a></span>
<span class=normal><a href=#__codelineno-0-2308>2308</a></span>
<span class=normal><a href=#__codelineno-0-2309>2309</a></span>
<span class=normal><a href=#__codelineno-0-2310>2310</a></span>
<span class=normal><a href=#__codelineno-0-2311>2311</a></span>
<span class=normal><a href=#__codelineno-0-2312>2312</a></span>
<span class=normal><a href=#__codelineno-0-2313>2313</a></span>
<span class=normal><a href=#__codelineno-0-2314>2314</a></span>
<span class=normal><a href=#__codelineno-0-2315>2315</a></span>
<span class=normal><a href=#__codelineno-0-2316>2316</a></span>
<span class=normal><a href=#__codelineno-0-2317>2317</a></span>
<span class=normal><a href=#__codelineno-0-2318>2318</a></span>
<span class=normal><a href=#__codelineno-0-2319>2319</a></span>
<span class=normal><a href=#__codelineno-0-2320>2320</a></span>
<span class=normal><a href=#__codelineno-0-2321>2321</a></span>
<span class=normal><a href=#__codelineno-0-2322>2322</a></span>
<span class=normal><a href=#__codelineno-0-2323>2323</a></span>
<span class=normal><a href=#__codelineno-0-2324>2324</a></span>
<span class=normal><a href=#__codelineno-0-2325>2325</a></span>
<span class=normal><a href=#__codelineno-0-2326>2326</a></span>
<span class=normal><a href=#__codelineno-0-2327>2327</a></span>
<span class=normal><a href=#__codelineno-0-2328>2328</a></span>
<span class=normal><a href=#__codelineno-0-2329>2329</a></span>
<span class=normal><a href=#__codelineno-0-2330>2330</a></span>
<span class=normal><a href=#__codelineno-0-2331>2331</a></span>
<span class=normal><a href=#__codelineno-0-2332>2332</a></span>
<span class=normal><a href=#__codelineno-0-2333>2333</a></span>
<span class=normal><a href=#__codelineno-0-2334>2334</a></span>
<span class=normal><a href=#__codelineno-0-2335>2335</a></span>
<span class=normal><a href=#__codelineno-0-2336>2336</a></span>
<span class=normal><a href=#__codelineno-0-2337>2337</a></span>
<span class=normal><a href=#__codelineno-0-2338>2338</a></span>
<span class=normal><a href=#__codelineno-0-2339>2339</a></span>
<span class=normal><a href=#__codelineno-0-2340>2340</a></span>
<span class=normal><a href=#__codelineno-0-2341>2341</a></span>
<span class=normal><a href=#__codelineno-0-2342>2342</a></span>
<span class=normal><a href=#__codelineno-0-2343>2343</a></span>
<span class=normal><a href=#__codelineno-0-2344>2344</a></span>
<span class=normal><a href=#__codelineno-0-2345>2345</a></span>
<span class=normal><a href=#__codelineno-0-2346>2346</a></span>
<span class=normal><a href=#__codelineno-0-2347>2347</a></span>
<span class=normal><a href=#__codelineno-0-2348>2348</a></span>
<span class=normal><a href=#__codelineno-0-2349>2349</a></span>
<span class=normal><a href=#__codelineno-0-2350>2350</a></span>
<span class=normal><a href=#__codelineno-0-2351>2351</a></span>
<span class=normal><a href=#__codelineno-0-2352>2352</a></span>
<span class=normal><a href=#__codelineno-0-2353>2353</a></span>
<span class=normal><a href=#__codelineno-0-2354>2354</a></span>
<span class=normal><a href=#__codelineno-0-2355>2355</a></span>
<span class=normal><a href=#__codelineno-0-2356>2356</a></span>
<span class=normal><a href=#__codelineno-0-2357>2357</a></span>
<span class=normal><a href=#__codelineno-0-2358>2358</a></span>
<span class=normal><a href=#__codelineno-0-2359>2359</a></span>
<span class=normal><a href=#__codelineno-0-2360>2360</a></span>
<span class=normal><a href=#__codelineno-0-2361>2361</a></span>
<span class=normal><a href=#__codelineno-0-2362>2362</a></span>
<span class=normal><a href=#__codelineno-0-2363>2363</a></span>
<span class=normal><a href=#__codelineno-0-2364>2364</a></span>
<span class=normal><a href=#__codelineno-0-2365>2365</a></span>
<span class=normal><a href=#__codelineno-0-2366>2366</a></span>
<span class=normal><a href=#__codelineno-0-2367>2367</a></span>
<span class=normal><a href=#__codelineno-0-2368>2368</a></span>
<span class=normal><a href=#__codelineno-0-2369>2369</a></span>
<span class=normal><a href=#__codelineno-0-2370>2370</a></span>
<span class=normal><a href=#__codelineno-0-2371>2371</a></span>
<span class=normal><a href=#__codelineno-0-2372>2372</a></span>
<span class=normal><a href=#__codelineno-0-2373>2373</a></span>
<span class=normal><a href=#__codelineno-0-2374>2374</a></span>
<span class=normal><a href=#__codelineno-0-2375>2375</a></span>
<span class=normal><a href=#__codelineno-0-2376>2376</a></span>
<span class=normal><a href=#__codelineno-0-2377>2377</a></span>
<span class=normal><a href=#__codelineno-0-2378>2378</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2269 name=__codelineno-0-2269></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_check_termination_and_human_reply</span><span class=p>(</span>
<a id=__codelineno-0-2270 name=__codelineno-0-2270></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-2271 name=__codelineno-0-2271></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2272 name=__codelineno-0-2272></a>    <span class=n>sender</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2273 name=__codelineno-0-2273></a>    <span class=n>config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2274 name=__codelineno-0-2274></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=kc>None</span><span class=p>]]:</span>
<a id=__codelineno-0-2275 name=__codelineno-0-2275></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(async) Check if the conversation should be terminated, and if human reply is provided.</span>
<a id=__codelineno-0-2276 name=__codelineno-0-2276></a>
<a id=__codelineno-0-2277 name=__codelineno-0-2277></a><span class=sd>    This method checks for conditions that require the conversation to be terminated, such as reaching</span>
<a id=__codelineno-0-2278 name=__codelineno-0-2278></a><span class=sd>    a maximum number of consecutive auto-replies or encountering a termination message. Additionally,</span>
<a id=__codelineno-0-2279 name=__codelineno-0-2279></a><span class=sd>    it prompts for and processes human input based on the configured human input mode, which can be</span>
<a id=__codelineno-0-2280 name=__codelineno-0-2280></a><span class=sd>    &#39;ALWAYS&#39;, &#39;NEVER&#39;, or &#39;TERMINATE&#39;. The method also manages the consecutive auto-reply counter</span>
<a id=__codelineno-0-2281 name=__codelineno-0-2281></a><span class=sd>    for the conversation and prints relevant messages based on the human input received.</span>
<a id=__codelineno-0-2282 name=__codelineno-0-2282></a>
<a id=__codelineno-0-2283 name=__codelineno-0-2283></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2284 name=__codelineno-0-2284></a><span class=sd>        messages (Optional[List[Dict]]): A list of message dictionaries, representing the conversation history.</span>
<a id=__codelineno-0-2285 name=__codelineno-0-2285></a><span class=sd>        sender (Optional[Agent]): The agent object representing the sender of the message.</span>
<a id=__codelineno-0-2286 name=__codelineno-0-2286></a><span class=sd>        config (Optional[Any]): Configuration object, defaults to the current instance if not provided.</span>
<a id=__codelineno-0-2287 name=__codelineno-0-2287></a>
<a id=__codelineno-0-2288 name=__codelineno-0-2288></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2289 name=__codelineno-0-2289></a><span class=sd>        Tuple[bool, Union[str, Dict, None]]: A tuple containing a boolean indicating if the conversation</span>
<a id=__codelineno-0-2290 name=__codelineno-0-2290></a><span class=sd>        should be terminated, and a human reply which can be a string, a dictionary, or None.</span>
<a id=__codelineno-0-2291 name=__codelineno-0-2291></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2292 name=__codelineno-0-2292></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-2293 name=__codelineno-0-2293></a>
<a id=__codelineno-0-2294 name=__codelineno-0-2294></a>    <span class=k>if</span> <span class=n>config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2295 name=__codelineno-0-2295></a>        <span class=n>config</span> <span class=o>=</span> <span class=bp>self</span>
<a id=__codelineno-0-2296 name=__codelineno-0-2296></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2297 name=__codelineno-0-2297></a>        <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_oai_messages</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=k>if</span> <span class=n>sender</span> <span class=k>else</span> <span class=p>[]</span>
<a id=__codelineno-0-2298 name=__codelineno-0-2298></a>    <span class=n>message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=k>if</span> <span class=n>messages</span> <span class=k>else</span> <span class=p>{}</span>
<a id=__codelineno-0-2299 name=__codelineno-0-2299></a>    <span class=n>reply</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2300 name=__codelineno-0-2300></a>    <span class=n>no_human_input_msg</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2301 name=__codelineno-0-2301></a>    <span class=n>sender_name</span> <span class=o>=</span> <span class=s2>&quot;the sender&quot;</span> <span class=k>if</span> <span class=n>sender</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=n>sender</span><span class=o>.</span><span class=n>name</span>
<a id=__codelineno-0-2302 name=__codelineno-0-2302></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span> <span class=o>==</span> <span class=s2>&quot;ALWAYS&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2303 name=__codelineno-0-2303></a>        <span class=n>reply</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_get_human_input</span><span class=p>(</span>
<a id=__codelineno-0-2304 name=__codelineno-0-2304></a>            <span class=sa>f</span><span class=s2>&quot;Replying as </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>. Provide feedback to </span><span class=si>{</span><span class=n>sender_name</span><span class=si>}</span><span class=s2>. Press enter to skip and use auto-reply, or type &#39;exit&#39; to end the conversation: &quot;</span>
<a id=__codelineno-0-2305 name=__codelineno-0-2305></a>        <span class=p>)</span>
<a id=__codelineno-0-2306 name=__codelineno-0-2306></a>        <span class=n>no_human_input_msg</span> <span class=o>=</span> <span class=s2>&quot;NO HUMAN INPUT RECEIVED.&quot;</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>reply</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2307 name=__codelineno-0-2307></a>        <span class=c1># if the human input is empty, and the message is a termination message, then we will terminate the conversation</span>
<a id=__codelineno-0-2308 name=__codelineno-0-2308></a>        <span class=n>reply</span> <span class=o>=</span> <span class=n>reply</span> <span class=k>if</span> <span class=n>reply</span> <span class=ow>or</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_termination_msg</span><span class=p>(</span><span class=n>message</span><span class=p>)</span> <span class=k>else</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2309 name=__codelineno-0-2309></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2310 name=__codelineno-0-2310></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply_dict</span><span class=p>[</span><span class=n>sender</span><span class=p>]:</span>
<a id=__codelineno-0-2311 name=__codelineno-0-2311></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span> <span class=o>==</span> <span class=s2>&quot;NEVER&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2312 name=__codelineno-0-2312></a>                <span class=n>reply</span> <span class=o>=</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2313 name=__codelineno-0-2313></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2314 name=__codelineno-0-2314></a>                <span class=c1># self.human_input_mode == &quot;TERMINATE&quot;:</span>
<a id=__codelineno-0-2315 name=__codelineno-0-2315></a>                <span class=n>terminate</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_termination_msg</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
<a id=__codelineno-0-2316 name=__codelineno-0-2316></a>                <span class=n>reply</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_get_human_input</span><span class=p>(</span>
<a id=__codelineno-0-2317 name=__codelineno-0-2317></a>                    <span class=sa>f</span><span class=s2>&quot;Please give feedback to </span><span class=si>{</span><span class=n>sender_name</span><span class=si>}</span><span class=s2>. Press enter or type &#39;exit&#39; to stop the conversation: &quot;</span>
<a id=__codelineno-0-2318 name=__codelineno-0-2318></a>                    <span class=k>if</span> <span class=n>terminate</span>
<a id=__codelineno-0-2319 name=__codelineno-0-2319></a>                    <span class=k>else</span> <span class=sa>f</span><span class=s2>&quot;Please give feedback to </span><span class=si>{</span><span class=n>sender_name</span><span class=si>}</span><span class=s2>. Press enter to skip and use auto-reply, or type &#39;exit&#39; to stop the conversation: &quot;</span>
<a id=__codelineno-0-2320 name=__codelineno-0-2320></a>                <span class=p>)</span>
<a id=__codelineno-0-2321 name=__codelineno-0-2321></a>                <span class=n>no_human_input_msg</span> <span class=o>=</span> <span class=s2>&quot;NO HUMAN INPUT RECEIVED.&quot;</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>reply</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2322 name=__codelineno-0-2322></a>                <span class=c1># if the human input is empty, and the message is a termination message, then we will terminate the conversation</span>
<a id=__codelineno-0-2323 name=__codelineno-0-2323></a>                <span class=n>reply</span> <span class=o>=</span> <span class=n>reply</span> <span class=k>if</span> <span class=n>reply</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>terminate</span> <span class=k>else</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2324 name=__codelineno-0-2324></a>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_termination_msg</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
<a id=__codelineno-0-2325 name=__codelineno-0-2325></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span> <span class=o>==</span> <span class=s2>&quot;NEVER&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2326 name=__codelineno-0-2326></a>                <span class=n>reply</span> <span class=o>=</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2327 name=__codelineno-0-2327></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2328 name=__codelineno-0-2328></a>                <span class=c1># self.human_input_mode == &quot;TERMINATE&quot;:</span>
<a id=__codelineno-0-2329 name=__codelineno-0-2329></a>                <span class=n>reply</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_get_human_input</span><span class=p>(</span>
<a id=__codelineno-0-2330 name=__codelineno-0-2330></a>                    <span class=sa>f</span><span class=s2>&quot;Please give feedback to </span><span class=si>{</span><span class=n>sender_name</span><span class=si>}</span><span class=s2>. Press enter or type &#39;exit&#39; to stop the conversation: &quot;</span>
<a id=__codelineno-0-2331 name=__codelineno-0-2331></a>                <span class=p>)</span>
<a id=__codelineno-0-2332 name=__codelineno-0-2332></a>                <span class=n>no_human_input_msg</span> <span class=o>=</span> <span class=s2>&quot;NO HUMAN INPUT RECEIVED.&quot;</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>reply</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2333 name=__codelineno-0-2333></a>                <span class=c1># if the human input is empty, and the message is a termination message, then we will terminate the conversation</span>
<a id=__codelineno-0-2334 name=__codelineno-0-2334></a>                <span class=n>reply</span> <span class=o>=</span> <span class=n>reply</span> <span class=ow>or</span> <span class=s2>&quot;exit&quot;</span>
<a id=__codelineno-0-2335 name=__codelineno-0-2335></a>
<a id=__codelineno-0-2336 name=__codelineno-0-2336></a>    <span class=c1># print the no_human_input_msg</span>
<a id=__codelineno-0-2337 name=__codelineno-0-2337></a>    <span class=k>if</span> <span class=n>no_human_input_msg</span><span class=p>:</span>
<a id=__codelineno-0-2338 name=__codelineno-0-2338></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
<a id=__codelineno-0-2339 name=__codelineno-0-2339></a>            <span class=n>TerminationAndHumanReplyMessage</span><span class=p>(</span><span class=n>no_human_input_msg</span><span class=o>=</span><span class=n>no_human_input_msg</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>)</span>
<a id=__codelineno-0-2340 name=__codelineno-0-2340></a>        <span class=p>)</span>
<a id=__codelineno-0-2341 name=__codelineno-0-2341></a>
<a id=__codelineno-0-2342 name=__codelineno-0-2342></a>    <span class=c1># stop the conversation</span>
<a id=__codelineno-0-2343 name=__codelineno-0-2343></a>    <span class=k>if</span> <span class=n>reply</span> <span class=o>==</span> <span class=s2>&quot;exit&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2344 name=__codelineno-0-2344></a>        <span class=c1># reset the consecutive_auto_reply_counter</span>
<a id=__codelineno-0-2345 name=__codelineno-0-2345></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-2346 name=__codelineno-0-2346></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>None</span>
<a id=__codelineno-0-2347 name=__codelineno-0-2347></a>
<a id=__codelineno-0-2348 name=__codelineno-0-2348></a>    <span class=c1># send the human reply</span>
<a id=__codelineno-0-2349 name=__codelineno-0-2349></a>    <span class=k>if</span> <span class=n>reply</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>_max_consecutive_auto_reply_dict</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-2350 name=__codelineno-0-2350></a>        <span class=c1># User provided a custom response, return function and tool results indicating user interruption</span>
<a id=__codelineno-0-2351 name=__codelineno-0-2351></a>        <span class=c1># reset the consecutive_auto_reply_counter</span>
<a id=__codelineno-0-2352 name=__codelineno-0-2352></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-2353 name=__codelineno-0-2353></a>        <span class=n>tool_returns</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-2354 name=__codelineno-0-2354></a>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;function_call&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
<a id=__codelineno-0-2355 name=__codelineno-0-2355></a>            <span class=n>tool_returns</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
<a id=__codelineno-0-2356 name=__codelineno-0-2356></a>                <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;function&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2357 name=__codelineno-0-2357></a>                <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;function_call&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>),</span>
<a id=__codelineno-0-2358 name=__codelineno-0-2358></a>                <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=s2>&quot;USER INTERRUPTED&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2359 name=__codelineno-0-2359></a>            <span class=p>})</span>
<a id=__codelineno-0-2360 name=__codelineno-0-2360></a>
<a id=__codelineno-0-2361 name=__codelineno-0-2361></a>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;tool_calls&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
<a id=__codelineno-0-2362 name=__codelineno-0-2362></a>            <span class=n>tool_returns</span><span class=o>.</span><span class=n>extend</span><span class=p>([</span>
<a id=__codelineno-0-2363 name=__codelineno-0-2363></a>                <span class=p>{</span><span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;tool&quot;</span><span class=p>,</span> <span class=s2>&quot;tool_call_id&quot;</span><span class=p>:</span> <span class=n>tool_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;id&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>),</span> <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=s2>&quot;USER INTERRUPTED&quot;</span><span class=p>}</span>
<a id=__codelineno-0-2364 name=__codelineno-0-2364></a>                <span class=k>for</span> <span class=n>tool_call</span> <span class=ow>in</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;tool_calls&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2365 name=__codelineno-0-2365></a>            <span class=p>])</span>
<a id=__codelineno-0-2366 name=__codelineno-0-2366></a>
<a id=__codelineno-0-2367 name=__codelineno-0-2367></a>        <span class=n>response</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span> <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=n>reply</span><span class=p>}</span>
<a id=__codelineno-0-2368 name=__codelineno-0-2368></a>        <span class=k>if</span> <span class=n>tool_returns</span><span class=p>:</span>
<a id=__codelineno-0-2369 name=__codelineno-0-2369></a>            <span class=n>response</span><span class=p>[</span><span class=s2>&quot;tool_responses&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>tool_returns</span>
<a id=__codelineno-0-2370 name=__codelineno-0-2370></a>
<a id=__codelineno-0-2371 name=__codelineno-0-2371></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=n>response</span>
<a id=__codelineno-0-2372 name=__codelineno-0-2372></a>
<a id=__codelineno-0-2373 name=__codelineno-0-2373></a>    <span class=c1># increment the consecutive_auto_reply_counter</span>
<a id=__codelineno-0-2374 name=__codelineno-0-2374></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_consecutive_auto_reply_counter</span><span class=p>[</span><span class=n>sender</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-0-2375 name=__codelineno-0-2375></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span> <span class=o>!=</span> <span class=s2>&quot;NEVER&quot;</span><span class=p>:</span>
<a id=__codelineno-0-2376 name=__codelineno-0-2376></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>UsingAutoReplyMessage</span><span class=p>(</span><span class=n>human_input_mode</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>human_input_mode</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>sender</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>))</span>
<a id=__codelineno-0-2377 name=__codelineno-0-2377></a>
<a id=__codelineno-0-2378 name=__codelineno-0-2378></a>    <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_human_input class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_human_input</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_human_input class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_human_input</span><span class=p>(</span><span class=n>prompt</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get human input.</p> <p>Override this method to customize the way to get human input.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prompt</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>prompt for the human input.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>str</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>human input.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2555>2555</a></span>
<span class=normal><a href=#__codelineno-0-2556>2556</a></span>
<span class=normal><a href=#__codelineno-0-2557>2557</a></span>
<span class=normal><a href=#__codelineno-0-2558>2558</a></span>
<span class=normal><a href=#__codelineno-0-2559>2559</a></span>
<span class=normal><a href=#__codelineno-0-2560>2560</a></span>
<span class=normal><a href=#__codelineno-0-2561>2561</a></span>
<span class=normal><a href=#__codelineno-0-2562>2562</a></span>
<span class=normal><a href=#__codelineno-0-2563>2563</a></span>
<span class=normal><a href=#__codelineno-0-2564>2564</a></span>
<span class=normal><a href=#__codelineno-0-2565>2565</a></span>
<span class=normal><a href=#__codelineno-0-2566>2566</a></span>
<span class=normal><a href=#__codelineno-0-2567>2567</a></span>
<span class=normal><a href=#__codelineno-0-2568>2568</a></span>
<span class=normal><a href=#__codelineno-0-2569>2569</a></span>
<span class=normal><a href=#__codelineno-0-2570>2570</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2555 name=__codelineno-0-2555></a><span class=k>def</span><span class=w> </span><span class=nf>get_human_input</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>prompt</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-2556 name=__codelineno-0-2556></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get human input.</span>
<a id=__codelineno-0-2557 name=__codelineno-0-2557></a>
<a id=__codelineno-0-2558 name=__codelineno-0-2558></a><span class=sd>    Override this method to customize the way to get human input.</span>
<a id=__codelineno-0-2559 name=__codelineno-0-2559></a>
<a id=__codelineno-0-2560 name=__codelineno-0-2560></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2561 name=__codelineno-0-2561></a><span class=sd>        prompt (str): prompt for the human input.</span>
<a id=__codelineno-0-2562 name=__codelineno-0-2562></a>
<a id=__codelineno-0-2563 name=__codelineno-0-2563></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2564 name=__codelineno-0-2564></a><span class=sd>        str: human input.</span>
<a id=__codelineno-0-2565 name=__codelineno-0-2565></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2566 name=__codelineno-0-2566></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-2567 name=__codelineno-0-2567></a>
<a id=__codelineno-0-2568 name=__codelineno-0-2568></a>    <span class=n>reply</span> <span class=o>=</span> <span class=n>iostream</span><span class=o>.</span><span class=n>input</span><span class=p>(</span><span class=n>prompt</span><span class=p>)</span>
<a id=__codelineno-0-2569 name=__codelineno-0-2569></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_human_input</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>reply</span><span class=p>)</span>
<a id=__codelineno-0-2570 name=__codelineno-0-2570></a>    <span class=k>return</span> <span class=n>reply</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_get_human_input class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_get_human_input</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_get_human_input class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_get_human_input</span><span class=p>(</span><span class=n>prompt</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>(Async) Get human input.</p> <p>Override this method to customize the way to get human input.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prompt</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>prompt for the human input.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>str</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>human input.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2572>2572</a></span>
<span class=normal><a href=#__codelineno-0-2573>2573</a></span>
<span class=normal><a href=#__codelineno-0-2574>2574</a></span>
<span class=normal><a href=#__codelineno-0-2575>2575</a></span>
<span class=normal><a href=#__codelineno-0-2576>2576</a></span>
<span class=normal><a href=#__codelineno-0-2577>2577</a></span>
<span class=normal><a href=#__codelineno-0-2578>2578</a></span>
<span class=normal><a href=#__codelineno-0-2579>2579</a></span>
<span class=normal><a href=#__codelineno-0-2580>2580</a></span>
<span class=normal><a href=#__codelineno-0-2581>2581</a></span>
<span class=normal><a href=#__codelineno-0-2582>2582</a></span>
<span class=normal><a href=#__codelineno-0-2583>2583</a></span>
<span class=normal><a href=#__codelineno-0-2584>2584</a></span>
<span class=normal><a href=#__codelineno-0-2585>2585</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2572 name=__codelineno-0-2572></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_get_human_input</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>prompt</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-2573 name=__codelineno-0-2573></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(Async) Get human input.</span>
<a id=__codelineno-0-2574 name=__codelineno-0-2574></a>
<a id=__codelineno-0-2575 name=__codelineno-0-2575></a><span class=sd>    Override this method to customize the way to get human input.</span>
<a id=__codelineno-0-2576 name=__codelineno-0-2576></a>
<a id=__codelineno-0-2577 name=__codelineno-0-2577></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2578 name=__codelineno-0-2578></a><span class=sd>        prompt (str): prompt for the human input.</span>
<a id=__codelineno-0-2579 name=__codelineno-0-2579></a>
<a id=__codelineno-0-2580 name=__codelineno-0-2580></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2581 name=__codelineno-0-2581></a><span class=sd>        str: human input.</span>
<a id=__codelineno-0-2582 name=__codelineno-0-2582></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2583 name=__codelineno-0-2583></a>    <span class=n>loop</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>get_running_loop</span><span class=p>()</span>
<a id=__codelineno-0-2584 name=__codelineno-0-2584></a>    <span class=n>reply</span> <span class=o>=</span> <span class=k>await</span> <span class=n>loop</span><span class=o>.</span><span class=n>run_in_executor</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get_human_input</span><span class=p>,</span> <span class=n>prompt</span><span class=p>))</span>
<a id=__codelineno-0-2585 name=__codelineno-0-2585></a>    <span class=k>return</span> <span class=n>reply</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.run_code class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">run_code</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run_code class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run_code</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Run the code and return the result.</p> <p>Override this function to modify the way to run the code.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>code</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the code to be executed.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>other keyword arguments.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>A tuple of (exitcode, logs, image).</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code>exitcode</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>the exit code of the code execution.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>logs</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>the logs of the code execution.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>image</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>the docker image used for the code execution.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> or None</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2587>2587</a></span>
<span class=normal><a href=#__codelineno-0-2588>2588</a></span>
<span class=normal><a href=#__codelineno-0-2589>2589</a></span>
<span class=normal><a href=#__codelineno-0-2590>2590</a></span>
<span class=normal><a href=#__codelineno-0-2591>2591</a></span>
<span class=normal><a href=#__codelineno-0-2592>2592</a></span>
<span class=normal><a href=#__codelineno-0-2593>2593</a></span>
<span class=normal><a href=#__codelineno-0-2594>2594</a></span>
<span class=normal><a href=#__codelineno-0-2595>2595</a></span>
<span class=normal><a href=#__codelineno-0-2596>2596</a></span>
<span class=normal><a href=#__codelineno-0-2597>2597</a></span>
<span class=normal><a href=#__codelineno-0-2598>2598</a></span>
<span class=normal><a href=#__codelineno-0-2599>2599</a></span>
<span class=normal><a href=#__codelineno-0-2600>2600</a></span>
<span class=normal><a href=#__codelineno-0-2601>2601</a></span>
<span class=normal><a href=#__codelineno-0-2602>2602</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2587 name=__codelineno-0-2587></a><span class=k>def</span><span class=w> </span><span class=nf>run_code</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>code</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>):</span>
<a id=__codelineno-0-2588 name=__codelineno-0-2588></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run the code and return the result.</span>
<a id=__codelineno-0-2589 name=__codelineno-0-2589></a>
<a id=__codelineno-0-2590 name=__codelineno-0-2590></a><span class=sd>    Override this function to modify the way to run the code.</span>
<a id=__codelineno-0-2591 name=__codelineno-0-2591></a>
<a id=__codelineno-0-2592 name=__codelineno-0-2592></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2593 name=__codelineno-0-2593></a><span class=sd>        code (str): the code to be executed.</span>
<a id=__codelineno-0-2594 name=__codelineno-0-2594></a><span class=sd>        **kwargs: other keyword arguments.</span>
<a id=__codelineno-0-2595 name=__codelineno-0-2595></a>
<a id=__codelineno-0-2596 name=__codelineno-0-2596></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2597 name=__codelineno-0-2597></a><span class=sd>        A tuple of (exitcode, logs, image).</span>
<a id=__codelineno-0-2598 name=__codelineno-0-2598></a><span class=sd>        exitcode (int): the exit code of the code execution.</span>
<a id=__codelineno-0-2599 name=__codelineno-0-2599></a><span class=sd>        logs (str): the logs of the code execution.</span>
<a id=__codelineno-0-2600 name=__codelineno-0-2600></a><span class=sd>        image (str or None): the docker image used for the code execution.</span>
<a id=__codelineno-0-2601 name=__codelineno-0-2601></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2602 name=__codelineno-0-2602></a>    <span class=k>return</span> <span class=n>execute_code</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.execute_code_blocks class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">execute_code_blocks</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.execute_code_blocks class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>execute_code_blocks</span><span class=p>(</span><span class=n>code_blocks</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Execute the code blocks and return the result.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2604>2604</a></span>
<span class=normal><a href=#__codelineno-0-2605>2605</a></span>
<span class=normal><a href=#__codelineno-0-2606>2606</a></span>
<span class=normal><a href=#__codelineno-0-2607>2607</a></span>
<span class=normal><a href=#__codelineno-0-2608>2608</a></span>
<span class=normal><a href=#__codelineno-0-2609>2609</a></span>
<span class=normal><a href=#__codelineno-0-2610>2610</a></span>
<span class=normal><a href=#__codelineno-0-2611>2611</a></span>
<span class=normal><a href=#__codelineno-0-2612>2612</a></span>
<span class=normal><a href=#__codelineno-0-2613>2613</a></span>
<span class=normal><a href=#__codelineno-0-2614>2614</a></span>
<span class=normal><a href=#__codelineno-0-2615>2615</a></span>
<span class=normal><a href=#__codelineno-0-2616>2616</a></span>
<span class=normal><a href=#__codelineno-0-2617>2617</a></span>
<span class=normal><a href=#__codelineno-0-2618>2618</a></span>
<span class=normal><a href=#__codelineno-0-2619>2619</a></span>
<span class=normal><a href=#__codelineno-0-2620>2620</a></span>
<span class=normal><a href=#__codelineno-0-2621>2621</a></span>
<span class=normal><a href=#__codelineno-0-2622>2622</a></span>
<span class=normal><a href=#__codelineno-0-2623>2623</a></span>
<span class=normal><a href=#__codelineno-0-2624>2624</a></span>
<span class=normal><a href=#__codelineno-0-2625>2625</a></span>
<span class=normal><a href=#__codelineno-0-2626>2626</a></span>
<span class=normal><a href=#__codelineno-0-2627>2627</a></span>
<span class=normal><a href=#__codelineno-0-2628>2628</a></span>
<span class=normal><a href=#__codelineno-0-2629>2629</a></span>
<span class=normal><a href=#__codelineno-0-2630>2630</a></span>
<span class=normal><a href=#__codelineno-0-2631>2631</a></span>
<span class=normal><a href=#__codelineno-0-2632>2632</a></span>
<span class=normal><a href=#__codelineno-0-2633>2633</a></span>
<span class=normal><a href=#__codelineno-0-2634>2634</a></span>
<span class=normal><a href=#__codelineno-0-2635>2635</a></span>
<span class=normal><a href=#__codelineno-0-2636>2636</a></span>
<span class=normal><a href=#__codelineno-0-2637>2637</a></span>
<span class=normal><a href=#__codelineno-0-2638>2638</a></span>
<span class=normal><a href=#__codelineno-0-2639>2639</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2604 name=__codelineno-0-2604></a><span class=k>def</span><span class=w> </span><span class=nf>execute_code_blocks</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>code_blocks</span><span class=p>):</span>
<a id=__codelineno-0-2605 name=__codelineno-0-2605></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Execute the code blocks and return the result.&quot;&quot;&quot;</span>
<a id=__codelineno-0-2606 name=__codelineno-0-2606></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-2607 name=__codelineno-0-2607></a>
<a id=__codelineno-0-2608 name=__codelineno-0-2608></a>    <span class=n>logs_all</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-2609 name=__codelineno-0-2609></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>code_block</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>code_blocks</span><span class=p>):</span>
<a id=__codelineno-0-2610 name=__codelineno-0-2610></a>        <span class=n>lang</span><span class=p>,</span> <span class=n>code</span> <span class=o>=</span> <span class=n>code_block</span>
<a id=__codelineno-0-2611 name=__codelineno-0-2611></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>lang</span><span class=p>:</span>
<a id=__codelineno-0-2612 name=__codelineno-0-2612></a>            <span class=n>lang</span> <span class=o>=</span> <span class=n>infer_lang</span><span class=p>(</span><span class=n>code</span><span class=p>)</span>
<a id=__codelineno-0-2613 name=__codelineno-0-2613></a>
<a id=__codelineno-0-2614 name=__codelineno-0-2614></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>ExecuteCodeBlockMessage</span><span class=p>(</span><span class=n>code</span><span class=o>=</span><span class=n>code</span><span class=p>,</span> <span class=n>language</span><span class=o>=</span><span class=n>lang</span><span class=p>,</span> <span class=n>code_block_count</span><span class=o>=</span><span class=n>i</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>))</span>
<a id=__codelineno-0-2615 name=__codelineno-0-2615></a>
<a id=__codelineno-0-2616 name=__codelineno-0-2616></a>        <span class=k>if</span> <span class=n>lang</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;bash&quot;</span><span class=p>,</span> <span class=s2>&quot;shell&quot;</span><span class=p>,</span> <span class=s2>&quot;sh&quot;</span><span class=p>]:</span>
<a id=__codelineno-0-2617 name=__codelineno-0-2617></a>            <span class=n>exitcode</span><span class=p>,</span> <span class=n>logs</span><span class=p>,</span> <span class=n>image</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>run_code</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=n>lang</span><span class=o>=</span><span class=n>lang</span><span class=p>,</span> <span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>_code_execution_config</span><span class=p>)</span>
<a id=__codelineno-0-2618 name=__codelineno-0-2618></a>        <span class=k>elif</span> <span class=n>lang</span> <span class=ow>in</span> <span class=n>PYTHON_VARIANTS</span><span class=p>:</span>
<a id=__codelineno-0-2619 name=__codelineno-0-2619></a>            <span class=n>filename</span> <span class=o>=</span> <span class=n>code</span><span class=p>[</span><span class=mi>11</span> <span class=p>:</span> <span class=n>code</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)]</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=k>if</span> <span class=n>code</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;# filename: &quot;</span><span class=p>)</span> <span class=k>else</span> <span class=kc>None</span>
<a id=__codelineno-0-2620 name=__codelineno-0-2620></a>            <span class=n>exitcode</span><span class=p>,</span> <span class=n>logs</span><span class=p>,</span> <span class=n>image</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>run_code</span><span class=p>(</span>
<a id=__codelineno-0-2621 name=__codelineno-0-2621></a>                <span class=n>code</span><span class=p>,</span>
<a id=__codelineno-0-2622 name=__codelineno-0-2622></a>                <span class=n>lang</span><span class=o>=</span><span class=s2>&quot;python&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2623 name=__codelineno-0-2623></a>                <span class=n>filename</span><span class=o>=</span><span class=n>filename</span><span class=p>,</span>
<a id=__codelineno-0-2624 name=__codelineno-0-2624></a>                <span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>_code_execution_config</span><span class=p>,</span>
<a id=__codelineno-0-2625 name=__codelineno-0-2625></a>            <span class=p>)</span>
<a id=__codelineno-0-2626 name=__codelineno-0-2626></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2627 name=__codelineno-0-2627></a>            <span class=c1># In case the language is not supported, we return an error message.</span>
<a id=__codelineno-0-2628 name=__codelineno-0-2628></a>            <span class=n>exitcode</span><span class=p>,</span> <span class=n>logs</span><span class=p>,</span> <span class=n>image</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-2629 name=__codelineno-0-2629></a>                <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-0-2630 name=__codelineno-0-2630></a>                <span class=sa>f</span><span class=s2>&quot;unknown language </span><span class=si>{</span><span class=n>lang</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2631 name=__codelineno-0-2631></a>                <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-2632 name=__codelineno-0-2632></a>            <span class=p>)</span>
<a id=__codelineno-0-2633 name=__codelineno-0-2633></a>            <span class=c1># raise NotImplementedError</span>
<a id=__codelineno-0-2634 name=__codelineno-0-2634></a>        <span class=k>if</span> <span class=n>image</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2635 name=__codelineno-0-2635></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_code_execution_config</span><span class=p>[</span><span class=s2>&quot;use_docker&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>image</span>
<a id=__codelineno-0-2636 name=__codelineno-0-2636></a>        <span class=n>logs_all</span> <span class=o>+=</span> <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span> <span class=o>+</span> <span class=n>logs</span>
<a id=__codelineno-0-2637 name=__codelineno-0-2637></a>        <span class=k>if</span> <span class=n>exitcode</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-2638 name=__codelineno-0-2638></a>            <span class=k>return</span> <span class=n>exitcode</span><span class=p>,</span> <span class=n>logs_all</span>
<a id=__codelineno-0-2639 name=__codelineno-0-2639></a>    <span class=k>return</span> <span class=n>exitcode</span><span class=p>,</span> <span class=n>logs_all</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.execute_function class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">execute_function</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.execute_function class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>execute_function</span><span class=p>(</span><span class=n>func_call</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>verbose</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Execute a function call and return the result.</p> <p>Override this function to modify the way to execute function and tool calls.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>func_call</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a dictionary extracted from openai message at "function_call" or "tool_calls" with keys "name" and "arguments".</p> </div> <p> </p> </td> </tr> <tr class=doc-section-item> <td> <code>call_id</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a string to identify the tool call.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>A tuple of (is_exec_success, result_dict).</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code>is_exec_success</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>whether the execution is successful.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><span title=boolean>boolean</span></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>result_dict</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>a dictionary with keys "name", "role", and "content". Value of "role" is "function".</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#tuple>tuple</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> </p> </td> </tr> </tbody> </table> <p>"function_call" deprecated as of <a href=https://github.com/openai/openai-python/releases/tag/v1.1.0>OpenAI API v1.1.0</a> See https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2671>2671</a></span>
<span class=normal><a href=#__codelineno-0-2672>2672</a></span>
<span class=normal><a href=#__codelineno-0-2673>2673</a></span>
<span class=normal><a href=#__codelineno-0-2674>2674</a></span>
<span class=normal><a href=#__codelineno-0-2675>2675</a></span>
<span class=normal><a href=#__codelineno-0-2676>2676</a></span>
<span class=normal><a href=#__codelineno-0-2677>2677</a></span>
<span class=normal><a href=#__codelineno-0-2678>2678</a></span>
<span class=normal><a href=#__codelineno-0-2679>2679</a></span>
<span class=normal><a href=#__codelineno-0-2680>2680</a></span>
<span class=normal><a href=#__codelineno-0-2681>2681</a></span>
<span class=normal><a href=#__codelineno-0-2682>2682</a></span>
<span class=normal><a href=#__codelineno-0-2683>2683</a></span>
<span class=normal><a href=#__codelineno-0-2684>2684</a></span>
<span class=normal><a href=#__codelineno-0-2685>2685</a></span>
<span class=normal><a href=#__codelineno-0-2686>2686</a></span>
<span class=normal><a href=#__codelineno-0-2687>2687</a></span>
<span class=normal><a href=#__codelineno-0-2688>2688</a></span>
<span class=normal><a href=#__codelineno-0-2689>2689</a></span>
<span class=normal><a href=#__codelineno-0-2690>2690</a></span>
<span class=normal><a href=#__codelineno-0-2691>2691</a></span>
<span class=normal><a href=#__codelineno-0-2692>2692</a></span>
<span class=normal><a href=#__codelineno-0-2693>2693</a></span>
<span class=normal><a href=#__codelineno-0-2694>2694</a></span>
<span class=normal><a href=#__codelineno-0-2695>2695</a></span>
<span class=normal><a href=#__codelineno-0-2696>2696</a></span>
<span class=normal><a href=#__codelineno-0-2697>2697</a></span>
<span class=normal><a href=#__codelineno-0-2698>2698</a></span>
<span class=normal><a href=#__codelineno-0-2699>2699</a></span>
<span class=normal><a href=#__codelineno-0-2700>2700</a></span>
<span class=normal><a href=#__codelineno-0-2701>2701</a></span>
<span class=normal><a href=#__codelineno-0-2702>2702</a></span>
<span class=normal><a href=#__codelineno-0-2703>2703</a></span>
<span class=normal><a href=#__codelineno-0-2704>2704</a></span>
<span class=normal><a href=#__codelineno-0-2705>2705</a></span>
<span class=normal><a href=#__codelineno-0-2706>2706</a></span>
<span class=normal><a href=#__codelineno-0-2707>2707</a></span>
<span class=normal><a href=#__codelineno-0-2708>2708</a></span>
<span class=normal><a href=#__codelineno-0-2709>2709</a></span>
<span class=normal><a href=#__codelineno-0-2710>2710</a></span>
<span class=normal><a href=#__codelineno-0-2711>2711</a></span>
<span class=normal><a href=#__codelineno-0-2712>2712</a></span>
<span class=normal><a href=#__codelineno-0-2713>2713</a></span>
<span class=normal><a href=#__codelineno-0-2714>2714</a></span>
<span class=normal><a href=#__codelineno-0-2715>2715</a></span>
<span class=normal><a href=#__codelineno-0-2716>2716</a></span>
<span class=normal><a href=#__codelineno-0-2717>2717</a></span>
<span class=normal><a href=#__codelineno-0-2718>2718</a></span>
<span class=normal><a href=#__codelineno-0-2719>2719</a></span>
<span class=normal><a href=#__codelineno-0-2720>2720</a></span>
<span class=normal><a href=#__codelineno-0-2721>2721</a></span>
<span class=normal><a href=#__codelineno-0-2722>2722</a></span>
<span class=normal><a href=#__codelineno-0-2723>2723</a></span>
<span class=normal><a href=#__codelineno-0-2724>2724</a></span>
<span class=normal><a href=#__codelineno-0-2725>2725</a></span>
<span class=normal><a href=#__codelineno-0-2726>2726</a></span>
<span class=normal><a href=#__codelineno-0-2727>2727</a></span>
<span class=normal><a href=#__codelineno-0-2728>2728</a></span>
<span class=normal><a href=#__codelineno-0-2729>2729</a></span>
<span class=normal><a href=#__codelineno-0-2730>2730</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2671 name=__codelineno-0-2671></a><span class=k>def</span><span class=w> </span><span class=nf>execute_function</span><span class=p>(</span>
<a id=__codelineno-0-2672 name=__codelineno-0-2672></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>func_call</span><span class=p>,</span> <span class=n>call_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>verbose</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<a id=__codelineno-0-2673 name=__codelineno-0-2673></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-2674 name=__codelineno-0-2674></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Execute a function call and return the result.</span>
<a id=__codelineno-0-2675 name=__codelineno-0-2675></a>
<a id=__codelineno-0-2676 name=__codelineno-0-2676></a><span class=sd>    Override this function to modify the way to execute function and tool calls.</span>
<a id=__codelineno-0-2677 name=__codelineno-0-2677></a>
<a id=__codelineno-0-2678 name=__codelineno-0-2678></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2679 name=__codelineno-0-2679></a><span class=sd>        func_call: a dictionary extracted from openai message at &quot;function_call&quot; or &quot;tool_calls&quot; with keys &quot;name&quot; and &quot;arguments&quot;.</span>
<a id=__codelineno-0-2680 name=__codelineno-0-2680></a><span class=sd>        call_id: a string to identify the tool call.</span>
<a id=__codelineno-0-2681 name=__codelineno-0-2681></a>
<a id=__codelineno-0-2682 name=__codelineno-0-2682></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2683 name=__codelineno-0-2683></a><span class=sd>        A tuple of (is_exec_success, result_dict).</span>
<a id=__codelineno-0-2684 name=__codelineno-0-2684></a><span class=sd>        is_exec_success (boolean): whether the execution is successful.</span>
<a id=__codelineno-0-2685 name=__codelineno-0-2685></a><span class=sd>        result_dict: a dictionary with keys &quot;name&quot;, &quot;role&quot;, and &quot;content&quot;. Value of &quot;role&quot; is &quot;function&quot;.</span>
<a id=__codelineno-0-2686 name=__codelineno-0-2686></a>
<a id=__codelineno-0-2687 name=__codelineno-0-2687></a><span class=sd>    &quot;function_call&quot; deprecated as of [OpenAI API v1.1.0](https://github.com/openai/openai-python/releases/tag/v1.1.0)</span>
<a id=__codelineno-0-2688 name=__codelineno-0-2688></a><span class=sd>    See https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call</span>
<a id=__codelineno-0-2689 name=__codelineno-0-2689></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2690 name=__codelineno-0-2690></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-2691 name=__codelineno-0-2691></a>
<a id=__codelineno-0-2692 name=__codelineno-0-2692></a>    <span class=n>func_name</span> <span class=o>=</span> <span class=n>func_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
<a id=__codelineno-0-2693 name=__codelineno-0-2693></a>    <span class=n>func</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>func_name</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-2694 name=__codelineno-0-2694></a>
<a id=__codelineno-0-2695 name=__codelineno-0-2695></a>    <span class=n>is_exec_success</span> <span class=o>=</span> <span class=kc>False</span>
<a id=__codelineno-0-2696 name=__codelineno-0-2696></a>    <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2697 name=__codelineno-0-2697></a>        <span class=c1># Extract arguments from a json-like string and put it into a dict.</span>
<a id=__codelineno-0-2698 name=__codelineno-0-2698></a>        <span class=n>input_string</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_format_json_str</span><span class=p>(</span><span class=n>func_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;arguments&quot;</span><span class=p>,</span> <span class=s2>&quot;</span><span class=si>{}</span><span class=s2>&quot;</span><span class=p>))</span>
<a id=__codelineno-0-2699 name=__codelineno-0-2699></a>        <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-2700 name=__codelineno-0-2700></a>            <span class=n>arguments</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>input_string</span><span class=p>)</span>
<a id=__codelineno-0-2701 name=__codelineno-0-2701></a>        <span class=k>except</span> <span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-0-2702 name=__codelineno-0-2702></a>            <span class=n>arguments</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-0-2703 name=__codelineno-0-2703></a>            <span class=n>content</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=se>\n</span><span class=s2> The argument must be in JSON format.&quot;</span>
<a id=__codelineno-0-2704 name=__codelineno-0-2704></a>
<a id=__codelineno-0-2705 name=__codelineno-0-2705></a>        <span class=c1># Try to execute the function</span>
<a id=__codelineno-0-2706 name=__codelineno-0-2706></a>        <span class=k>if</span> <span class=n>arguments</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2707 name=__codelineno-0-2707></a>            <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
<a id=__codelineno-0-2708 name=__codelineno-0-2708></a>                <span class=n>ExecuteFunctionMessage</span><span class=p>(</span><span class=n>func_name</span><span class=o>=</span><span class=n>func_name</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>call_id</span><span class=p>,</span> <span class=n>arguments</span><span class=o>=</span><span class=n>arguments</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>)</span>
<a id=__codelineno-0-2709 name=__codelineno-0-2709></a>            <span class=p>)</span>
<a id=__codelineno-0-2710 name=__codelineno-0-2710></a>            <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-2711 name=__codelineno-0-2711></a>                <span class=n>content</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>**</span><span class=n>arguments</span><span class=p>)</span>
<a id=__codelineno-0-2712 name=__codelineno-0-2712></a>                <span class=n>is_exec_success</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-2713 name=__codelineno-0-2713></a>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-0-2714 name=__codelineno-0-2714></a>                <span class=n>content</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-2715 name=__codelineno-0-2715></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2716 name=__codelineno-0-2716></a>        <span class=n>arguments</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-0-2717 name=__codelineno-0-2717></a>        <span class=n>content</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Error: Function </span><span class=si>{</span><span class=n>func_name</span><span class=si>}</span><span class=s2> not found.&quot;</span>
<a id=__codelineno-0-2718 name=__codelineno-0-2718></a>
<a id=__codelineno-0-2719 name=__codelineno-0-2719></a>    <span class=k>if</span> <span class=n>verbose</span><span class=p>:</span>
<a id=__codelineno-0-2720 name=__codelineno-0-2720></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
<a id=__codelineno-0-2721 name=__codelineno-0-2721></a>            <span class=n>ExecutedFunctionMessage</span><span class=p>(</span>
<a id=__codelineno-0-2722 name=__codelineno-0-2722></a>                <span class=n>func_name</span><span class=o>=</span><span class=n>func_name</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>call_id</span><span class=p>,</span> <span class=n>arguments</span><span class=o>=</span><span class=n>arguments</span><span class=p>,</span> <span class=n>content</span><span class=o>=</span><span class=n>content</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span>
<a id=__codelineno-0-2723 name=__codelineno-0-2723></a>            <span class=p>)</span>
<a id=__codelineno-0-2724 name=__codelineno-0-2724></a>        <span class=p>)</span>
<a id=__codelineno-0-2725 name=__codelineno-0-2725></a>
<a id=__codelineno-0-2726 name=__codelineno-0-2726></a>    <span class=k>return</span> <span class=n>is_exec_success</span><span class=p>,</span> <span class=p>{</span>
<a id=__codelineno-0-2727 name=__codelineno-0-2727></a>        <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>func_name</span><span class=p>,</span>
<a id=__codelineno-0-2728 name=__codelineno-0-2728></a>        <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;function&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2729 name=__codelineno-0-2729></a>        <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=n>content</span><span class=p>,</span>
<a id=__codelineno-0-2730 name=__codelineno-0-2730></a>    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_execute_function class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_execute_function</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_execute_function class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_execute_function</span><span class=p>(</span><span class=n>func_call</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>verbose</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Execute an async function call and return the result.</p> <p>Override this function to modify the way async functions and tools are executed.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>func_call</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a dictionary extracted from openai message at key "function_call" or "tool_calls" with keys "name" and "arguments".</p> </div> <p> </p> </td> </tr> <tr class=doc-section-item> <td> <code>call_id</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a string to identify the tool call.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>A tuple of (is_exec_success, result_dict).</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code>is_exec_success</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>whether the execution is successful.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><span title=boolean>boolean</span></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>result_dict</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>a dictionary with keys "name", "role", and "content". Value of "role" is "function".</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#tuple>tuple</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> </p> </td> </tr> </tbody> </table> <p>"function_call" deprecated as of <a href=https://github.com/openai/openai-python/releases/tag/v1.1.0>OpenAI API v1.1.0</a> See https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2732>2732</a></span>
<span class=normal><a href=#__codelineno-0-2733>2733</a></span>
<span class=normal><a href=#__codelineno-0-2734>2734</a></span>
<span class=normal><a href=#__codelineno-0-2735>2735</a></span>
<span class=normal><a href=#__codelineno-0-2736>2736</a></span>
<span class=normal><a href=#__codelineno-0-2737>2737</a></span>
<span class=normal><a href=#__codelineno-0-2738>2738</a></span>
<span class=normal><a href=#__codelineno-0-2739>2739</a></span>
<span class=normal><a href=#__codelineno-0-2740>2740</a></span>
<span class=normal><a href=#__codelineno-0-2741>2741</a></span>
<span class=normal><a href=#__codelineno-0-2742>2742</a></span>
<span class=normal><a href=#__codelineno-0-2743>2743</a></span>
<span class=normal><a href=#__codelineno-0-2744>2744</a></span>
<span class=normal><a href=#__codelineno-0-2745>2745</a></span>
<span class=normal><a href=#__codelineno-0-2746>2746</a></span>
<span class=normal><a href=#__codelineno-0-2747>2747</a></span>
<span class=normal><a href=#__codelineno-0-2748>2748</a></span>
<span class=normal><a href=#__codelineno-0-2749>2749</a></span>
<span class=normal><a href=#__codelineno-0-2750>2750</a></span>
<span class=normal><a href=#__codelineno-0-2751>2751</a></span>
<span class=normal><a href=#__codelineno-0-2752>2752</a></span>
<span class=normal><a href=#__codelineno-0-2753>2753</a></span>
<span class=normal><a href=#__codelineno-0-2754>2754</a></span>
<span class=normal><a href=#__codelineno-0-2755>2755</a></span>
<span class=normal><a href=#__codelineno-0-2756>2756</a></span>
<span class=normal><a href=#__codelineno-0-2757>2757</a></span>
<span class=normal><a href=#__codelineno-0-2758>2758</a></span>
<span class=normal><a href=#__codelineno-0-2759>2759</a></span>
<span class=normal><a href=#__codelineno-0-2760>2760</a></span>
<span class=normal><a href=#__codelineno-0-2761>2761</a></span>
<span class=normal><a href=#__codelineno-0-2762>2762</a></span>
<span class=normal><a href=#__codelineno-0-2763>2763</a></span>
<span class=normal><a href=#__codelineno-0-2764>2764</a></span>
<span class=normal><a href=#__codelineno-0-2765>2765</a></span>
<span class=normal><a href=#__codelineno-0-2766>2766</a></span>
<span class=normal><a href=#__codelineno-0-2767>2767</a></span>
<span class=normal><a href=#__codelineno-0-2768>2768</a></span>
<span class=normal><a href=#__codelineno-0-2769>2769</a></span>
<span class=normal><a href=#__codelineno-0-2770>2770</a></span>
<span class=normal><a href=#__codelineno-0-2771>2771</a></span>
<span class=normal><a href=#__codelineno-0-2772>2772</a></span>
<span class=normal><a href=#__codelineno-0-2773>2773</a></span>
<span class=normal><a href=#__codelineno-0-2774>2774</a></span>
<span class=normal><a href=#__codelineno-0-2775>2775</a></span>
<span class=normal><a href=#__codelineno-0-2776>2776</a></span>
<span class=normal><a href=#__codelineno-0-2777>2777</a></span>
<span class=normal><a href=#__codelineno-0-2778>2778</a></span>
<span class=normal><a href=#__codelineno-0-2779>2779</a></span>
<span class=normal><a href=#__codelineno-0-2780>2780</a></span>
<span class=normal><a href=#__codelineno-0-2781>2781</a></span>
<span class=normal><a href=#__codelineno-0-2782>2782</a></span>
<span class=normal><a href=#__codelineno-0-2783>2783</a></span>
<span class=normal><a href=#__codelineno-0-2784>2784</a></span>
<span class=normal><a href=#__codelineno-0-2785>2785</a></span>
<span class=normal><a href=#__codelineno-0-2786>2786</a></span>
<span class=normal><a href=#__codelineno-0-2787>2787</a></span>
<span class=normal><a href=#__codelineno-0-2788>2788</a></span>
<span class=normal><a href=#__codelineno-0-2789>2789</a></span>
<span class=normal><a href=#__codelineno-0-2790>2790</a></span>
<span class=normal><a href=#__codelineno-0-2791>2791</a></span>
<span class=normal><a href=#__codelineno-0-2792>2792</a></span>
<span class=normal><a href=#__codelineno-0-2793>2793</a></span>
<span class=normal><a href=#__codelineno-0-2794>2794</a></span>
<span class=normal><a href=#__codelineno-0-2795>2795</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2732 name=__codelineno-0-2732></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_execute_function</span><span class=p>(</span>
<a id=__codelineno-0-2733 name=__codelineno-0-2733></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>func_call</span><span class=p>,</span> <span class=n>call_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>verbose</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<a id=__codelineno-0-2734 name=__codelineno-0-2734></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-2735 name=__codelineno-0-2735></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Execute an async function call and return the result.</span>
<a id=__codelineno-0-2736 name=__codelineno-0-2736></a>
<a id=__codelineno-0-2737 name=__codelineno-0-2737></a><span class=sd>    Override this function to modify the way async functions and tools are executed.</span>
<a id=__codelineno-0-2738 name=__codelineno-0-2738></a>
<a id=__codelineno-0-2739 name=__codelineno-0-2739></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2740 name=__codelineno-0-2740></a><span class=sd>        func_call: a dictionary extracted from openai message at key &quot;function_call&quot; or &quot;tool_calls&quot; with keys &quot;name&quot; and &quot;arguments&quot;.</span>
<a id=__codelineno-0-2741 name=__codelineno-0-2741></a><span class=sd>        call_id: a string to identify the tool call.</span>
<a id=__codelineno-0-2742 name=__codelineno-0-2742></a>
<a id=__codelineno-0-2743 name=__codelineno-0-2743></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2744 name=__codelineno-0-2744></a><span class=sd>        A tuple of (is_exec_success, result_dict).</span>
<a id=__codelineno-0-2745 name=__codelineno-0-2745></a><span class=sd>        is_exec_success (boolean): whether the execution is successful.</span>
<a id=__codelineno-0-2746 name=__codelineno-0-2746></a><span class=sd>        result_dict: a dictionary with keys &quot;name&quot;, &quot;role&quot;, and &quot;content&quot;. Value of &quot;role&quot; is &quot;function&quot;.</span>
<a id=__codelineno-0-2747 name=__codelineno-0-2747></a>
<a id=__codelineno-0-2748 name=__codelineno-0-2748></a><span class=sd>    &quot;function_call&quot; deprecated as of [OpenAI API v1.1.0](https://github.com/openai/openai-python/releases/tag/v1.1.0)</span>
<a id=__codelineno-0-2749 name=__codelineno-0-2749></a><span class=sd>    See https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call</span>
<a id=__codelineno-0-2750 name=__codelineno-0-2750></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2751 name=__codelineno-0-2751></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-2752 name=__codelineno-0-2752></a>
<a id=__codelineno-0-2753 name=__codelineno-0-2753></a>    <span class=n>func_name</span> <span class=o>=</span> <span class=n>func_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
<a id=__codelineno-0-2754 name=__codelineno-0-2754></a>    <span class=n>func</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>func_name</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-2755 name=__codelineno-0-2755></a>
<a id=__codelineno-0-2756 name=__codelineno-0-2756></a>    <span class=n>is_exec_success</span> <span class=o>=</span> <span class=kc>False</span>
<a id=__codelineno-0-2757 name=__codelineno-0-2757></a>    <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2758 name=__codelineno-0-2758></a>        <span class=c1># Extract arguments from a json-like string and put it into a dict.</span>
<a id=__codelineno-0-2759 name=__codelineno-0-2759></a>        <span class=n>input_string</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_format_json_str</span><span class=p>(</span><span class=n>func_call</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;arguments&quot;</span><span class=p>,</span> <span class=s2>&quot;</span><span class=si>{}</span><span class=s2>&quot;</span><span class=p>))</span>
<a id=__codelineno-0-2760 name=__codelineno-0-2760></a>        <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-2761 name=__codelineno-0-2761></a>            <span class=n>arguments</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>input_string</span><span class=p>)</span>
<a id=__codelineno-0-2762 name=__codelineno-0-2762></a>        <span class=k>except</span> <span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-0-2763 name=__codelineno-0-2763></a>            <span class=n>arguments</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-0-2764 name=__codelineno-0-2764></a>            <span class=n>content</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=se>\n</span><span class=s2> The argument must be in JSON format.&quot;</span>
<a id=__codelineno-0-2765 name=__codelineno-0-2765></a>
<a id=__codelineno-0-2766 name=__codelineno-0-2766></a>        <span class=c1># Try to execute the function</span>
<a id=__codelineno-0-2767 name=__codelineno-0-2767></a>        <span class=k>if</span> <span class=n>arguments</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2768 name=__codelineno-0-2768></a>            <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
<a id=__codelineno-0-2769 name=__codelineno-0-2769></a>                <span class=n>ExecuteFunctionMessage</span><span class=p>(</span><span class=n>func_name</span><span class=o>=</span><span class=n>func_name</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>call_id</span><span class=p>,</span> <span class=n>arguments</span><span class=o>=</span><span class=n>arguments</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>)</span>
<a id=__codelineno-0-2770 name=__codelineno-0-2770></a>            <span class=p>)</span>
<a id=__codelineno-0-2771 name=__codelineno-0-2771></a>            <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-2772 name=__codelineno-0-2772></a>                <span class=k>if</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<a id=__codelineno-0-2773 name=__codelineno-0-2773></a>                    <span class=n>content</span> <span class=o>=</span> <span class=k>await</span> <span class=n>func</span><span class=p>(</span><span class=o>**</span><span class=n>arguments</span><span class=p>)</span>
<a id=__codelineno-0-2774 name=__codelineno-0-2774></a>                <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2775 name=__codelineno-0-2775></a>                    <span class=c1># Fallback to sync function if the function is not async</span>
<a id=__codelineno-0-2776 name=__codelineno-0-2776></a>                    <span class=n>content</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>**</span><span class=n>arguments</span><span class=p>)</span>
<a id=__codelineno-0-2777 name=__codelineno-0-2777></a>                <span class=n>is_exec_success</span> <span class=o>=</span> <span class=kc>True</span>
<a id=__codelineno-0-2778 name=__codelineno-0-2778></a>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-0-2779 name=__codelineno-0-2779></a>                <span class=n>content</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-2780 name=__codelineno-0-2780></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2781 name=__codelineno-0-2781></a>        <span class=n>arguments</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-0-2782 name=__codelineno-0-2782></a>        <span class=n>content</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Error: Function </span><span class=si>{</span><span class=n>func_name</span><span class=si>}</span><span class=s2> not found.&quot;</span>
<a id=__codelineno-0-2783 name=__codelineno-0-2783></a>
<a id=__codelineno-0-2784 name=__codelineno-0-2784></a>    <span class=k>if</span> <span class=n>verbose</span><span class=p>:</span>
<a id=__codelineno-0-2785 name=__codelineno-0-2785></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
<a id=__codelineno-0-2786 name=__codelineno-0-2786></a>            <span class=n>ExecutedFunctionMessage</span><span class=p>(</span>
<a id=__codelineno-0-2787 name=__codelineno-0-2787></a>                <span class=n>func_name</span><span class=o>=</span><span class=n>func_name</span><span class=p>,</span> <span class=n>call_id</span><span class=o>=</span><span class=n>call_id</span><span class=p>,</span> <span class=n>arguments</span><span class=o>=</span><span class=n>arguments</span><span class=p>,</span> <span class=n>content</span><span class=o>=</span><span class=n>content</span><span class=p>,</span> <span class=n>recipient</span><span class=o>=</span><span class=bp>self</span>
<a id=__codelineno-0-2788 name=__codelineno-0-2788></a>            <span class=p>)</span>
<a id=__codelineno-0-2789 name=__codelineno-0-2789></a>        <span class=p>)</span>
<a id=__codelineno-0-2790 name=__codelineno-0-2790></a>
<a id=__codelineno-0-2791 name=__codelineno-0-2791></a>    <span class=k>return</span> <span class=n>is_exec_success</span><span class=p>,</span> <span class=p>{</span>
<a id=__codelineno-0-2792 name=__codelineno-0-2792></a>        <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>func_name</span><span class=p>,</span>
<a id=__codelineno-0-2793 name=__codelineno-0-2793></a>        <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;function&quot;</span><span class=p>,</span>
<a id=__codelineno-0-2794 name=__codelineno-0-2794></a>        <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=n>content</span><span class=p>,</span>
<a id=__codelineno-0-2795 name=__codelineno-0-2795></a>    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_init_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">generate_init_message</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.generate_init_message class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>generate_init_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate the initial message for the agent. If message is None, input() will be called to get the initial message.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the message to be processed.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> or None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>any additional information. It has the following reserved fields: "carryover": a string or a list of string to specify the carryover information to be passed to this chat. It can be a string or a list of string. If provided, we will combine this carryover with the "message" content when generating the initial chat message.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>str or dict: the processed message.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2797>2797</a></span>
<span class=normal><a href=#__codelineno-0-2798>2798</a></span>
<span class=normal><a href=#__codelineno-0-2799>2799</a></span>
<span class=normal><a href=#__codelineno-0-2800>2800</a></span>
<span class=normal><a href=#__codelineno-0-2801>2801</a></span>
<span class=normal><a href=#__codelineno-0-2802>2802</a></span>
<span class=normal><a href=#__codelineno-0-2803>2803</a></span>
<span class=normal><a href=#__codelineno-0-2804>2804</a></span>
<span class=normal><a href=#__codelineno-0-2805>2805</a></span>
<span class=normal><a href=#__codelineno-0-2806>2806</a></span>
<span class=normal><a href=#__codelineno-0-2807>2807</a></span>
<span class=normal><a href=#__codelineno-0-2808>2808</a></span>
<span class=normal><a href=#__codelineno-0-2809>2809</a></span>
<span class=normal><a href=#__codelineno-0-2810>2810</a></span>
<span class=normal><a href=#__codelineno-0-2811>2811</a></span>
<span class=normal><a href=#__codelineno-0-2812>2812</a></span>
<span class=normal><a href=#__codelineno-0-2813>2813</a></span>
<span class=normal><a href=#__codelineno-0-2814>2814</a></span>
<span class=normal><a href=#__codelineno-0-2815>2815</a></span>
<span class=normal><a href=#__codelineno-0-2816>2816</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2797 name=__codelineno-0-2797></a><span class=k>def</span><span class=w> </span><span class=nf>generate_init_message</span><span class=p>(</span>
<a id=__codelineno-0-2798 name=__codelineno-0-2798></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>]],</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span>
<a id=__codelineno-0-2799 name=__codelineno-0-2799></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-2800 name=__codelineno-0-2800></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate the initial message for the agent.</span>
<a id=__codelineno-0-2801 name=__codelineno-0-2801></a><span class=sd>    If message is None, input() will be called to get the initial message.</span>
<a id=__codelineno-0-2802 name=__codelineno-0-2802></a>
<a id=__codelineno-0-2803 name=__codelineno-0-2803></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2804 name=__codelineno-0-2804></a><span class=sd>        message (str or None): the message to be processed.</span>
<a id=__codelineno-0-2805 name=__codelineno-0-2805></a><span class=sd>        **kwargs: any additional information. It has the following reserved fields:</span>
<a id=__codelineno-0-2806 name=__codelineno-0-2806></a><span class=sd>            &quot;carryover&quot;: a string or a list of string to specify the carryover information to be passed to this chat. It can be a string or a list of string.</span>
<a id=__codelineno-0-2807 name=__codelineno-0-2807></a><span class=sd>                If provided, we will combine this carryover with the &quot;message&quot; content when generating the initial chat</span>
<a id=__codelineno-0-2808 name=__codelineno-0-2808></a><span class=sd>                message.</span>
<a id=__codelineno-0-2809 name=__codelineno-0-2809></a>
<a id=__codelineno-0-2810 name=__codelineno-0-2810></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2811 name=__codelineno-0-2811></a><span class=sd>        str or dict: the processed message.</span>
<a id=__codelineno-0-2812 name=__codelineno-0-2812></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2813 name=__codelineno-0-2813></a>    <span class=k>if</span> <span class=n>message</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2814 name=__codelineno-0-2814></a>        <span class=n>message</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_human_input</span><span class=p>(</span><span class=s2>&quot;&gt;&quot;</span><span class=p>)</span>
<a id=__codelineno-0-2815 name=__codelineno-0-2815></a>
<a id=__codelineno-0-2816 name=__codelineno-0-2816></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_handle_carryover</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_init_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_generate_init_message</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_generate_init_message class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_generate_init_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate the initial message for the agent. If message is None, input() will be called to get the initial message.</p> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>str or dict: the processed message.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2863>2863</a></span>
<span class=normal><a href=#__codelineno-0-2864>2864</a></span>
<span class=normal><a href=#__codelineno-0-2865>2865</a></span>
<span class=normal><a href=#__codelineno-0-2866>2866</a></span>
<span class=normal><a href=#__codelineno-0-2867>2867</a></span>
<span class=normal><a href=#__codelineno-0-2868>2868</a></span>
<span class=normal><a href=#__codelineno-0-2869>2869</a></span>
<span class=normal><a href=#__codelineno-0-2870>2870</a></span>
<span class=normal><a href=#__codelineno-0-2871>2871</a></span>
<span class=normal><a href=#__codelineno-0-2872>2872</a></span>
<span class=normal><a href=#__codelineno-0-2873>2873</a></span>
<span class=normal><a href=#__codelineno-0-2874>2874</a></span>
<span class=normal><a href=#__codelineno-0-2875>2875</a></span>
<span class=normal><a href=#__codelineno-0-2876>2876</a></span>
<span class=normal><a href=#__codelineno-0-2877>2877</a></span>
<span class=normal><a href=#__codelineno-0-2878>2878</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2863 name=__codelineno-0-2863></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_generate_init_message</span><span class=p>(</span>
<a id=__codelineno-0-2864 name=__codelineno-0-2864></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=nb>str</span><span class=p>]],</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span>
<a id=__codelineno-0-2865 name=__codelineno-0-2865></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-2866 name=__codelineno-0-2866></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate the initial message for the agent.</span>
<a id=__codelineno-0-2867 name=__codelineno-0-2867></a><span class=sd>    If message is None, input() will be called to get the initial message.</span>
<a id=__codelineno-0-2868 name=__codelineno-0-2868></a>
<a id=__codelineno-0-2869 name=__codelineno-0-2869></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2870 name=__codelineno-0-2870></a><span class=sd>        Please refer to `generate_init_message` for the description of the arguments.</span>
<a id=__codelineno-0-2871 name=__codelineno-0-2871></a>
<a id=__codelineno-0-2872 name=__codelineno-0-2872></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-2873 name=__codelineno-0-2873></a><span class=sd>        str or dict: the processed message.</span>
<a id=__codelineno-0-2874 name=__codelineno-0-2874></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2875 name=__codelineno-0-2875></a>    <span class=k>if</span> <span class=n>message</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2876 name=__codelineno-0-2876></a>        <span class=n>message</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_get_human_input</span><span class=p>(</span><span class=s2>&quot;&gt;&quot;</span><span class=p>)</span>
<a id=__codelineno-0-2877 name=__codelineno-0-2877></a>
<a id=__codelineno-0-2878 name=__codelineno-0-2878></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_handle_carryover</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.remove_tool_for_llm class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">remove_tool_for_llm</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.remove_tool_for_llm class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>remove_tool_for_llm</span><span class=p>(</span><span class=n>tool</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Remove a tool (register for LLM tool)</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2888>2888</a></span>
<span class=normal><a href=#__codelineno-0-2889>2889</a></span>
<span class=normal><a href=#__codelineno-0-2890>2890</a></span>
<span class=normal><a href=#__codelineno-0-2891>2891</a></span>
<span class=normal><a href=#__codelineno-0-2892>2892</a></span>
<span class=normal><a href=#__codelineno-0-2893>2893</a></span>
<span class=normal><a href=#__codelineno-0-2894>2894</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2888 name=__codelineno-0-2888></a><span class=k>def</span><span class=w> </span><span class=nf>remove_tool_for_llm</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tool</span><span class=p>:</span> <span class=n>Tool</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-2889 name=__codelineno-0-2889></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Remove a tool (register for LLM tool)&quot;&quot;&quot;</span>
<a id=__codelineno-0-2890 name=__codelineno-0-2890></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-2891 name=__codelineno-0-2891></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_register_for_llm</span><span class=p>(</span><span class=n>tool</span><span class=o>=</span><span class=n>tool</span><span class=p>,</span> <span class=n>api_style</span><span class=o>=</span><span class=s2>&quot;tool&quot;</span><span class=p>,</span> <span class=n>is_remove</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-2892 name=__codelineno-0-2892></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_tools</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>tool</span><span class=p>)</span>
<a id=__codelineno-0-2893 name=__codelineno-0-2893></a>    <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
<a id=__codelineno-0-2894 name=__codelineno-0-2894></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Tool </span><span class=si>{</span><span class=n>tool</span><span class=si>}</span><span class=s2> not found in collection&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_function class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">register_function</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_function class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>register_function</span><span class=p>(</span><span class=n>function_map</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Register functions to the agent.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>function_map</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a dictionary mapping function names to functions. if function_map[name] is None, the function will be removed from the function_map.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a>[..., <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]]</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2896>2896</a></span>
<span class=normal><a href=#__codelineno-0-2897>2897</a></span>
<span class=normal><a href=#__codelineno-0-2898>2898</a></span>
<span class=normal><a href=#__codelineno-0-2899>2899</a></span>
<span class=normal><a href=#__codelineno-0-2900>2900</a></span>
<span class=normal><a href=#__codelineno-0-2901>2901</a></span>
<span class=normal><a href=#__codelineno-0-2902>2902</a></span>
<span class=normal><a href=#__codelineno-0-2903>2903</a></span>
<span class=normal><a href=#__codelineno-0-2904>2904</a></span>
<span class=normal><a href=#__codelineno-0-2905>2905</a></span>
<span class=normal><a href=#__codelineno-0-2906>2906</a></span>
<span class=normal><a href=#__codelineno-0-2907>2907</a></span>
<span class=normal><a href=#__codelineno-0-2908>2908</a></span>
<span class=normal><a href=#__codelineno-0-2909>2909</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2896 name=__codelineno-0-2896></a><span class=k>def</span><span class=w> </span><span class=nf>register_function</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>function_map</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Union</span><span class=p>[</span><span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]):</span>
<a id=__codelineno-0-2897 name=__codelineno-0-2897></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Register functions to the agent.</span>
<a id=__codelineno-0-2898 name=__codelineno-0-2898></a>
<a id=__codelineno-0-2899 name=__codelineno-0-2899></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2900 name=__codelineno-0-2900></a><span class=sd>        function_map: a dictionary mapping function names to functions. if function_map[name] is None, the function will be removed from the function_map.</span>
<a id=__codelineno-0-2901 name=__codelineno-0-2901></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2902 name=__codelineno-0-2902></a>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>func</span> <span class=ow>in</span> <span class=n>function_map</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<a id=__codelineno-0-2903 name=__codelineno-0-2903></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_assert_valid_name</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
<a id=__codelineno-0-2904 name=__codelineno-0-2904></a>        <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=p>:</span>
<a id=__codelineno-0-2905 name=__codelineno-0-2905></a>            <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;The function </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> to remove doesn&#39;t exist&quot;</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
<a id=__codelineno-0-2906 name=__codelineno-0-2906></a>        <span class=k>if</span> <span class=n>name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=p>:</span>
<a id=__codelineno-0-2907 name=__codelineno-0-2907></a>            <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Function &#39;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&#39; is being overridden.&quot;</span><span class=p>,</span> <span class=ne>UserWarning</span><span class=p>)</span>
<a id=__codelineno-0-2908 name=__codelineno-0-2908></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>function_map</span><span class=p>)</span>
<a id=__codelineno-0-2909 name=__codelineno-0-2909></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>if</span> <span class=n>v</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_function_signature class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_function_signature</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_function_signature class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_function_signature</span><span class=p>(</span><span class=n>func_sig</span><span class=p>,</span> <span class=n>is_remove</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Update a function_signature in the LLM configuration for function_call.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>func_sig</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>description/name of the function to update/remove to the model. See: https://platform.openai.com/docs/api-reference/chat/create#chat/create-functions</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> or <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>is_remove</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether removing the function from llm_config with name 'func_sig'</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <p>Deprecated as of <a href=https://github.com/openai/openai-python/releases/tag/v1.1.0>OpenAI API v1.1.0</a> See https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2911>2911</a></span>
<span class=normal><a href=#__codelineno-0-2912>2912</a></span>
<span class=normal><a href=#__codelineno-0-2913>2913</a></span>
<span class=normal><a href=#__codelineno-0-2914>2914</a></span>
<span class=normal><a href=#__codelineno-0-2915>2915</a></span>
<span class=normal><a href=#__codelineno-0-2916>2916</a></span>
<span class=normal><a href=#__codelineno-0-2917>2917</a></span>
<span class=normal><a href=#__codelineno-0-2918>2918</a></span>
<span class=normal><a href=#__codelineno-0-2919>2919</a></span>
<span class=normal><a href=#__codelineno-0-2920>2920</a></span>
<span class=normal><a href=#__codelineno-0-2921>2921</a></span>
<span class=normal><a href=#__codelineno-0-2922>2922</a></span>
<span class=normal><a href=#__codelineno-0-2923>2923</a></span>
<span class=normal><a href=#__codelineno-0-2924>2924</a></span>
<span class=normal><a href=#__codelineno-0-2925>2925</a></span>
<span class=normal><a href=#__codelineno-0-2926>2926</a></span>
<span class=normal><a href=#__codelineno-0-2927>2927</a></span>
<span class=normal><a href=#__codelineno-0-2928>2928</a></span>
<span class=normal><a href=#__codelineno-0-2929>2929</a></span>
<span class=normal><a href=#__codelineno-0-2930>2930</a></span>
<span class=normal><a href=#__codelineno-0-2931>2931</a></span>
<span class=normal><a href=#__codelineno-0-2932>2932</a></span>
<span class=normal><a href=#__codelineno-0-2933>2933</a></span>
<span class=normal><a href=#__codelineno-0-2934>2934</a></span>
<span class=normal><a href=#__codelineno-0-2935>2935</a></span>
<span class=normal><a href=#__codelineno-0-2936>2936</a></span>
<span class=normal><a href=#__codelineno-0-2937>2937</a></span>
<span class=normal><a href=#__codelineno-0-2938>2938</a></span>
<span class=normal><a href=#__codelineno-0-2939>2939</a></span>
<span class=normal><a href=#__codelineno-0-2940>2940</a></span>
<span class=normal><a href=#__codelineno-0-2941>2941</a></span>
<span class=normal><a href=#__codelineno-0-2942>2942</a></span>
<span class=normal><a href=#__codelineno-0-2943>2943</a></span>
<span class=normal><a href=#__codelineno-0-2944>2944</a></span>
<span class=normal><a href=#__codelineno-0-2945>2945</a></span>
<span class=normal><a href=#__codelineno-0-2946>2946</a></span>
<span class=normal><a href=#__codelineno-0-2947>2947</a></span>
<span class=normal><a href=#__codelineno-0-2948>2948</a></span>
<span class=normal><a href=#__codelineno-0-2949>2949</a></span>
<span class=normal><a href=#__codelineno-0-2950>2950</a></span>
<span class=normal><a href=#__codelineno-0-2951>2951</a></span>
<span class=normal><a href=#__codelineno-0-2952>2952</a></span>
<span class=normal><a href=#__codelineno-0-2953>2953</a></span>
<span class=normal><a href=#__codelineno-0-2954>2954</a></span>
<span class=normal><a href=#__codelineno-0-2955>2955</a></span>
<span class=normal><a href=#__codelineno-0-2956>2956</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2911 name=__codelineno-0-2911></a><span class=k>def</span><span class=w> </span><span class=nf>update_function_signature</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func_sig</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]],</span> <span class=n>is_remove</span><span class=p>:</span> <span class=kc>None</span><span class=p>):</span>
<a id=__codelineno-0-2912 name=__codelineno-0-2912></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Update a function_signature in the LLM configuration for function_call.</span>
<a id=__codelineno-0-2913 name=__codelineno-0-2913></a>
<a id=__codelineno-0-2914 name=__codelineno-0-2914></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2915 name=__codelineno-0-2915></a><span class=sd>        func_sig (str or dict): description/name of the function to update/remove to the model. See: https://platform.openai.com/docs/api-reference/chat/create#chat/create-functions</span>
<a id=__codelineno-0-2916 name=__codelineno-0-2916></a><span class=sd>        is_remove: whether removing the function from llm_config with name &#39;func_sig&#39;</span>
<a id=__codelineno-0-2917 name=__codelineno-0-2917></a>
<a id=__codelineno-0-2918 name=__codelineno-0-2918></a><span class=sd>    Deprecated as of [OpenAI API v1.1.0](https://github.com/openai/openai-python/releases/tag/v1.1.0)</span>
<a id=__codelineno-0-2919 name=__codelineno-0-2919></a><span class=sd>    See https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call</span>
<a id=__codelineno-0-2920 name=__codelineno-0-2920></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2921 name=__codelineno-0-2921></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<a id=__codelineno-0-2922 name=__codelineno-0-2922></a>        <span class=n>error_msg</span> <span class=o>=</span> <span class=s2>&quot;To update a function signature, agent must have an llm_config&quot;</span>
<a id=__codelineno-0-2923 name=__codelineno-0-2923></a>        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2924 name=__codelineno-0-2924></a>        <span class=k>raise</span> <span class=ne>AssertionError</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2925 name=__codelineno-0-2925></a>
<a id=__codelineno-0-2926 name=__codelineno-0-2926></a>    <span class=k>if</span> <span class=n>is_remove</span><span class=p>:</span>
<a id=__codelineno-0-2927 name=__codelineno-0-2927></a>        <span class=k>if</span> <span class=s2>&quot;functions&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-0-2928 name=__codelineno-0-2928></a>            <span class=n>error_msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;The agent config doesn&#39;t have function </span><span class=si>{</span><span class=n>func_sig</span><span class=si>}</span><span class=s2>.&quot;</span>
<a id=__codelineno-0-2929 name=__codelineno-0-2929></a>            <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2930 name=__codelineno-0-2930></a>            <span class=k>raise</span> <span class=ne>AssertionError</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2931 name=__codelineno-0-2931></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2932 name=__codelineno-0-2932></a>            <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;functions&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-0-2933 name=__codelineno-0-2933></a>                <span class=n>func</span> <span class=k>for</span> <span class=n>func</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;functions&quot;</span><span class=p>]</span> <span class=k>if</span> <span class=n>func</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=n>func_sig</span>
<a id=__codelineno-0-2934 name=__codelineno-0-2934></a>            <span class=p>]</span>
<a id=__codelineno-0-2935 name=__codelineno-0-2935></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2936 name=__codelineno-0-2936></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>func_sig</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<a id=__codelineno-0-2937 name=__codelineno-0-2937></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<a id=__codelineno-0-2938 name=__codelineno-0-2938></a>                <span class=sa>f</span><span class=s2>&quot;The function signature must be of the type dict. Received function signature type </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>func_sig</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-2939 name=__codelineno-0-2939></a>            <span class=p>)</span>
<a id=__codelineno-0-2940 name=__codelineno-0-2940></a>        <span class=k>if</span> <span class=s2>&quot;name&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>func_sig</span><span class=p>:</span>
<a id=__codelineno-0-2941 name=__codelineno-0-2941></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;The function signature must have a &#39;name&#39; key. Received: </span><span class=si>{</span><span class=n>func_sig</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-2942 name=__codelineno-0-2942></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_assert_valid_name</span><span class=p>(</span><span class=n>func_sig</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]),</span> <span class=n>func_sig</span>
<a id=__codelineno-0-2943 name=__codelineno-0-2943></a>        <span class=k>if</span> <span class=s2>&quot;functions&quot;</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-0-2944 name=__codelineno-0-2944></a>            <span class=k>if</span> <span class=nb>any</span><span class=p>(</span><span class=n>func</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>func_sig</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>func</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;functions&quot;</span><span class=p>]):</span>
<a id=__codelineno-0-2945 name=__codelineno-0-2945></a>                <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Function &#39;</span><span class=si>{</span><span class=n>func_sig</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#39; is being overridden.&quot;</span><span class=p>,</span> <span class=ne>UserWarning</span><span class=p>)</span>
<a id=__codelineno-0-2946 name=__codelineno-0-2946></a>
<a id=__codelineno-0-2947 name=__codelineno-0-2947></a>            <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;functions&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-0-2948 name=__codelineno-0-2948></a>                <span class=n>func</span> <span class=k>for</span> <span class=n>func</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;functions&quot;</span><span class=p>]</span> <span class=k>if</span> <span class=n>func</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>)</span> <span class=o>!=</span> <span class=n>func_sig</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2949 name=__codelineno-0-2949></a>            <span class=p>]</span> <span class=o>+</span> <span class=p>[</span><span class=n>func_sig</span><span class=p>]</span>
<a id=__codelineno-0-2950 name=__codelineno-0-2950></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2951 name=__codelineno-0-2951></a>            <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;functions&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=n>func_sig</span><span class=p>]</span>
<a id=__codelineno-0-2952 name=__codelineno-0-2952></a>
<a id=__codelineno-0-2953 name=__codelineno-0-2953></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;functions&quot;</span><span class=p>])</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-2954 name=__codelineno-0-2954></a>        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;functions&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2955 name=__codelineno-0-2955></a>
<a id=__codelineno-0-2956 name=__codelineno-0-2956></a>    <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=o>=</span> <span class=n>OpenAIWrapper</span><span class=p>(</span><span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_tool_signature class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_tool_signature</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_tool_signature class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_tool_signature</span><span class=p>(</span><span class=n>tool_sig</span><span class=p>,</span> <span class=n>is_remove</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Update a tool_signature in the LLM configuration for tool_call.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>tool_sig</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>description/name of the tool to update/remove to the model. See: https://platform.openai.com/docs/api-reference/chat/create#chat-create-tools</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> or <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>is_remove</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether removing the tool from llm_config with name 'tool_sig'</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2958>2958</a></span>
<span class=normal><a href=#__codelineno-0-2959>2959</a></span>
<span class=normal><a href=#__codelineno-0-2960>2960</a></span>
<span class=normal><a href=#__codelineno-0-2961>2961</a></span>
<span class=normal><a href=#__codelineno-0-2962>2962</a></span>
<span class=normal><a href=#__codelineno-0-2963>2963</a></span>
<span class=normal><a href=#__codelineno-0-2964>2964</a></span>
<span class=normal><a href=#__codelineno-0-2965>2965</a></span>
<span class=normal><a href=#__codelineno-0-2966>2966</a></span>
<span class=normal><a href=#__codelineno-0-2967>2967</a></span>
<span class=normal><a href=#__codelineno-0-2968>2968</a></span>
<span class=normal><a href=#__codelineno-0-2969>2969</a></span>
<span class=normal><a href=#__codelineno-0-2970>2970</a></span>
<span class=normal><a href=#__codelineno-0-2971>2971</a></span>
<span class=normal><a href=#__codelineno-0-2972>2972</a></span>
<span class=normal><a href=#__codelineno-0-2973>2973</a></span>
<span class=normal><a href=#__codelineno-0-2974>2974</a></span>
<span class=normal><a href=#__codelineno-0-2975>2975</a></span>
<span class=normal><a href=#__codelineno-0-2976>2976</a></span>
<span class=normal><a href=#__codelineno-0-2977>2977</a></span>
<span class=normal><a href=#__codelineno-0-2978>2978</a></span>
<span class=normal><a href=#__codelineno-0-2979>2979</a></span>
<span class=normal><a href=#__codelineno-0-2980>2980</a></span>
<span class=normal><a href=#__codelineno-0-2981>2981</a></span>
<span class=normal><a href=#__codelineno-0-2982>2982</a></span>
<span class=normal><a href=#__codelineno-0-2983>2983</a></span>
<span class=normal><a href=#__codelineno-0-2984>2984</a></span>
<span class=normal><a href=#__codelineno-0-2985>2985</a></span>
<span class=normal><a href=#__codelineno-0-2986>2986</a></span>
<span class=normal><a href=#__codelineno-0-2987>2987</a></span>
<span class=normal><a href=#__codelineno-0-2988>2988</a></span>
<span class=normal><a href=#__codelineno-0-2989>2989</a></span>
<span class=normal><a href=#__codelineno-0-2990>2990</a></span>
<span class=normal><a href=#__codelineno-0-2991>2991</a></span>
<span class=normal><a href=#__codelineno-0-2992>2992</a></span>
<span class=normal><a href=#__codelineno-0-2993>2993</a></span>
<span class=normal><a href=#__codelineno-0-2994>2994</a></span>
<span class=normal><a href=#__codelineno-0-2995>2995</a></span>
<span class=normal><a href=#__codelineno-0-2996>2996</a></span>
<span class=normal><a href=#__codelineno-0-2997>2997</a></span>
<span class=normal><a href=#__codelineno-0-2998>2998</a></span>
<span class=normal><a href=#__codelineno-0-2999>2999</a></span>
<span class=normal><a href=#__codelineno-0-3000>3000</a></span>
<span class=normal><a href=#__codelineno-0-3001>3001</a></span>
<span class=normal><a href=#__codelineno-0-3002>3002</a></span>
<span class=normal><a href=#__codelineno-0-3003>3003</a></span>
<span class=normal><a href=#__codelineno-0-3004>3004</a></span>
<span class=normal><a href=#__codelineno-0-3005>3005</a></span>
<span class=normal><a href=#__codelineno-0-3006>3006</a></span>
<span class=normal><a href=#__codelineno-0-3007>3007</a></span>
<span class=normal><a href=#__codelineno-0-3008>3008</a></span>
<span class=normal><a href=#__codelineno-0-3009>3009</a></span>
<span class=normal><a href=#__codelineno-0-3010>3010</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2958 name=__codelineno-0-2958></a><span class=k>def</span><span class=w> </span><span class=nf>update_tool_signature</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tool_sig</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]],</span> <span class=n>is_remove</span><span class=p>:</span> <span class=nb>bool</span><span class=p>):</span>
<a id=__codelineno-0-2959 name=__codelineno-0-2959></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Update a tool_signature in the LLM configuration for tool_call.</span>
<a id=__codelineno-0-2960 name=__codelineno-0-2960></a>
<a id=__codelineno-0-2961 name=__codelineno-0-2961></a><span class=sd>    Args:</span>
<a id=__codelineno-0-2962 name=__codelineno-0-2962></a><span class=sd>        tool_sig (str or dict): description/name of the tool to update/remove to the model. See: https://platform.openai.com/docs/api-reference/chat/create#chat-create-tools</span>
<a id=__codelineno-0-2963 name=__codelineno-0-2963></a><span class=sd>        is_remove: whether removing the tool from llm_config with name &#39;tool_sig&#39;</span>
<a id=__codelineno-0-2964 name=__codelineno-0-2964></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-2965 name=__codelineno-0-2965></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-0-2966 name=__codelineno-0-2966></a>        <span class=n>error_msg</span> <span class=o>=</span> <span class=s2>&quot;To update a tool signature, agent must have an llm_config&quot;</span>
<a id=__codelineno-0-2967 name=__codelineno-0-2967></a>        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2968 name=__codelineno-0-2968></a>        <span class=k>raise</span> <span class=ne>AssertionError</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2969 name=__codelineno-0-2969></a>
<a id=__codelineno-0-2970 name=__codelineno-0-2970></a>    <span class=k>if</span> <span class=n>is_remove</span><span class=p>:</span>
<a id=__codelineno-0-2971 name=__codelineno-0-2971></a>        <span class=k>if</span> <span class=s2>&quot;tools&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-0-2972 name=__codelineno-0-2972></a>            <span class=n>error_msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;The agent config doesn&#39;t have tool </span><span class=si>{</span><span class=n>tool_sig</span><span class=si>}</span><span class=s2>.&quot;</span>
<a id=__codelineno-0-2973 name=__codelineno-0-2973></a>            <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2974 name=__codelineno-0-2974></a>            <span class=k>raise</span> <span class=ne>AssertionError</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
<a id=__codelineno-0-2975 name=__codelineno-0-2975></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2976 name=__codelineno-0-2976></a>            <span class=n>current_tools</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;tools&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2977 name=__codelineno-0-2977></a>            <span class=n>filtered_tools</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-2978 name=__codelineno-0-2978></a>
<a id=__codelineno-0-2979 name=__codelineno-0-2979></a>            <span class=c1># Loop through and rebuild tools list without the tool to remove</span>
<a id=__codelineno-0-2980 name=__codelineno-0-2980></a>            <span class=k>for</span> <span class=n>tool</span> <span class=ow>in</span> <span class=n>current_tools</span><span class=p>:</span>
<a id=__codelineno-0-2981 name=__codelineno-0-2981></a>                <span class=n>tool_name</span> <span class=o>=</span> <span class=n>tool</span><span class=p>[</span><span class=s2>&quot;function&quot;</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>]</span>
<a id=__codelineno-0-2982 name=__codelineno-0-2982></a>
<a id=__codelineno-0-2983 name=__codelineno-0-2983></a>                <span class=c1># Match by tool name, or by tool signature</span>
<a id=__codelineno-0-2984 name=__codelineno-0-2984></a>                <span class=n>is_different</span> <span class=o>=</span> <span class=n>tool_name</span> <span class=o>!=</span> <span class=n>tool_sig</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>tool_sig</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span> <span class=k>else</span> <span class=n>tool</span> <span class=o>!=</span> <span class=n>tool_sig</span>
<a id=__codelineno-0-2985 name=__codelineno-0-2985></a>
<a id=__codelineno-0-2986 name=__codelineno-0-2986></a>                <span class=k>if</span> <span class=n>is_different</span><span class=p>:</span>
<a id=__codelineno-0-2987 name=__codelineno-0-2987></a>                    <span class=n>filtered_tools</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>tool</span><span class=p>)</span>
<a id=__codelineno-0-2988 name=__codelineno-0-2988></a>
<a id=__codelineno-0-2989 name=__codelineno-0-2989></a>            <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;tools&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>filtered_tools</span>
<a id=__codelineno-0-2990 name=__codelineno-0-2990></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-2991 name=__codelineno-0-2991></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>tool_sig</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
<a id=__codelineno-0-2992 name=__codelineno-0-2992></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
<a id=__codelineno-0-2993 name=__codelineno-0-2993></a>                <span class=sa>f</span><span class=s2>&quot;The tool signature must be of the type dict. Received tool signature type </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>tool_sig</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-2994 name=__codelineno-0-2994></a>            <span class=p>)</span>
<a id=__codelineno-0-2995 name=__codelineno-0-2995></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_assert_valid_name</span><span class=p>(</span><span class=n>tool_sig</span><span class=p>[</span><span class=s2>&quot;function&quot;</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>])</span>
<a id=__codelineno-0-2996 name=__codelineno-0-2996></a>        <span class=k>if</span> <span class=s2>&quot;tools&quot;</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>:</span>
<a id=__codelineno-0-2997 name=__codelineno-0-2997></a>            <span class=k>if</span> <span class=nb>any</span><span class=p>(</span><span class=n>tool</span><span class=p>[</span><span class=s2>&quot;function&quot;</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>tool_sig</span><span class=p>[</span><span class=s2>&quot;function&quot;</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>tool</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;tools&quot;</span><span class=p>]):</span>
<a id=__codelineno-0-2998 name=__codelineno-0-2998></a>                <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Function &#39;</span><span class=si>{</span><span class=n>tool_sig</span><span class=p>[</span><span class=s1>&#39;function&#39;</span><span class=p>][</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#39; is being overridden.&quot;</span><span class=p>,</span> <span class=ne>UserWarning</span><span class=p>)</span>
<a id=__codelineno-0-2999 name=__codelineno-0-2999></a>            <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;tools&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-0-3000 name=__codelineno-0-3000></a>                <span class=n>tool</span>
<a id=__codelineno-0-3001 name=__codelineno-0-3001></a>                <span class=k>for</span> <span class=n>tool</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;tools&quot;</span><span class=p>]</span>
<a id=__codelineno-0-3002 name=__codelineno-0-3002></a>                <span class=k>if</span> <span class=n>tool</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;function&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>)</span> <span class=o>!=</span> <span class=n>tool_sig</span><span class=p>[</span><span class=s2>&quot;function&quot;</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>]</span>
<a id=__codelineno-0-3003 name=__codelineno-0-3003></a>            <span class=p>]</span> <span class=o>+</span> <span class=p>[</span><span class=n>tool_sig</span><span class=p>]</span>
<a id=__codelineno-0-3004 name=__codelineno-0-3004></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-3005 name=__codelineno-0-3005></a>            <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;tools&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=n>tool_sig</span><span class=p>]</span>
<a id=__codelineno-0-3006 name=__codelineno-0-3006></a>
<a id=__codelineno-0-3007 name=__codelineno-0-3007></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;tools&quot;</span><span class=p>])</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-3008 name=__codelineno-0-3008></a>        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>[</span><span class=s2>&quot;tools&quot;</span><span class=p>]</span>
<a id=__codelineno-0-3009 name=__codelineno-0-3009></a>
<a id=__codelineno-0-3010 name=__codelineno-0-3010></a>    <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=o>=</span> <span class=n>OpenAIWrapper</span><span class=p>(</span><span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>llm_config</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.can_execute_function class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">can_execute_function</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.can_execute_function class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>can_execute_function</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Whether the agent can execute the function.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3012>3012</a></span>
<span class=normal><a href=#__codelineno-0-3013>3013</a></span>
<span class=normal><a href=#__codelineno-0-3014>3014</a></span>
<span class=normal><a href=#__codelineno-0-3015>3015</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3012 name=__codelineno-0-3012></a><span class=k>def</span><span class=w> </span><span class=nf>can_execute_function</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=nb>str</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<a id=__codelineno-0-3013 name=__codelineno-0-3013></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Whether the agent can execute the function.&quot;&quot;&quot;</span>
<a id=__codelineno-0-3014 name=__codelineno-0-3014></a>    <span class=n>names</span> <span class=o>=</span> <span class=n>name</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span> <span class=k>else</span> <span class=p>[</span><span class=n>name</span><span class=p>]</span>
<a id=__codelineno-0-3015 name=__codelineno-0-3015></a>    <span class=k>return</span> <span class=nb>all</span><span class=p>([</span><span class=n>n</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_function_map</span> <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>names</span><span class=p>])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_for_llm class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">register_for_llm</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_for_llm class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>register_for_llm</span><span class=p>(</span><span class=o>*</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>api_style</span><span class=o>=</span><span class=s1>&#39;tool&#39;</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Decorator factory for registering a function to be used by an agent.</p> <p>It's return value is used to decorate a function to be registered to the agent. The function uses type hints to specify the arguments and return type. The function name is used as the default name for the function, but a custom name can be provided. The function description is used to describe the function in the agent's configuration.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>name of the function. If None, the function name will be used (default: None).</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>optional(str</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>description</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>description of the function (default: None). It is mandatory for the initial decorator, but the following ones can omit it.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>optional(str</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>api_style</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>(literal): the API style for function call. For Azure OpenAI API, use version 2023-12-01-preview or later. <code>"function"</code> style will be deprecated. For earlier version use <code>"function"</code> if <code>"tool"</code> doesn't work. See <a href="https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling?tabs=python">Azure OpenAI documentation</a> for details.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Literal href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;function&#39;, &#39;tool&#39;]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;tool&#39;</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a>[[<a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<span title=autogen.agentchat.conversable_agent.F>F</span>, <a class="autorefs autorefs-internal" title=autogen.tools.Tool href=../../../../tools/Tool/#autogen.tools.Tool>Tool</a>]], <a class="autorefs autorefs-internal" title=autogen.tools.Tool href=../../../../tools/Tool/#autogen.tools.Tool>Tool</a>]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The decorator for registering a function to be used by an agent.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>@user_proxy.register_for_execution()
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>@agent2.register_for_llm()
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>@agent1.register_for_llm(description=&quot;This is a very useful function&quot;)
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>def my_function(a: Annotated[str, &quot;description of a parameter&quot;] = &quot;a&quot;, b: int, c=3.14) -&gt; str:
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>     return a + str(b * c)
</code></pre></div> <p>For Azure OpenAI versions prior to 2023-12-01-preview, set <code>api_style</code> to <code>"function"</code> if <code>"tool"</code> doesn't work: <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>@agent2.register_for_llm(api_style=&quot;function&quot;)
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>def my_function(a: Annotated[str, &quot;description of a parameter&quot;] = &quot;a&quot;, b: int, c=3.14) -&gt; str:
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>     return a + str(b * c)
</code></pre></div></p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3076>3076</a></span>
<span class=normal><a href=#__codelineno-0-3077>3077</a></span>
<span class=normal><a href=#__codelineno-0-3078>3078</a></span>
<span class=normal><a href=#__codelineno-0-3079>3079</a></span>
<span class=normal><a href=#__codelineno-0-3080>3080</a></span>
<span class=normal><a href=#__codelineno-0-3081>3081</a></span>
<span class=normal><a href=#__codelineno-0-3082>3082</a></span>
<span class=normal><a href=#__codelineno-0-3083>3083</a></span>
<span class=normal><a href=#__codelineno-0-3084>3084</a></span>
<span class=normal><a href=#__codelineno-0-3085>3085</a></span>
<span class=normal><a href=#__codelineno-0-3086>3086</a></span>
<span class=normal><a href=#__codelineno-0-3087>3087</a></span>
<span class=normal><a href=#__codelineno-0-3088>3088</a></span>
<span class=normal><a href=#__codelineno-0-3089>3089</a></span>
<span class=normal><a href=#__codelineno-0-3090>3090</a></span>
<span class=normal><a href=#__codelineno-0-3091>3091</a></span>
<span class=normal><a href=#__codelineno-0-3092>3092</a></span>
<span class=normal><a href=#__codelineno-0-3093>3093</a></span>
<span class=normal><a href=#__codelineno-0-3094>3094</a></span>
<span class=normal><a href=#__codelineno-0-3095>3095</a></span>
<span class=normal><a href=#__codelineno-0-3096>3096</a></span>
<span class=normal><a href=#__codelineno-0-3097>3097</a></span>
<span class=normal><a href=#__codelineno-0-3098>3098</a></span>
<span class=normal><a href=#__codelineno-0-3099>3099</a></span>
<span class=normal><a href=#__codelineno-0-3100>3100</a></span>
<span class=normal><a href=#__codelineno-0-3101>3101</a></span>
<span class=normal><a href=#__codelineno-0-3102>3102</a></span>
<span class=normal><a href=#__codelineno-0-3103>3103</a></span>
<span class=normal><a href=#__codelineno-0-3104>3104</a></span>
<span class=normal><a href=#__codelineno-0-3105>3105</a></span>
<span class=normal><a href=#__codelineno-0-3106>3106</a></span>
<span class=normal><a href=#__codelineno-0-3107>3107</a></span>
<span class=normal><a href=#__codelineno-0-3108>3108</a></span>
<span class=normal><a href=#__codelineno-0-3109>3109</a></span>
<span class=normal><a href=#__codelineno-0-3110>3110</a></span>
<span class=normal><a href=#__codelineno-0-3111>3111</a></span>
<span class=normal><a href=#__codelineno-0-3112>3112</a></span>
<span class=normal><a href=#__codelineno-0-3113>3113</a></span>
<span class=normal><a href=#__codelineno-0-3114>3114</a></span>
<span class=normal><a href=#__codelineno-0-3115>3115</a></span>
<span class=normal><a href=#__codelineno-0-3116>3116</a></span>
<span class=normal><a href=#__codelineno-0-3117>3117</a></span>
<span class=normal><a href=#__codelineno-0-3118>3118</a></span>
<span class=normal><a href=#__codelineno-0-3119>3119</a></span>
<span class=normal><a href=#__codelineno-0-3120>3120</a></span>
<span class=normal><a href=#__codelineno-0-3121>3121</a></span>
<span class=normal><a href=#__codelineno-0-3122>3122</a></span>
<span class=normal><a href=#__codelineno-0-3123>3123</a></span>
<span class=normal><a href=#__codelineno-0-3124>3124</a></span>
<span class=normal><a href=#__codelineno-0-3125>3125</a></span>
<span class=normal><a href=#__codelineno-0-3126>3126</a></span>
<span class=normal><a href=#__codelineno-0-3127>3127</a></span>
<span class=normal><a href=#__codelineno-0-3128>3128</a></span>
<span class=normal><a href=#__codelineno-0-3129>3129</a></span>
<span class=normal><a href=#__codelineno-0-3130>3130</a></span>
<span class=normal><a href=#__codelineno-0-3131>3131</a></span>
<span class=normal><a href=#__codelineno-0-3132>3132</a></span>
<span class=normal><a href=#__codelineno-0-3133>3133</a></span>
<span class=normal><a href=#__codelineno-0-3134>3134</a></span>
<span class=normal><a href=#__codelineno-0-3135>3135</a></span>
<span class=normal><a href=#__codelineno-0-3136>3136</a></span>
<span class=normal><a href=#__codelineno-0-3137>3137</a></span>
<span class=normal><a href=#__codelineno-0-3138>3138</a></span>
<span class=normal><a href=#__codelineno-0-3139>3139</a></span>
<span class=normal><a href=#__codelineno-0-3140>3140</a></span>
<span class=normal><a href=#__codelineno-0-3141>3141</a></span>
<span class=normal><a href=#__codelineno-0-3142>3142</a></span>
<span class=normal><a href=#__codelineno-0-3143>3143</a></span>
<span class=normal><a href=#__codelineno-0-3144>3144</a></span>
<span class=normal><a href=#__codelineno-0-3145>3145</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3076 name=__codelineno-0-3076></a><span class=k>def</span><span class=w> </span><span class=nf>register_for_llm</span><span class=p>(</span>
<a id=__codelineno-0-3077 name=__codelineno-0-3077></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-3078 name=__codelineno-0-3078></a>    <span class=o>*</span><span class=p>,</span>
<a id=__codelineno-0-3079 name=__codelineno-0-3079></a>    <span class=n>name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-3080 name=__codelineno-0-3080></a>    <span class=n>description</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-3081 name=__codelineno-0-3081></a>    <span class=n>api_style</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;function&quot;</span><span class=p>,</span> <span class=s2>&quot;tool&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;tool&quot;</span><span class=p>,</span>
<a id=__codelineno-0-3082 name=__codelineno-0-3082></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>Union</span><span class=p>[</span><span class=n>F</span><span class=p>,</span> <span class=n>Tool</span><span class=p>]],</span> <span class=n>Tool</span><span class=p>]:</span>
<a id=__codelineno-0-3083 name=__codelineno-0-3083></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator factory for registering a function to be used by an agent.</span>
<a id=__codelineno-0-3084 name=__codelineno-0-3084></a>
<a id=__codelineno-0-3085 name=__codelineno-0-3085></a><span class=sd>    It&#39;s return value is used to decorate a function to be registered to the agent. The function uses type hints to</span>
<a id=__codelineno-0-3086 name=__codelineno-0-3086></a><span class=sd>    specify the arguments and return type. The function name is used as the default name for the function,</span>
<a id=__codelineno-0-3087 name=__codelineno-0-3087></a><span class=sd>    but a custom name can be provided. The function description is used to describe the function in the</span>
<a id=__codelineno-0-3088 name=__codelineno-0-3088></a><span class=sd>    agent&#39;s configuration.</span>
<a id=__codelineno-0-3089 name=__codelineno-0-3089></a>
<a id=__codelineno-0-3090 name=__codelineno-0-3090></a><span class=sd>    Args:</span>
<a id=__codelineno-0-3091 name=__codelineno-0-3091></a><span class=sd>        name (optional(str)): name of the function. If None, the function name will be used (default: None).</span>
<a id=__codelineno-0-3092 name=__codelineno-0-3092></a><span class=sd>        description (optional(str)): description of the function (default: None). It is mandatory</span>
<a id=__codelineno-0-3093 name=__codelineno-0-3093></a><span class=sd>            for the initial decorator, but the following ones can omit it.</span>
<a id=__codelineno-0-3094 name=__codelineno-0-3094></a><span class=sd>        api_style: (literal): the API style for function call.</span>
<a id=__codelineno-0-3095 name=__codelineno-0-3095></a><span class=sd>            For Azure OpenAI API, use version 2023-12-01-preview or later.</span>
<a id=__codelineno-0-3096 name=__codelineno-0-3096></a><span class=sd>            `&quot;function&quot;` style will be deprecated. For earlier version use</span>
<a id=__codelineno-0-3097 name=__codelineno-0-3097></a><span class=sd>            `&quot;function&quot;` if `&quot;tool&quot;` doesn&#39;t work.</span>
<a id=__codelineno-0-3098 name=__codelineno-0-3098></a><span class=sd>            See [Azure OpenAI documentation](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling?tabs=python) for details.</span>
<a id=__codelineno-0-3099 name=__codelineno-0-3099></a>
<a id=__codelineno-0-3100 name=__codelineno-0-3100></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-3101 name=__codelineno-0-3101></a><span class=sd>        The decorator for registering a function to be used by an agent.</span>
<a id=__codelineno-0-3102 name=__codelineno-0-3102></a>
<a id=__codelineno-0-3103 name=__codelineno-0-3103></a><span class=sd>    Examples:</span>
<a id=__codelineno-0-3104 name=__codelineno-0-3104></a><span class=sd>        ```</span>
<a id=__codelineno-0-3105 name=__codelineno-0-3105></a><span class=sd>        @user_proxy.register_for_execution()</span>
<a id=__codelineno-0-3106 name=__codelineno-0-3106></a><span class=sd>        @agent2.register_for_llm()</span>
<a id=__codelineno-0-3107 name=__codelineno-0-3107></a><span class=sd>        @agent1.register_for_llm(description=&quot;This is a very useful function&quot;)</span>
<a id=__codelineno-0-3108 name=__codelineno-0-3108></a><span class=sd>        def my_function(a: Annotated[str, &quot;description of a parameter&quot;] = &quot;a&quot;, b: int, c=3.14) -&gt; str:</span>
<a id=__codelineno-0-3109 name=__codelineno-0-3109></a><span class=sd>             return a + str(b * c)</span>
<a id=__codelineno-0-3110 name=__codelineno-0-3110></a><span class=sd>        ```</span>
<a id=__codelineno-0-3111 name=__codelineno-0-3111></a>
<a id=__codelineno-0-3112 name=__codelineno-0-3112></a><span class=sd>        For Azure OpenAI versions prior to 2023-12-01-preview, set `api_style`</span>
<a id=__codelineno-0-3113 name=__codelineno-0-3113></a><span class=sd>        to `&quot;function&quot;` if `&quot;tool&quot;` doesn&#39;t work:</span>
<a id=__codelineno-0-3114 name=__codelineno-0-3114></a><span class=sd>        ```</span>
<a id=__codelineno-0-3115 name=__codelineno-0-3115></a><span class=sd>        @agent2.register_for_llm(api_style=&quot;function&quot;)</span>
<a id=__codelineno-0-3116 name=__codelineno-0-3116></a><span class=sd>        def my_function(a: Annotated[str, &quot;description of a parameter&quot;] = &quot;a&quot;, b: int, c=3.14) -&gt; str:</span>
<a id=__codelineno-0-3117 name=__codelineno-0-3117></a><span class=sd>             return a + str(b * c)</span>
<a id=__codelineno-0-3118 name=__codelineno-0-3118></a><span class=sd>        ```</span>
<a id=__codelineno-0-3119 name=__codelineno-0-3119></a>
<a id=__codelineno-0-3120 name=__codelineno-0-3120></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-3121 name=__codelineno-0-3121></a>
<a id=__codelineno-0-3122 name=__codelineno-0-3122></a>    <span class=k>def</span><span class=w> </span><span class=nf>_decorator</span><span class=p>(</span>
<a id=__codelineno-0-3123 name=__codelineno-0-3123></a>        <span class=n>func_or_tool</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=n>F</span><span class=p>,</span> <span class=n>Tool</span><span class=p>],</span> <span class=n>name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>name</span><span class=p>,</span> <span class=n>description</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>description</span>
<a id=__codelineno-0-3124 name=__codelineno-0-3124></a>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tool</span><span class=p>:</span>
<a id=__codelineno-0-3125 name=__codelineno-0-3125></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Decorator for registering a function to be used by an agent.</span>
<a id=__codelineno-0-3126 name=__codelineno-0-3126></a>
<a id=__codelineno-0-3127 name=__codelineno-0-3127></a><span class=sd>        Args:</span>
<a id=__codelineno-0-3128 name=__codelineno-0-3128></a><span class=sd>            func: the function to be registered.</span>
<a id=__codelineno-0-3129 name=__codelineno-0-3129></a>
<a id=__codelineno-0-3130 name=__codelineno-0-3130></a><span class=sd>        Returns:</span>
<a id=__codelineno-0-3131 name=__codelineno-0-3131></a><span class=sd>            The function to be registered, with the _description attribute set to the function description.</span>
<a id=__codelineno-0-3132 name=__codelineno-0-3132></a>
<a id=__codelineno-0-3133 name=__codelineno-0-3133></a><span class=sd>        Raises:</span>
<a id=__codelineno-0-3134 name=__codelineno-0-3134></a><span class=sd>            ValueError: if the function description is not provided and not propagated by a previous decorator.</span>
<a id=__codelineno-0-3135 name=__codelineno-0-3135></a><span class=sd>            RuntimeError: if the LLM config is not set up before registering a function.</span>
<a id=__codelineno-0-3136 name=__codelineno-0-3136></a>
<a id=__codelineno-0-3137 name=__codelineno-0-3137></a><span class=sd>        &quot;&quot;&quot;</span>
<a id=__codelineno-0-3138 name=__codelineno-0-3138></a>        <span class=n>tool</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_tool_if_needed</span><span class=p>(</span><span class=n>func_or_tool</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>description</span><span class=p>)</span>
<a id=__codelineno-0-3139 name=__codelineno-0-3139></a>
<a id=__codelineno-0-3140 name=__codelineno-0-3140></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_register_for_llm</span><span class=p>(</span><span class=n>tool</span><span class=p>,</span> <span class=n>api_style</span><span class=p>)</span>
<a id=__codelineno-0-3141 name=__codelineno-0-3141></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_tools</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>tool</span><span class=p>)</span>
<a id=__codelineno-0-3142 name=__codelineno-0-3142></a>
<a id=__codelineno-0-3143 name=__codelineno-0-3143></a>        <span class=k>return</span> <span class=n>tool</span>
<a id=__codelineno-0-3144 name=__codelineno-0-3144></a>
<a id=__codelineno-0-3145 name=__codelineno-0-3145></a>    <span class=k>return</span> <span class=n>_decorator</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_for_execution class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">register_for_execution</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_for_execution class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>register_for_execution</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Decorator factory for registering a function to be executed by an agent.</p> <p>It's return value is used to decorate a function to be registered to the agent.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>name of the function. If None, the function name will be used (default: None).</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code>optional(str</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a>[[<a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-internal" title=autogen.tools.Tool href=../../../../tools/Tool/#autogen.tools.Tool>Tool</a>, <span title=autogen.agentchat.conversable_agent.F>F</span>]], <a class="autorefs autorefs-internal" title=autogen.tools.Tool href=../../../../tools/Tool/#autogen.tools.Tool>Tool</a>]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The decorator for registering a function to be used by an agent.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>@user_proxy.register_for_execution()
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>@agent2.register_for_llm()
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>@agent1.register_for_llm(description=&quot;This is a very useful function&quot;)
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>def my_function(a: Annotated[str, &quot;description of a parameter&quot;] = &quot;a&quot;, b: int, c=3.14):
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>     return a + str(b * c)
</code></pre></div> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3159>3159</a></span>
<span class=normal><a href=#__codelineno-0-3160>3160</a></span>
<span class=normal><a href=#__codelineno-0-3161>3161</a></span>
<span class=normal><a href=#__codelineno-0-3162>3162</a></span>
<span class=normal><a href=#__codelineno-0-3163>3163</a></span>
<span class=normal><a href=#__codelineno-0-3164>3164</a></span>
<span class=normal><a href=#__codelineno-0-3165>3165</a></span>
<span class=normal><a href=#__codelineno-0-3166>3166</a></span>
<span class=normal><a href=#__codelineno-0-3167>3167</a></span>
<span class=normal><a href=#__codelineno-0-3168>3168</a></span>
<span class=normal><a href=#__codelineno-0-3169>3169</a></span>
<span class=normal><a href=#__codelineno-0-3170>3170</a></span>
<span class=normal><a href=#__codelineno-0-3171>3171</a></span>
<span class=normal><a href=#__codelineno-0-3172>3172</a></span>
<span class=normal><a href=#__codelineno-0-3173>3173</a></span>
<span class=normal><a href=#__codelineno-0-3174>3174</a></span>
<span class=normal><a href=#__codelineno-0-3175>3175</a></span>
<span class=normal><a href=#__codelineno-0-3176>3176</a></span>
<span class=normal><a href=#__codelineno-0-3177>3177</a></span>
<span class=normal><a href=#__codelineno-0-3178>3178</a></span>
<span class=normal><a href=#__codelineno-0-3179>3179</a></span>
<span class=normal><a href=#__codelineno-0-3180>3180</a></span>
<span class=normal><a href=#__codelineno-0-3181>3181</a></span>
<span class=normal><a href=#__codelineno-0-3182>3182</a></span>
<span class=normal><a href=#__codelineno-0-3183>3183</a></span>
<span class=normal><a href=#__codelineno-0-3184>3184</a></span>
<span class=normal><a href=#__codelineno-0-3185>3185</a></span>
<span class=normal><a href=#__codelineno-0-3186>3186</a></span>
<span class=normal><a href=#__codelineno-0-3187>3187</a></span>
<span class=normal><a href=#__codelineno-0-3188>3188</a></span>
<span class=normal><a href=#__codelineno-0-3189>3189</a></span>
<span class=normal><a href=#__codelineno-0-3190>3190</a></span>
<span class=normal><a href=#__codelineno-0-3191>3191</a></span>
<span class=normal><a href=#__codelineno-0-3192>3192</a></span>
<span class=normal><a href=#__codelineno-0-3193>3193</a></span>
<span class=normal><a href=#__codelineno-0-3194>3194</a></span>
<span class=normal><a href=#__codelineno-0-3195>3195</a></span>
<span class=normal><a href=#__codelineno-0-3196>3196</a></span>
<span class=normal><a href=#__codelineno-0-3197>3197</a></span>
<span class=normal><a href=#__codelineno-0-3198>3198</a></span>
<span class=normal><a href=#__codelineno-0-3199>3199</a></span>
<span class=normal><a href=#__codelineno-0-3200>3200</a></span>
<span class=normal><a href=#__codelineno-0-3201>3201</a></span>
<span class=normal><a href=#__codelineno-0-3202>3202</a></span>
<span class=normal><a href=#__codelineno-0-3203>3203</a></span>
<span class=normal><a href=#__codelineno-0-3204>3204</a></span>
<span class=normal><a href=#__codelineno-0-3205>3205</a></span>
<span class=normal><a href=#__codelineno-0-3206>3206</a></span>
<span class=normal><a href=#__codelineno-0-3207>3207</a></span>
<span class=normal><a href=#__codelineno-0-3208>3208</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3159 name=__codelineno-0-3159></a><span class=k>def</span><span class=w> </span><span class=nf>register_for_execution</span><span class=p>(</span>
<a id=__codelineno-0-3160 name=__codelineno-0-3160></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-3161 name=__codelineno-0-3161></a>    <span class=n>name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-3162 name=__codelineno-0-3162></a>    <span class=n>description</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-3163 name=__codelineno-0-3163></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>Union</span><span class=p>[</span><span class=n>Tool</span><span class=p>,</span> <span class=n>F</span><span class=p>]],</span> <span class=n>Tool</span><span class=p>]:</span>
<a id=__codelineno-0-3164 name=__codelineno-0-3164></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator factory for registering a function to be executed by an agent.</span>
<a id=__codelineno-0-3165 name=__codelineno-0-3165></a>
<a id=__codelineno-0-3166 name=__codelineno-0-3166></a><span class=sd>    It&#39;s return value is used to decorate a function to be registered to the agent.</span>
<a id=__codelineno-0-3167 name=__codelineno-0-3167></a>
<a id=__codelineno-0-3168 name=__codelineno-0-3168></a><span class=sd>    Args:</span>
<a id=__codelineno-0-3169 name=__codelineno-0-3169></a><span class=sd>        name (optional(str)): name of the function. If None, the function name will be used (default: None).</span>
<a id=__codelineno-0-3170 name=__codelineno-0-3170></a>
<a id=__codelineno-0-3171 name=__codelineno-0-3171></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-3172 name=__codelineno-0-3172></a><span class=sd>        The decorator for registering a function to be used by an agent.</span>
<a id=__codelineno-0-3173 name=__codelineno-0-3173></a>
<a id=__codelineno-0-3174 name=__codelineno-0-3174></a><span class=sd>    Examples:</span>
<a id=__codelineno-0-3175 name=__codelineno-0-3175></a><span class=sd>        ```</span>
<a id=__codelineno-0-3176 name=__codelineno-0-3176></a><span class=sd>        @user_proxy.register_for_execution()</span>
<a id=__codelineno-0-3177 name=__codelineno-0-3177></a><span class=sd>        @agent2.register_for_llm()</span>
<a id=__codelineno-0-3178 name=__codelineno-0-3178></a><span class=sd>        @agent1.register_for_llm(description=&quot;This is a very useful function&quot;)</span>
<a id=__codelineno-0-3179 name=__codelineno-0-3179></a><span class=sd>        def my_function(a: Annotated[str, &quot;description of a parameter&quot;] = &quot;a&quot;, b: int, c=3.14):</span>
<a id=__codelineno-0-3180 name=__codelineno-0-3180></a><span class=sd>             return a + str(b * c)</span>
<a id=__codelineno-0-3181 name=__codelineno-0-3181></a><span class=sd>        ```</span>
<a id=__codelineno-0-3182 name=__codelineno-0-3182></a>
<a id=__codelineno-0-3183 name=__codelineno-0-3183></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-3184 name=__codelineno-0-3184></a>
<a id=__codelineno-0-3185 name=__codelineno-0-3185></a>    <span class=k>def</span><span class=w> </span><span class=nf>_decorator</span><span class=p>(</span>
<a id=__codelineno-0-3186 name=__codelineno-0-3186></a>        <span class=n>func_or_tool</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=n>Tool</span><span class=p>,</span> <span class=n>F</span><span class=p>],</span> <span class=n>name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>name</span><span class=p>,</span> <span class=n>description</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>description</span>
<a id=__codelineno-0-3187 name=__codelineno-0-3187></a>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tool</span><span class=p>:</span>
<a id=__codelineno-0-3188 name=__codelineno-0-3188></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Decorator for registering a function to be used by an agent.</span>
<a id=__codelineno-0-3189 name=__codelineno-0-3189></a>
<a id=__codelineno-0-3190 name=__codelineno-0-3190></a><span class=sd>        Args:</span>
<a id=__codelineno-0-3191 name=__codelineno-0-3191></a><span class=sd>            func_or_tool: the function or the tool to be registered.</span>
<a id=__codelineno-0-3192 name=__codelineno-0-3192></a><span class=sd>            name: the name of the function.</span>
<a id=__codelineno-0-3193 name=__codelineno-0-3193></a><span class=sd>            description: the description of the function.</span>
<a id=__codelineno-0-3194 name=__codelineno-0-3194></a>
<a id=__codelineno-0-3195 name=__codelineno-0-3195></a><span class=sd>        Returns:</span>
<a id=__codelineno-0-3196 name=__codelineno-0-3196></a><span class=sd>            The tool to be registered.</span>
<a id=__codelineno-0-3197 name=__codelineno-0-3197></a>
<a id=__codelineno-0-3198 name=__codelineno-0-3198></a><span class=sd>        &quot;&quot;&quot;</span>
<a id=__codelineno-0-3199 name=__codelineno-0-3199></a>
<a id=__codelineno-0-3200 name=__codelineno-0-3200></a>        <span class=n>tool</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_tool_if_needed</span><span class=p>(</span><span class=n>func_or_tool</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>description</span><span class=p>)</span>
<a id=__codelineno-0-3201 name=__codelineno-0-3201></a>        <span class=n>chat_context</span> <span class=o>=</span> <span class=n>ChatContext</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
<a id=__codelineno-0-3202 name=__codelineno-0-3202></a>        <span class=n>chat_context_params</span> <span class=o>=</span> <span class=p>{</span><span class=n>param</span><span class=p>:</span> <span class=n>chat_context</span> <span class=k>for</span> <span class=n>param</span> <span class=ow>in</span> <span class=n>tool</span><span class=o>.</span><span class=n>_chat_context_param_names</span><span class=p>}</span>
<a id=__codelineno-0-3203 name=__codelineno-0-3203></a>
<a id=__codelineno-0-3204 name=__codelineno-0-3204></a>        <span class=bp>self</span><span class=o>.</span><span class=n>register_function</span><span class=p>({</span><span class=n>tool</span><span class=o>.</span><span class=n>name</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_wrap_function</span><span class=p>(</span><span class=n>tool</span><span class=o>.</span><span class=n>func</span><span class=p>,</span> <span class=n>chat_context_params</span><span class=p>)})</span>
<a id=__codelineno-0-3205 name=__codelineno-0-3205></a>
<a id=__codelineno-0-3206 name=__codelineno-0-3206></a>        <span class=k>return</span> <span class=n>tool</span>
<a id=__codelineno-0-3207 name=__codelineno-0-3207></a>
<a id=__codelineno-0-3208 name=__codelineno-0-3208></a>    <span class=k>return</span> <span class=n>_decorator</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_model_client class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">register_model_client</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_model_client class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>register_model_client</span><span class=p>(</span><span class=n>model_client_cls</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Register a model client.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>model_client_cls</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>A custom client class that follows the Client interface</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.oai.client.ModelClient href=../../../../ModelClient/#autogen.ModelClient>ModelClient</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The kwargs for the custom client class to be initialized with</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3210>3210</a></span>
<span class=normal><a href=#__codelineno-0-3211>3211</a></span>
<span class=normal><a href=#__codelineno-0-3212>3212</a></span>
<span class=normal><a href=#__codelineno-0-3213>3213</a></span>
<span class=normal><a href=#__codelineno-0-3214>3214</a></span>
<span class=normal><a href=#__codelineno-0-3215>3215</a></span>
<span class=normal><a href=#__codelineno-0-3216>3216</a></span>
<span class=normal><a href=#__codelineno-0-3217>3217</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3210 name=__codelineno-0-3210></a><span class=k>def</span><span class=w> </span><span class=nf>register_model_client</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_client_cls</span><span class=p>:</span> <span class=n>ModelClient</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>):</span>
<a id=__codelineno-0-3211 name=__codelineno-0-3211></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Register a model client.</span>
<a id=__codelineno-0-3212 name=__codelineno-0-3212></a>
<a id=__codelineno-0-3213 name=__codelineno-0-3213></a><span class=sd>    Args:</span>
<a id=__codelineno-0-3214 name=__codelineno-0-3214></a><span class=sd>        model_client_cls: A custom client class that follows the Client interface</span>
<a id=__codelineno-0-3215 name=__codelineno-0-3215></a><span class=sd>        **kwargs: The kwargs for the custom client class to be initialized with</span>
<a id=__codelineno-0-3216 name=__codelineno-0-3216></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-3217 name=__codelineno-0-3217></a>    <span class=bp>self</span><span class=o>.</span><span class=n>client</span><span class=o>.</span><span class=n>register_model_client</span><span class=p>(</span><span class=n>model_client_cls</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_hook class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">register_hook</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.register_hook class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>register_hook</span><span class=p>(</span><span class=n>hookable_method</span><span class=p>,</span> <span class=n>hook</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Registers a hook to be called by a hookable method, in order to add a capability to the agent. Registered hooks are kept in lists (one per hookable method), and are called in their order of registration.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>hookable_method</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>A hookable method name implemented by ConversableAgent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>hook</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>A method implemented by a subclass of AgentCapability.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Callable href=https://docs.python.org/3/library/typing.html#typing.Callable>Callable</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3219>3219</a></span>
<span class=normal><a href=#__codelineno-0-3220>3220</a></span>
<span class=normal><a href=#__codelineno-0-3221>3221</a></span>
<span class=normal><a href=#__codelineno-0-3222>3222</a></span>
<span class=normal><a href=#__codelineno-0-3223>3223</a></span>
<span class=normal><a href=#__codelineno-0-3224>3224</a></span>
<span class=normal><a href=#__codelineno-0-3225>3225</a></span>
<span class=normal><a href=#__codelineno-0-3226>3226</a></span>
<span class=normal><a href=#__codelineno-0-3227>3227</a></span>
<span class=normal><a href=#__codelineno-0-3228>3228</a></span>
<span class=normal><a href=#__codelineno-0-3229>3229</a></span>
<span class=normal><a href=#__codelineno-0-3230>3230</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3219 name=__codelineno-0-3219></a><span class=k>def</span><span class=w> </span><span class=nf>register_hook</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>hookable_method</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>hook</span><span class=p>:</span> <span class=n>Callable</span><span class=p>):</span>
<a id=__codelineno-0-3220 name=__codelineno-0-3220></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Registers a hook to be called by a hookable method, in order to add a capability to the agent.</span>
<a id=__codelineno-0-3221 name=__codelineno-0-3221></a><span class=sd>    Registered hooks are kept in lists (one per hookable method), and are called in their order of registration.</span>
<a id=__codelineno-0-3222 name=__codelineno-0-3222></a>
<a id=__codelineno-0-3223 name=__codelineno-0-3223></a><span class=sd>    Args:</span>
<a id=__codelineno-0-3224 name=__codelineno-0-3224></a><span class=sd>        hookable_method: A hookable method name implemented by ConversableAgent.</span>
<a id=__codelineno-0-3225 name=__codelineno-0-3225></a><span class=sd>        hook: A method implemented by a subclass of AgentCapability.</span>
<a id=__codelineno-0-3226 name=__codelineno-0-3226></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-3227 name=__codelineno-0-3227></a>    <span class=k>assert</span> <span class=n>hookable_method</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>hook_lists</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>hookable_method</span><span class=si>}</span><span class=s2> is not a hookable method.&quot;</span>
<a id=__codelineno-0-3228 name=__codelineno-0-3228></a>    <span class=n>hook_list</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>hook_lists</span><span class=p>[</span><span class=n>hookable_method</span><span class=p>]</span>
<a id=__codelineno-0-3229 name=__codelineno-0-3229></a>    <span class=k>assert</span> <span class=n>hook</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>hook_list</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>hook</span><span class=si>}</span><span class=s2> is already registered as a hook.&quot;</span>
<a id=__codelineno-0-3230 name=__codelineno-0-3230></a>    <span class=n>hook_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>hook</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_agent_state_before_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_agent_state_before_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.update_agent_state_before_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_agent_state_before_reply</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Calls any registered capability hooks to update the agent's state. Primarily used to update context variables. Will, potentially, modify the messages.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3232>3232</a></span>
<span class=normal><a href=#__codelineno-0-3233>3233</a></span>
<span class=normal><a href=#__codelineno-0-3234>3234</a></span>
<span class=normal><a href=#__codelineno-0-3235>3235</a></span>
<span class=normal><a href=#__codelineno-0-3236>3236</a></span>
<span class=normal><a href=#__codelineno-0-3237>3237</a></span>
<span class=normal><a href=#__codelineno-0-3238>3238</a></span>
<span class=normal><a href=#__codelineno-0-3239>3239</a></span>
<span class=normal><a href=#__codelineno-0-3240>3240</a></span>
<span class=normal><a href=#__codelineno-0-3241>3241</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3232 name=__codelineno-0-3232></a><span class=k>def</span><span class=w> </span><span class=nf>update_agent_state_before_reply</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>messages</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-3233 name=__codelineno-0-3233></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calls any registered capability hooks to update the agent&#39;s state.</span>
<a id=__codelineno-0-3234 name=__codelineno-0-3234></a><span class=sd>    Primarily used to update context variables.</span>
<a id=__codelineno-0-3235 name=__codelineno-0-3235></a><span class=sd>    Will, potentially, modify the messages.</span>
<a id=__codelineno-0-3236 name=__codelineno-0-3236></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-3237 name=__codelineno-0-3237></a>    <span class=n>hook_list</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>hook_lists</span><span class=p>[</span><span class=s2>&quot;update_agent_state&quot;</span><span class=p>]</span>
<a id=__codelineno-0-3238 name=__codelineno-0-3238></a>
<a id=__codelineno-0-3239 name=__codelineno-0-3239></a>    <span class=c1># Call each hook (in order of registration) to process the messages.</span>
<a id=__codelineno-0-3240 name=__codelineno-0-3240></a>    <span class=k>for</span> <span class=n>hook</span> <span class=ow>in</span> <span class=n>hook_list</span><span class=p>:</span>
<a id=__codelineno-0-3241 name=__codelineno-0-3241></a>        <span class=n>hook</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>messages</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.process_all_messages_before_reply class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">process_all_messages_before_reply</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.process_all_messages_before_reply class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>process_all_messages_before_reply</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Calls any registered capability hooks to process all messages, potentially modifying the messages.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3243>3243</a></span>
<span class=normal><a href=#__codelineno-0-3244>3244</a></span>
<span class=normal><a href=#__codelineno-0-3245>3245</a></span>
<span class=normal><a href=#__codelineno-0-3246>3246</a></span>
<span class=normal><a href=#__codelineno-0-3247>3247</a></span>
<span class=normal><a href=#__codelineno-0-3248>3248</a></span>
<span class=normal><a href=#__codelineno-0-3249>3249</a></span>
<span class=normal><a href=#__codelineno-0-3250>3250</a></span>
<span class=normal><a href=#__codelineno-0-3251>3251</a></span>
<span class=normal><a href=#__codelineno-0-3252>3252</a></span>
<span class=normal><a href=#__codelineno-0-3253>3253</a></span>
<span class=normal><a href=#__codelineno-0-3254>3254</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3243 name=__codelineno-0-3243></a><span class=k>def</span><span class=w> </span><span class=nf>process_all_messages_before_reply</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>messages</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-3244 name=__codelineno-0-3244></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calls any registered capability hooks to process all messages, potentially modifying the messages.&quot;&quot;&quot;</span>
<a id=__codelineno-0-3245 name=__codelineno-0-3245></a>    <span class=n>hook_list</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>hook_lists</span><span class=p>[</span><span class=s2>&quot;process_all_messages_before_reply&quot;</span><span class=p>]</span>
<a id=__codelineno-0-3246 name=__codelineno-0-3246></a>    <span class=c1># If no hooks are registered, or if there are no messages to process, return the original message list.</span>
<a id=__codelineno-0-3247 name=__codelineno-0-3247></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>hook_list</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-3248 name=__codelineno-0-3248></a>        <span class=k>return</span> <span class=n>messages</span>
<a id=__codelineno-0-3249 name=__codelineno-0-3249></a>
<a id=__codelineno-0-3250 name=__codelineno-0-3250></a>    <span class=c1># Call each hook (in order of registration) to process the messages.</span>
<a id=__codelineno-0-3251 name=__codelineno-0-3251></a>    <span class=n>processed_messages</span> <span class=o>=</span> <span class=n>messages</span>
<a id=__codelineno-0-3252 name=__codelineno-0-3252></a>    <span class=k>for</span> <span class=n>hook</span> <span class=ow>in</span> <span class=n>hook_list</span><span class=p>:</span>
<a id=__codelineno-0-3253 name=__codelineno-0-3253></a>        <span class=n>processed_messages</span> <span class=o>=</span> <span class=n>hook</span><span class=p>(</span><span class=n>processed_messages</span><span class=p>)</span>
<a id=__codelineno-0-3254 name=__codelineno-0-3254></a>    <span class=k>return</span> <span class=n>processed_messages</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.process_last_received_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">process_last_received_message</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.process_last_received_message class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>process_last_received_message</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Calls any registered capability hooks to use and potentially modify the text of the last message, as long as the last message is not a function call or exit command.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3256>3256</a></span>
<span class=normal><a href=#__codelineno-0-3257>3257</a></span>
<span class=normal><a href=#__codelineno-0-3258>3258</a></span>
<span class=normal><a href=#__codelineno-0-3259>3259</a></span>
<span class=normal><a href=#__codelineno-0-3260>3260</a></span>
<span class=normal><a href=#__codelineno-0-3261>3261</a></span>
<span class=normal><a href=#__codelineno-0-3262>3262</a></span>
<span class=normal><a href=#__codelineno-0-3263>3263</a></span>
<span class=normal><a href=#__codelineno-0-3264>3264</a></span>
<span class=normal><a href=#__codelineno-0-3265>3265</a></span>
<span class=normal><a href=#__codelineno-0-3266>3266</a></span>
<span class=normal><a href=#__codelineno-0-3267>3267</a></span>
<span class=normal><a href=#__codelineno-0-3268>3268</a></span>
<span class=normal><a href=#__codelineno-0-3269>3269</a></span>
<span class=normal><a href=#__codelineno-0-3270>3270</a></span>
<span class=normal><a href=#__codelineno-0-3271>3271</a></span>
<span class=normal><a href=#__codelineno-0-3272>3272</a></span>
<span class=normal><a href=#__codelineno-0-3273>3273</a></span>
<span class=normal><a href=#__codelineno-0-3274>3274</a></span>
<span class=normal><a href=#__codelineno-0-3275>3275</a></span>
<span class=normal><a href=#__codelineno-0-3276>3276</a></span>
<span class=normal><a href=#__codelineno-0-3277>3277</a></span>
<span class=normal><a href=#__codelineno-0-3278>3278</a></span>
<span class=normal><a href=#__codelineno-0-3279>3279</a></span>
<span class=normal><a href=#__codelineno-0-3280>3280</a></span>
<span class=normal><a href=#__codelineno-0-3281>3281</a></span>
<span class=normal><a href=#__codelineno-0-3282>3282</a></span>
<span class=normal><a href=#__codelineno-0-3283>3283</a></span>
<span class=normal><a href=#__codelineno-0-3284>3284</a></span>
<span class=normal><a href=#__codelineno-0-3285>3285</a></span>
<span class=normal><a href=#__codelineno-0-3286>3286</a></span>
<span class=normal><a href=#__codelineno-0-3287>3287</a></span>
<span class=normal><a href=#__codelineno-0-3288>3288</a></span>
<span class=normal><a href=#__codelineno-0-3289>3289</a></span>
<span class=normal><a href=#__codelineno-0-3290>3290</a></span>
<span class=normal><a href=#__codelineno-0-3291>3291</a></span>
<span class=normal><a href=#__codelineno-0-3292>3292</a></span>
<span class=normal><a href=#__codelineno-0-3293>3293</a></span>
<span class=normal><a href=#__codelineno-0-3294>3294</a></span>
<span class=normal><a href=#__codelineno-0-3295>3295</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3256 name=__codelineno-0-3256></a><span class=k>def</span><span class=w> </span><span class=nf>process_last_received_message</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>messages</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-3257 name=__codelineno-0-3257></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calls any registered capability hooks to use and potentially modify the text of the last message,</span>
<a id=__codelineno-0-3258 name=__codelineno-0-3258></a><span class=sd>    as long as the last message is not a function call or exit command.</span>
<a id=__codelineno-0-3259 name=__codelineno-0-3259></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-3260 name=__codelineno-0-3260></a>    <span class=c1># If any required condition is not met, return the original message list.</span>
<a id=__codelineno-0-3261 name=__codelineno-0-3261></a>    <span class=n>hook_list</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>hook_lists</span><span class=p>[</span><span class=s2>&quot;process_last_received_message&quot;</span><span class=p>]</span>
<a id=__codelineno-0-3262 name=__codelineno-0-3262></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>hook_list</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-3263 name=__codelineno-0-3263></a>        <span class=k>return</span> <span class=n>messages</span>  <span class=c1># No hooks registered.</span>
<a id=__codelineno-0-3264 name=__codelineno-0-3264></a>    <span class=k>if</span> <span class=n>messages</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-3265 name=__codelineno-0-3265></a>        <span class=k>return</span> <span class=kc>None</span>  <span class=c1># No message to process.</span>
<a id=__codelineno-0-3266 name=__codelineno-0-3266></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>messages</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-3267 name=__codelineno-0-3267></a>        <span class=k>return</span> <span class=n>messages</span>  <span class=c1># No message to process.</span>
<a id=__codelineno-0-3268 name=__codelineno-0-3268></a>    <span class=n>last_message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-3269 name=__codelineno-0-3269></a>    <span class=k>if</span> <span class=s2>&quot;function_call&quot;</span> <span class=ow>in</span> <span class=n>last_message</span><span class=p>:</span>
<a id=__codelineno-0-3270 name=__codelineno-0-3270></a>        <span class=k>return</span> <span class=n>messages</span>  <span class=c1># Last message is a function call.</span>
<a id=__codelineno-0-3271 name=__codelineno-0-3271></a>    <span class=k>if</span> <span class=s2>&quot;context&quot;</span> <span class=ow>in</span> <span class=n>last_message</span><span class=p>:</span>
<a id=__codelineno-0-3272 name=__codelineno-0-3272></a>        <span class=k>return</span> <span class=n>messages</span>  <span class=c1># Last message contains a context key.</span>
<a id=__codelineno-0-3273 name=__codelineno-0-3273></a>    <span class=k>if</span> <span class=s2>&quot;content&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>last_message</span><span class=p>:</span>
<a id=__codelineno-0-3274 name=__codelineno-0-3274></a>        <span class=k>return</span> <span class=n>messages</span>  <span class=c1># Last message has no content.</span>
<a id=__codelineno-0-3275 name=__codelineno-0-3275></a>
<a id=__codelineno-0-3276 name=__codelineno-0-3276></a>    <span class=n>user_content</span> <span class=o>=</span> <span class=n>last_message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>]</span>
<a id=__codelineno-0-3277 name=__codelineno-0-3277></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>user_content</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>user_content</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
<a id=__codelineno-0-3278 name=__codelineno-0-3278></a>        <span class=c1># if the user_content is a string, it is for regular LLM</span>
<a id=__codelineno-0-3279 name=__codelineno-0-3279></a>        <span class=c1># if the user_content is a list, it should follow the multimodal LMM format.</span>
<a id=__codelineno-0-3280 name=__codelineno-0-3280></a>        <span class=k>return</span> <span class=n>messages</span>
<a id=__codelineno-0-3281 name=__codelineno-0-3281></a>    <span class=k>if</span> <span class=n>user_content</span> <span class=o>==</span> <span class=s2>&quot;exit&quot;</span><span class=p>:</span>
<a id=__codelineno-0-3282 name=__codelineno-0-3282></a>        <span class=k>return</span> <span class=n>messages</span>  <span class=c1># Last message is an exit command.</span>
<a id=__codelineno-0-3283 name=__codelineno-0-3283></a>
<a id=__codelineno-0-3284 name=__codelineno-0-3284></a>    <span class=c1># Call each hook (in order of registration) to process the user&#39;s message.</span>
<a id=__codelineno-0-3285 name=__codelineno-0-3285></a>    <span class=n>processed_user_content</span> <span class=o>=</span> <span class=n>user_content</span>
<a id=__codelineno-0-3286 name=__codelineno-0-3286></a>    <span class=k>for</span> <span class=n>hook</span> <span class=ow>in</span> <span class=n>hook_list</span><span class=p>:</span>
<a id=__codelineno-0-3287 name=__codelineno-0-3287></a>        <span class=n>processed_user_content</span> <span class=o>=</span> <span class=n>hook</span><span class=p>(</span><span class=n>processed_user_content</span><span class=p>)</span>
<a id=__codelineno-0-3288 name=__codelineno-0-3288></a>
<a id=__codelineno-0-3289 name=__codelineno-0-3289></a>    <span class=k>if</span> <span class=n>processed_user_content</span> <span class=o>==</span> <span class=n>user_content</span><span class=p>:</span>
<a id=__codelineno-0-3290 name=__codelineno-0-3290></a>        <span class=k>return</span> <span class=n>messages</span>  <span class=c1># No hooks actually modified the user&#39;s message.</span>
<a id=__codelineno-0-3291 name=__codelineno-0-3291></a>
<a id=__codelineno-0-3292 name=__codelineno-0-3292></a>    <span class=c1># Replace the last user message with the expanded one.</span>
<a id=__codelineno-0-3293 name=__codelineno-0-3293></a>    <span class=n>messages</span> <span class=o>=</span> <span class=n>messages</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
<a id=__codelineno-0-3294 name=__codelineno-0-3294></a>    <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=s2>&quot;content&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>processed_user_content</span>
<a id=__codelineno-0-3295 name=__codelineno-0-3295></a>    <span class=k>return</span> <span class=n>messages</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.print_usage_summary class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">print_usage_summary</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.print_usage_summary class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>print_usage_summary</span><span class=p>(</span><span class=n>mode</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;actual&#39;</span><span class=p>,</span> <span class=s1>&#39;total&#39;</span><span class=p>])</span>
</code></pre></div> <div class="doc doc-contents "> <p>Print the usage summary.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3297>3297</a></span>
<span class=normal><a href=#__codelineno-0-3298>3298</a></span>
<span class=normal><a href=#__codelineno-0-3299>3299</a></span>
<span class=normal><a href=#__codelineno-0-3300>3300</a></span>
<span class=normal><a href=#__codelineno-0-3301>3301</a></span>
<span class=normal><a href=#__codelineno-0-3302>3302</a></span>
<span class=normal><a href=#__codelineno-0-3303>3303</a></span>
<span class=normal><a href=#__codelineno-0-3304>3304</a></span>
<span class=normal><a href=#__codelineno-0-3305>3305</a></span>
<span class=normal><a href=#__codelineno-0-3306>3306</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3297 name=__codelineno-0-3297></a><span class=k>def</span><span class=w> </span><span class=nf>print_usage_summary</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mode</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;actual&quot;</span><span class=p>,</span> <span class=s2>&quot;total&quot;</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-3298 name=__codelineno-0-3298></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Print the usage summary.&quot;&quot;&quot;</span>
<a id=__codelineno-0-3299 name=__codelineno-0-3299></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-3300 name=__codelineno-0-3300></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-3301 name=__codelineno-0-3301></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>ConversableAgentUsageSummaryNoCostIncurredMessage</span><span class=p>(</span><span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>))</span>
<a id=__codelineno-0-3302 name=__codelineno-0-3302></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-3303 name=__codelineno-0-3303></a>        <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>ConversableAgentUsageSummaryMessage</span><span class=p>(</span><span class=n>recipient</span><span class=o>=</span><span class=bp>self</span><span class=p>))</span>
<a id=__codelineno-0-3304 name=__codelineno-0-3304></a>
<a id=__codelineno-0-3305 name=__codelineno-0-3305></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-3306 name=__codelineno-0-3306></a>        <span class=bp>self</span><span class=o>.</span><span class=n>client</span><span class=o>.</span><span class=n>print_usage_summary</span><span class=p>(</span><span class=n>mode</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_actual_usage class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_actual_usage</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_actual_usage class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_actual_usage</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the actual usage summary.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3308>3308</a></span>
<span class=normal><a href=#__codelineno-0-3309>3309</a></span>
<span class=normal><a href=#__codelineno-0-3310>3310</a></span>
<span class=normal><a href=#__codelineno-0-3311>3311</a></span>
<span class=normal><a href=#__codelineno-0-3312>3312</a></span>
<span class=normal><a href=#__codelineno-0-3313>3313</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3308 name=__codelineno-0-3308></a><span class=k>def</span><span class=w> </span><span class=nf>get_actual_usage</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=kc>None</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]]:</span>
<a id=__codelineno-0-3309 name=__codelineno-0-3309></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the actual usage summary.&quot;&quot;&quot;</span>
<a id=__codelineno-0-3310 name=__codelineno-0-3310></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-3311 name=__codelineno-0-3311></a>        <span class=k>return</span> <span class=kc>None</span>
<a id=__codelineno-0-3312 name=__codelineno-0-3312></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-3313 name=__codelineno-0-3313></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>client</span><span class=o>.</span><span class=n>actual_usage_summary</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_total_usage class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_total_usage</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.get_total_usage class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_total_usage</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the total usage summary.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3315>3315</a></span>
<span class=normal><a href=#__codelineno-0-3316>3316</a></span>
<span class=normal><a href=#__codelineno-0-3317>3317</a></span>
<span class=normal><a href=#__codelineno-0-3318>3318</a></span>
<span class=normal><a href=#__codelineno-0-3319>3319</a></span>
<span class=normal><a href=#__codelineno-0-3320>3320</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3315 name=__codelineno-0-3315></a><span class=k>def</span><span class=w> </span><span class=nf>get_total_usage</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=kc>None</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]]:</span>
<a id=__codelineno-0-3316 name=__codelineno-0-3316></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the total usage summary.&quot;&quot;&quot;</span>
<a id=__codelineno-0-3317 name=__codelineno-0-3317></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-3318 name=__codelineno-0-3318></a>        <span class=k>return</span> <span class=kc>None</span>
<a id=__codelineno-0-3319 name=__codelineno-0-3319></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-3320 name=__codelineno-0-3320></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>client</span><span class=o>.</span><span class=n>total_usage_summary</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.run class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">run</span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.run class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>tools</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>executor_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=n><span title=autogen.code_utils.DEFAULT_MAX_TURNS>DEFAULT_MAX_TURNS</span></span><span class=p>,</span> <span class=n>msg_to</span><span class=o>=</span><span class=s1>&#39;agent&#39;</span><span class=p>,</span> <span class=n>clear_history</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>user_input</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>summary_method</span><span class=o>=</span><span class=n><a class="autorefs autorefs-internal" title=autogen.agentchat.conversable_agent.ConversableAgent.DEFAULT_SUMMARY_METHOD href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD>DEFAULT_SUMMARY_METHOD</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Run a chat with the agent using the given message.</p> <p>A second agent will be created to represent the user, this agent will by known by the name 'user'. This agent does not have code execution enabled by default, if needed pass the code execution config in with the executor_kwargs parameter.</p> <p>The user can terminate the conversation when prompted or, if agent's reply contains 'TERMINATE', it will terminate.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the message to be processed.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>tools</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the tools to be used by the agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-internal" title=autogen.tools.Tool href=../../../../tools/Tool/#autogen.tools.Tool>Tool</a>, <a class="autorefs autorefs-external" title=typing.Iterable href=https://docs.python.org/3/library/typing.html#typing.Iterable>Iterable</a>[<a class="autorefs autorefs-internal" title=autogen.tools.Tool href=../../../../tools/Tool/#autogen.tools.Tool>Tool</a>]]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>executor_kwargs</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the keyword arguments for the executor.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>max_turns</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>maximum number of turns (a turn is equivalent to both agents having replied), defaults no None which means unlimited. The original message is included.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><span title=autogen.code_utils.DEFAULT_MAX_TURNS>DEFAULT_MAX_TURNS</span></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>msg_to</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>which agent is receiving the message and will be the first to reply, defaults to the agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Literal href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;agent&#39;, &#39;user&#39;]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;agent&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>clear_history</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether to clear the chat history.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>user_input</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the user will be asked for input at their turn.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3364>3364</a></span>
<span class=normal><a href=#__codelineno-0-3365>3365</a></span>
<span class=normal><a href=#__codelineno-0-3366>3366</a></span>
<span class=normal><a href=#__codelineno-0-3367>3367</a></span>
<span class=normal><a href=#__codelineno-0-3368>3368</a></span>
<span class=normal><a href=#__codelineno-0-3369>3369</a></span>
<span class=normal><a href=#__codelineno-0-3370>3370</a></span>
<span class=normal><a href=#__codelineno-0-3371>3371</a></span>
<span class=normal><a href=#__codelineno-0-3372>3372</a></span>
<span class=normal><a href=#__codelineno-0-3373>3373</a></span>
<span class=normal><a href=#__codelineno-0-3374>3374</a></span>
<span class=normal><a href=#__codelineno-0-3375>3375</a></span>
<span class=normal><a href=#__codelineno-0-3376>3376</a></span>
<span class=normal><a href=#__codelineno-0-3377>3377</a></span>
<span class=normal><a href=#__codelineno-0-3378>3378</a></span>
<span class=normal><a href=#__codelineno-0-3379>3379</a></span>
<span class=normal><a href=#__codelineno-0-3380>3380</a></span>
<span class=normal><a href=#__codelineno-0-3381>3381</a></span>
<span class=normal><a href=#__codelineno-0-3382>3382</a></span>
<span class=normal><a href=#__codelineno-0-3383>3383</a></span>
<span class=normal><a href=#__codelineno-0-3384>3384</a></span>
<span class=normal><a href=#__codelineno-0-3385>3385</a></span>
<span class=normal><a href=#__codelineno-0-3386>3386</a></span>
<span class=normal><a href=#__codelineno-0-3387>3387</a></span>
<span class=normal><a href=#__codelineno-0-3388>3388</a></span>
<span class=normal><a href=#__codelineno-0-3389>3389</a></span>
<span class=normal><a href=#__codelineno-0-3390>3390</a></span>
<span class=normal><a href=#__codelineno-0-3391>3391</a></span>
<span class=normal><a href=#__codelineno-0-3392>3392</a></span>
<span class=normal><a href=#__codelineno-0-3393>3393</a></span>
<span class=normal><a href=#__codelineno-0-3394>3394</a></span>
<span class=normal><a href=#__codelineno-0-3395>3395</a></span>
<span class=normal><a href=#__codelineno-0-3396>3396</a></span>
<span class=normal><a href=#__codelineno-0-3397>3397</a></span>
<span class=normal><a href=#__codelineno-0-3398>3398</a></span>
<span class=normal><a href=#__codelineno-0-3399>3399</a></span>
<span class=normal><a href=#__codelineno-0-3400>3400</a></span>
<span class=normal><a href=#__codelineno-0-3401>3401</a></span>
<span class=normal><a href=#__codelineno-0-3402>3402</a></span>
<span class=normal><a href=#__codelineno-0-3403>3403</a></span>
<span class=normal><a href=#__codelineno-0-3404>3404</a></span>
<span class=normal><a href=#__codelineno-0-3405>3405</a></span>
<span class=normal><a href=#__codelineno-0-3406>3406</a></span>
<span class=normal><a href=#__codelineno-0-3407>3407</a></span>
<span class=normal><a href=#__codelineno-0-3408>3408</a></span>
<span class=normal><a href=#__codelineno-0-3409>3409</a></span>
<span class=normal><a href=#__codelineno-0-3410>3410</a></span>
<span class=normal><a href=#__codelineno-0-3411>3411</a></span>
<span class=normal><a href=#__codelineno-0-3412>3412</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3364 name=__codelineno-0-3364></a><span class=k>def</span><span class=w> </span><span class=nf>run</span><span class=p>(</span>
<a id=__codelineno-0-3365 name=__codelineno-0-3365></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-3366 name=__codelineno-0-3366></a>    <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<a id=__codelineno-0-3367 name=__codelineno-0-3367></a>    <span class=o>*</span><span class=p>,</span>
<a id=__codelineno-0-3368 name=__codelineno-0-3368></a>    <span class=n>tools</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=n>Tool</span><span class=p>,</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>Tool</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-3369 name=__codelineno-0-3369></a>    <span class=n>executor_kwargs</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-3370 name=__codelineno-0-3370></a>    <span class=n>max_turns</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=n>DEFAULT_MAX_TURNS</span><span class=p>,</span>
<a id=__codelineno-0-3371 name=__codelineno-0-3371></a>    <span class=n>msg_to</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;agent&quot;</span><span class=p>,</span> <span class=s2>&quot;user&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;agent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-3372 name=__codelineno-0-3372></a>    <span class=n>clear_history</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-3373 name=__codelineno-0-3373></a>    <span class=n>user_input</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-0-3374 name=__codelineno-0-3374></a>    <span class=n>summary_method</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=n>DEFAULT_SUMMARY_METHOD</span><span class=p>,</span>
<a id=__codelineno-0-3375 name=__codelineno-0-3375></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ChatResult</span><span class=p>:</span>
<a id=__codelineno-0-3376 name=__codelineno-0-3376></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run a chat with the agent using the given message.</span>
<a id=__codelineno-0-3377 name=__codelineno-0-3377></a>
<a id=__codelineno-0-3378 name=__codelineno-0-3378></a><span class=sd>    A second agent will be created to represent the user, this agent will by known by the name &#39;user&#39;. This agent does not have code execution enabled by default, if needed pass the code execution config in with the executor_kwargs parameter.</span>
<a id=__codelineno-0-3379 name=__codelineno-0-3379></a>
<a id=__codelineno-0-3380 name=__codelineno-0-3380></a><span class=sd>    The user can terminate the conversation when prompted or, if agent&#39;s reply contains &#39;TERMINATE&#39;, it will terminate.</span>
<a id=__codelineno-0-3381 name=__codelineno-0-3381></a>
<a id=__codelineno-0-3382 name=__codelineno-0-3382></a><span class=sd>    Args:</span>
<a id=__codelineno-0-3383 name=__codelineno-0-3383></a><span class=sd>        message: the message to be processed.</span>
<a id=__codelineno-0-3384 name=__codelineno-0-3384></a><span class=sd>        tools: the tools to be used by the agent.</span>
<a id=__codelineno-0-3385 name=__codelineno-0-3385></a><span class=sd>        executor_kwargs: the keyword arguments for the executor.</span>
<a id=__codelineno-0-3386 name=__codelineno-0-3386></a><span class=sd>        max_turns: maximum number of turns (a turn is equivalent to both agents having replied), defaults no None which means unlimited. The original message is included.</span>
<a id=__codelineno-0-3387 name=__codelineno-0-3387></a><span class=sd>        msg_to: which agent is receiving the message and will be the first to reply, defaults to the agent.</span>
<a id=__codelineno-0-3388 name=__codelineno-0-3388></a><span class=sd>        clear_history: whether to clear the chat history.</span>
<a id=__codelineno-0-3389 name=__codelineno-0-3389></a><span class=sd>        user_input: the user will be asked for input at their turn.</span>
<a id=__codelineno-0-3390 name=__codelineno-0-3390></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-3391 name=__codelineno-0-3391></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_or_get_executor</span><span class=p>(</span>
<a id=__codelineno-0-3392 name=__codelineno-0-3392></a>        <span class=n>executor_kwargs</span><span class=o>=</span><span class=n>executor_kwargs</span><span class=p>,</span>
<a id=__codelineno-0-3393 name=__codelineno-0-3393></a>        <span class=n>tools</span><span class=o>=</span><span class=n>tools</span><span class=p>,</span>
<a id=__codelineno-0-3394 name=__codelineno-0-3394></a>        <span class=n>agent_name</span><span class=o>=</span><span class=s2>&quot;user&quot;</span><span class=p>,</span>
<a id=__codelineno-0-3395 name=__codelineno-0-3395></a>        <span class=n>agent_human_input_mode</span><span class=o>=</span><span class=s2>&quot;ALWAYS&quot;</span> <span class=k>if</span> <span class=n>user_input</span> <span class=k>else</span> <span class=s2>&quot;NEVER&quot;</span><span class=p>,</span>
<a id=__codelineno-0-3396 name=__codelineno-0-3396></a>    <span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
<a id=__codelineno-0-3397 name=__codelineno-0-3397></a>        <span class=k>if</span> <span class=n>msg_to</span> <span class=o>==</span> <span class=s2>&quot;agent&quot;</span><span class=p>:</span>
<a id=__codelineno-0-3398 name=__codelineno-0-3398></a>            <span class=k>return</span> <span class=n>executor</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-0-3399 name=__codelineno-0-3399></a>                <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-3400 name=__codelineno-0-3400></a>                <span class=n>message</span><span class=o>=</span><span class=n>message</span><span class=p>,</span>
<a id=__codelineno-0-3401 name=__codelineno-0-3401></a>                <span class=n>clear_history</span><span class=o>=</span><span class=n>clear_history</span><span class=p>,</span>
<a id=__codelineno-0-3402 name=__codelineno-0-3402></a>                <span class=n>max_turns</span><span class=o>=</span><span class=n>max_turns</span><span class=p>,</span>
<a id=__codelineno-0-3403 name=__codelineno-0-3403></a>                <span class=n>summary_method</span><span class=o>=</span><span class=n>summary_method</span><span class=p>,</span>
<a id=__codelineno-0-3404 name=__codelineno-0-3404></a>            <span class=p>)</span>
<a id=__codelineno-0-3405 name=__codelineno-0-3405></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-3406 name=__codelineno-0-3406></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-0-3407 name=__codelineno-0-3407></a>                <span class=n>executor</span><span class=p>,</span>
<a id=__codelineno-0-3408 name=__codelineno-0-3408></a>                <span class=n>message</span><span class=o>=</span><span class=n>message</span><span class=p>,</span>
<a id=__codelineno-0-3409 name=__codelineno-0-3409></a>                <span class=n>clear_history</span><span class=o>=</span><span class=n>clear_history</span><span class=p>,</span>
<a id=__codelineno-0-3410 name=__codelineno-0-3410></a>                <span class=n>max_turns</span><span class=o>=</span><span class=n>max_turns</span><span class=p>,</span>
<a id=__codelineno-0-3411 name=__codelineno-0-3411></a>                <span class=n>summary_method</span><span class=o>=</span><span class=n>summary_method</span><span class=p>,</span>
<a id=__codelineno-0-3412 name=__codelineno-0-3412></a>            <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_run class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_run</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.a_run class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_run</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>tools</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>executor_kwargs</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=n><span title=autogen.code_utils.DEFAULT_MAX_TURNS>DEFAULT_MAX_TURNS</span></span><span class=p>,</span> <span class=n>msg_to</span><span class=o>=</span><span class=s1>&#39;agent&#39;</span><span class=p>,</span> <span class=n>clear_history</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>user_input</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>summary_method</span><span class=o>=</span><span class=n><a class="autorefs autorefs-internal" title=autogen.agentchat.conversable_agent.ConversableAgent.DEFAULT_SUMMARY_METHOD href=#autogen.agentchat.contrib.swarm_agent.SwarmAgent.DEFAULT_SUMMARY_METHOD>DEFAULT_SUMMARY_METHOD</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Run a chat asynchronously with the agent using the given message.</p> <p>A second agent will be created to represent the user, this agent will by known by the name 'user'.</p> <p>The user can terminate the conversation when prompted or, if agent's reply contains 'TERMINATE', it will terminate.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the message to be processed.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>tools</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the tools to be used by the agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-internal" title=autogen.tools.Tool href=../../../../tools/Tool/#autogen.tools.Tool>Tool</a>, <a class="autorefs autorefs-external" title=typing.Iterable href=https://docs.python.org/3/library/typing.html#typing.Iterable>Iterable</a>[<a class="autorefs autorefs-internal" title=autogen.tools.Tool href=../../../../tools/Tool/#autogen.tools.Tool>Tool</a>]]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>executor_kwargs</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the keyword arguments for the executor.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>max_turns</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>maximum number of turns (a turn is equivalent to both agents having replied), defaults no None which means unlimited. The original message is included.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><span title=autogen.code_utils.DEFAULT_MAX_TURNS>DEFAULT_MAX_TURNS</span></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>msg_to</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>which agent is receiving the message and will be the first to reply, defaults to the agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Literal href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;agent&#39;, &#39;user&#39;]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;agent&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>clear_history</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>whether to clear the chat history.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>user_input</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the user will be asked for input at their turn.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/conversable_agent.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-3414>3414</a></span>
<span class=normal><a href=#__codelineno-0-3415>3415</a></span>
<span class=normal><a href=#__codelineno-0-3416>3416</a></span>
<span class=normal><a href=#__codelineno-0-3417>3417</a></span>
<span class=normal><a href=#__codelineno-0-3418>3418</a></span>
<span class=normal><a href=#__codelineno-0-3419>3419</a></span>
<span class=normal><a href=#__codelineno-0-3420>3420</a></span>
<span class=normal><a href=#__codelineno-0-3421>3421</a></span>
<span class=normal><a href=#__codelineno-0-3422>3422</a></span>
<span class=normal><a href=#__codelineno-0-3423>3423</a></span>
<span class=normal><a href=#__codelineno-0-3424>3424</a></span>
<span class=normal><a href=#__codelineno-0-3425>3425</a></span>
<span class=normal><a href=#__codelineno-0-3426>3426</a></span>
<span class=normal><a href=#__codelineno-0-3427>3427</a></span>
<span class=normal><a href=#__codelineno-0-3428>3428</a></span>
<span class=normal><a href=#__codelineno-0-3429>3429</a></span>
<span class=normal><a href=#__codelineno-0-3430>3430</a></span>
<span class=normal><a href=#__codelineno-0-3431>3431</a></span>
<span class=normal><a href=#__codelineno-0-3432>3432</a></span>
<span class=normal><a href=#__codelineno-0-3433>3433</a></span>
<span class=normal><a href=#__codelineno-0-3434>3434</a></span>
<span class=normal><a href=#__codelineno-0-3435>3435</a></span>
<span class=normal><a href=#__codelineno-0-3436>3436</a></span>
<span class=normal><a href=#__codelineno-0-3437>3437</a></span>
<span class=normal><a href=#__codelineno-0-3438>3438</a></span>
<span class=normal><a href=#__codelineno-0-3439>3439</a></span>
<span class=normal><a href=#__codelineno-0-3440>3440</a></span>
<span class=normal><a href=#__codelineno-0-3441>3441</a></span>
<span class=normal><a href=#__codelineno-0-3442>3442</a></span>
<span class=normal><a href=#__codelineno-0-3443>3443</a></span>
<span class=normal><a href=#__codelineno-0-3444>3444</a></span>
<span class=normal><a href=#__codelineno-0-3445>3445</a></span>
<span class=normal><a href=#__codelineno-0-3446>3446</a></span>
<span class=normal><a href=#__codelineno-0-3447>3447</a></span>
<span class=normal><a href=#__codelineno-0-3448>3448</a></span>
<span class=normal><a href=#__codelineno-0-3449>3449</a></span>
<span class=normal><a href=#__codelineno-0-3450>3450</a></span>
<span class=normal><a href=#__codelineno-0-3451>3451</a></span>
<span class=normal><a href=#__codelineno-0-3452>3452</a></span>
<span class=normal><a href=#__codelineno-0-3453>3453</a></span>
<span class=normal><a href=#__codelineno-0-3454>3454</a></span>
<span class=normal><a href=#__codelineno-0-3455>3455</a></span>
<span class=normal><a href=#__codelineno-0-3456>3456</a></span>
<span class=normal><a href=#__codelineno-0-3457>3457</a></span>
<span class=normal><a href=#__codelineno-0-3458>3458</a></span>
<span class=normal><a href=#__codelineno-0-3459>3459</a></span>
<span class=normal><a href=#__codelineno-0-3460>3460</a></span>
<span class=normal><a href=#__codelineno-0-3461>3461</a></span>
<span class=normal><a href=#__codelineno-0-3462>3462</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-3414 name=__codelineno-0-3414></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_run</span><span class=p>(</span>
<a id=__codelineno-0-3415 name=__codelineno-0-3415></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-3416 name=__codelineno-0-3416></a>    <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<a id=__codelineno-0-3417 name=__codelineno-0-3417></a>    <span class=o>*</span><span class=p>,</span>
<a id=__codelineno-0-3418 name=__codelineno-0-3418></a>    <span class=n>tools</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=n>Tool</span><span class=p>,</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>Tool</span><span class=p>]]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-3419 name=__codelineno-0-3419></a>    <span class=n>executor_kwargs</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-3420 name=__codelineno-0-3420></a>    <span class=n>max_turns</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=n>DEFAULT_MAX_TURNS</span><span class=p>,</span>
<a id=__codelineno-0-3421 name=__codelineno-0-3421></a>    <span class=n>msg_to</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;agent&quot;</span><span class=p>,</span> <span class=s2>&quot;user&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;agent&quot;</span><span class=p>,</span>
<a id=__codelineno-0-3422 name=__codelineno-0-3422></a>    <span class=n>clear_history</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-3423 name=__codelineno-0-3423></a>    <span class=n>user_input</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-0-3424 name=__codelineno-0-3424></a>    <span class=n>summary_method</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Callable</span><span class=p>[</span><span class=o>...</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]</span> <span class=o>=</span> <span class=n>DEFAULT_SUMMARY_METHOD</span><span class=p>,</span>
<a id=__codelineno-0-3425 name=__codelineno-0-3425></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ChatResult</span><span class=p>:</span>
<a id=__codelineno-0-3426 name=__codelineno-0-3426></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Run a chat asynchronously with the agent using the given message.</span>
<a id=__codelineno-0-3427 name=__codelineno-0-3427></a>
<a id=__codelineno-0-3428 name=__codelineno-0-3428></a><span class=sd>    A second agent will be created to represent the user, this agent will by known by the name &#39;user&#39;.</span>
<a id=__codelineno-0-3429 name=__codelineno-0-3429></a>
<a id=__codelineno-0-3430 name=__codelineno-0-3430></a><span class=sd>    The user can terminate the conversation when prompted or, if agent&#39;s reply contains &#39;TERMINATE&#39;, it will terminate.</span>
<a id=__codelineno-0-3431 name=__codelineno-0-3431></a>
<a id=__codelineno-0-3432 name=__codelineno-0-3432></a><span class=sd>    Args:</span>
<a id=__codelineno-0-3433 name=__codelineno-0-3433></a><span class=sd>        message: the message to be processed.</span>
<a id=__codelineno-0-3434 name=__codelineno-0-3434></a><span class=sd>        tools: the tools to be used by the agent.</span>
<a id=__codelineno-0-3435 name=__codelineno-0-3435></a><span class=sd>        executor_kwargs: the keyword arguments for the executor.</span>
<a id=__codelineno-0-3436 name=__codelineno-0-3436></a><span class=sd>        max_turns: maximum number of turns (a turn is equivalent to both agents having replied), defaults no None which means unlimited. The original message is included.</span>
<a id=__codelineno-0-3437 name=__codelineno-0-3437></a><span class=sd>        msg_to: which agent is receiving the message and will be the first to reply, defaults to the agent.</span>
<a id=__codelineno-0-3438 name=__codelineno-0-3438></a><span class=sd>        clear_history: whether to clear the chat history.</span>
<a id=__codelineno-0-3439 name=__codelineno-0-3439></a><span class=sd>        user_input: the user will be asked for input at their turn.</span>
<a id=__codelineno-0-3440 name=__codelineno-0-3440></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-3441 name=__codelineno-0-3441></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_or_get_executor</span><span class=p>(</span>
<a id=__codelineno-0-3442 name=__codelineno-0-3442></a>        <span class=n>executor_kwargs</span><span class=o>=</span><span class=n>executor_kwargs</span><span class=p>,</span>
<a id=__codelineno-0-3443 name=__codelineno-0-3443></a>        <span class=n>tools</span><span class=o>=</span><span class=n>tools</span><span class=p>,</span>
<a id=__codelineno-0-3444 name=__codelineno-0-3444></a>        <span class=n>agent_name</span><span class=o>=</span><span class=s2>&quot;user&quot;</span><span class=p>,</span>
<a id=__codelineno-0-3445 name=__codelineno-0-3445></a>        <span class=n>agent_human_input_mode</span><span class=o>=</span><span class=s2>&quot;ALWAYS&quot;</span> <span class=k>if</span> <span class=n>user_input</span> <span class=k>else</span> <span class=s2>&quot;NEVER&quot;</span><span class=p>,</span>
<a id=__codelineno-0-3446 name=__codelineno-0-3446></a>    <span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
<a id=__codelineno-0-3447 name=__codelineno-0-3447></a>        <span class=k>if</span> <span class=n>msg_to</span> <span class=o>==</span> <span class=s2>&quot;agent&quot;</span><span class=p>:</span>
<a id=__codelineno-0-3448 name=__codelineno-0-3448></a>            <span class=k>return</span> <span class=k>await</span> <span class=n>executor</span><span class=o>.</span><span class=n>a_initiate_chat</span><span class=p>(</span>
<a id=__codelineno-0-3449 name=__codelineno-0-3449></a>                <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-3450 name=__codelineno-0-3450></a>                <span class=n>message</span><span class=o>=</span><span class=n>message</span><span class=p>,</span>
<a id=__codelineno-0-3451 name=__codelineno-0-3451></a>                <span class=n>clear_history</span><span class=o>=</span><span class=n>clear_history</span><span class=p>,</span>
<a id=__codelineno-0-3452 name=__codelineno-0-3452></a>                <span class=n>max_turns</span><span class=o>=</span><span class=n>max_turns</span><span class=p>,</span>
<a id=__codelineno-0-3453 name=__codelineno-0-3453></a>                <span class=n>summary_method</span><span class=o>=</span><span class=n>summary_method</span><span class=p>,</span>
<a id=__codelineno-0-3454 name=__codelineno-0-3454></a>            <span class=p>)</span>
<a id=__codelineno-0-3455 name=__codelineno-0-3455></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-3456 name=__codelineno-0-3456></a>            <span class=k>return</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_initiate_chat</span><span class=p>(</span>
<a id=__codelineno-0-3457 name=__codelineno-0-3457></a>                <span class=n>executor</span><span class=p>,</span>
<a id=__codelineno-0-3458 name=__codelineno-0-3458></a>                <span class=n>message</span><span class=o>=</span><span class=n>message</span><span class=p>,</span>
<a id=__codelineno-0-3459 name=__codelineno-0-3459></a>                <span class=n>clear_history</span><span class=o>=</span><span class=n>clear_history</span><span class=p>,</span>
<a id=__codelineno-0-3460 name=__codelineno-0-3460></a>                <span class=n>max_turns</span><span class=o>=</span><span class=n>max_turns</span><span class=p>,</span>
<a id=__codelineno-0-3461 name=__codelineno-0-3461></a>                <span class=n>summary_method</span><span class=o>=</span><span class=n>summary_method</span><span class=p>,</span>
<a id=__codelineno-0-3462 name=__codelineno-0-3462></a>            <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-03-02T23:22:59+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-03-02</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ON_CONDITION/ class="md-footer__link md-footer__link--prev" aria-label="Previous: ON_CONDITION"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> ON_CONDITION </div> </div> </a> <a href=../SwarmResult/ class="md-footer__link md-footer__link--next" aria-label="Next: SwarmResult"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> SwarmResult </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../../../assets/javascripts/bundle.f1b6f286.min.js></script> <script src=../../../../../../../js/timeago.min.js></script> <script src=../../../../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>
---
sidebarTitle: VectorDB
title: autogen.agentchat.contrib.vectordb.base.VectorDB
---
<h2 id="autogen.agentchat.contrib.vectordb.base.VectorDB" class="doc doc-heading">
    <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>
    <span class="doc doc-object-name doc-class-name">VectorDB</span>
</h2>

```python
VectorDB(*args, **kwargs)
```

    Abstract class for vector database. A vector database is responsible for storing and retrieving documents.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `*args` |  |
| `**kwargs` |  |

### Class Attributes

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### active_collection
<br />

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### embedding_function
<br />

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### type
<br />

    <br />

### Instance Methods

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### create_collection

```python
create_collection(
    self,
    collection_name: str,
    overwrite: bool = False,
    get_or_create: bool = True
) -> Any
```

    Create a collection in the vector database.<br/>Case 1. if the collection does not exist, create the collection.<br/>Case 2. the collection exists, if overwrite is True, it will overwrite the collection.<br/>Case 3. the collection exists and overwrite is False, if get_or_create is True, it will get the collection,
        otherwise it raise a ValueError.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `collection_name` | str | The name of the collection.<br/><br/>**Type:** str |
| `overwrite` | bool | Whether to overwrite the collection if it exists.<br/><br/>Default is False.<br/><br/>**Type:** bool<br/><br/>**Default:** False |
| `get_or_create` | bool | Whether to get the collection if it exists.<br/><br/>Default is True.<br/><br/>**Type:** bool<br/><br/>**Default:** True |

<b>Returns:</b>
| Type | Description |
|--|--|
| Any | Any \| The collection object. |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### delete_collection

```python
delete_collection(self, collection_name: str) -> Any
```

    Delete the collection from the vector database.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `collection_name` | str | The name of the collection.<br/><br/>**Type:** str |

<b>Returns:</b>
| Type | Description |
|--|--|
| Any | Any |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### delete_docs

```python
delete_docs(
    self,
    ids: list[str | int],
    collection_name: str = None,
    **kwargs
) -> None
```

    Delete documents from the collection of the vector database.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `ids` | List[ItemID] | A list of document ids.<br/><br/>Each id is a typed `ItemID`.<br/><br/>**Type:** list[str \| int] |
| `collection_name` | str | The name of the collection.<br/><br/>Default is None.<br/><br/>**Type:** str<br/><br/>**Default:** None |
| `**kwargs` |  |

<b>Returns:</b>
| Type | Description |
|--|--|
| None | None |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### get_collection

```python
get_collection(self, collection_name: str = None) -> Any
```

    Get the collection from the vector database.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `collection_name` | str | The name of the collection.<br/><br/>Default is None.<br/><br/>If None, return the current active collection.<br/><br/>**Type:** str<br/><br/>**Default:** None |

<b>Returns:</b>
| Type | Description |
|--|--|
| Any | Any \| The collection object. |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### get_docs_by_ids

```python
get_docs_by_ids(
    self,
    ids: list[str | int] = None,
    collection_name: str = None,
    include: list[str] | None = None,
    **kwargs: Any
) -> list[Document]
```

    Retrieve documents from the collection of the vector database based on the ids.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `ids` | List[ItemID] | A list of document ids.<br/><br/>If None, will return all the documents.<br/><br/>Default is None.<br/><br/>**Type:** list[str \| int]<br/><br/>**Default:** None |
| `collection_name` | str | The name of the collection.<br/><br/>Default is None.<br/><br/>**Type:** str<br/><br/>**Default:** None |
| `include` | List[str] | The fields to include.<br/><br/>Default is None.<br/><br/>If None, will include ["metadatas", "documents"], ids will always be included.<br/><br/>This may differ depending on the implementation.<br/><br/>**Type:** list[str] \| None<br/><br/>**Default:** None |
| `**kwargs` | **Type:** Any |

<b>Returns:</b>
| Type | Description |
|--|--|
| list[[Document](/docs/api-reference/autogen/agentchat/contrib/vectordb/base/Document)] | List[Document] \| The results. |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### insert_docs

```python
insert_docs(
    self,
    docs: list[Document],
    collection_name: str = None,
    upsert: bool = False,
    **kwargs
) -> None
```

    Insert documents into the collection of the vector database.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `docs` | List[Document] | A list of documents.<br/><br/>Each document is a TypedDict `Document`.<br/><br/>**Type:** list[[Document](/docs/api-reference/autogen/agentchat/contrib/vectordb/base/Document)] |
| `collection_name` | str | The name of the collection.<br/><br/>Default is None.<br/><br/>**Type:** str<br/><br/>**Default:** None |
| `upsert` | bool | Whether to update the document if it exists.<br/><br/>Default is False.<br/><br/>**Type:** bool<br/><br/>**Default:** False |
| `**kwargs` |  |

<b>Returns:</b>
| Type | Description |
|--|--|
| None | None |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### retrieve_docs

```python
retrieve_docs(
    self,
    queries: list[str],
    collection_name: str = None,
    n_results: int = 10,
    distance_threshold: float = -1,
    **kwargs: Any
) -> list[list[tuple[Document, float]]]
```

    Retrieve documents from the collection of the vector database based on the queries.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `queries` | List[str] | A list of queries.<br/><br/>Each query is a string.<br/><br/>**Type:** list[str] |
| `collection_name` | str | The name of the collection.<br/><br/>Default is None.<br/><br/>**Type:** str<br/><br/>**Default:** None |
| `n_results` | int | The number of relevant documents to return.<br/><br/>Default is 10.<br/><br/>**Type:** int<br/><br/>**Default:** 10 |
| `distance_threshold` | float | The threshold for the distance score, only distance smaller than it will be returned.<br/><br/>Don't filter with it if  0. Default is -1.<br/><br/>**Type:** float<br/><br/>**Default:** -1 |
| `**kwargs` | **Type:** Any |

<b>Returns:</b>
| Type | Description |
|--|--|
| list[list[tuple[[Document](/docs/api-reference/autogen/agentchat/contrib/vectordb/base/Document), float]]] | QueryResults \| The query results. Each query result is a list of list of tuples containing the document and the distance. |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### update_docs

```python
update_docs(
    self,
    docs: list[Document],
    collection_name: str = None,
    **kwargs
) -> None
```

    Update documents in the collection of the vector database.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `docs` | List[Document] | A list of documents.<br/><br/>**Type:** list[[Document](/docs/api-reference/autogen/agentchat/contrib/vectordb/base/Document)] |
| `collection_name` | str | The name of the collection.<br/><br/>Default is None.<br/><br/>**Type:** str<br/><br/>**Default:** None |
| `**kwargs` |  |

<b>Returns:</b>
| Type | Description |
|--|--|
| None | None |

<br />
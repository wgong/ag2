<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=https://ag2ai.github.io/ag2/latest/docs/api-reference/autogen/agentchat/contrib/captainagent/AgentBuilder/ rel=canonical><link href=../../../chat/a_initiate_chats/ rel=prev><link href=../CaptainAgent/ rel=next><link rel=icon href=../../../../../../../assets/img/favicon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.4"><title>AgentBuilder - AG2</title><link rel=stylesheet href=../../../../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../../../css/timeago.css><link rel=stylesheet href=../../../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../../../stylesheets/extra.7747e8.min.css><script>__md_scope=new URL("../../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - AgentBuilder"><meta property=og:description content="A programming framework for agentic AI"><meta content=https://ag2ai.github.io/ag2/latest/docs/api-reference/autogen/agentchat/contrib/captainagent/AgentBuilder/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - AgentBuilder"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link href=../../../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> You're viewing the <strong class=primary-text>work in progress</strong> version of the documentation. Please click <a rel=me href=http://docs.ag2.ai><strong>here</strong></a> for the latest. </div> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> AgentBuilder </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../../../home/home/ class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../../../../user-guide/basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../AfterWork/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../../../../faq/FAQ/ class=md-tabs__link> FAQs </a> </li> <li class=md-tabs__item> <a href=../../../../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../home/home/ class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../user-guide/basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> autogen </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> autogen </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../AfterWork/ class=md-nav__link> <span class=md-ellipsis> AfterWork </span> </a> </li> <li class=md-nav__item> <a href=../../../../AfterWorkOption/ class=md-nav__link> <span class=md-ellipsis> AfterWorkOption </span> </a> </li> <li class=md-nav__item> <a href=../../../../Agent/ class=md-nav__link> <span class=md-ellipsis> Agent </span> </a> </li> <li class=md-nav__item> <a href=../../../../AgentNameConflictError/ class=md-nav__link> <span class=md-ellipsis> AgentNameConflictError </span> </a> </li> <li class=md-nav__item> <a href=../../../../AssistantAgent/ class=md-nav__link> <span class=md-ellipsis> AssistantAgent </span> </a> </li> <li class=md-nav__item> <a href=../../../../Cache/ class=md-nav__link> <span class=md-ellipsis> Cache </span> </a> </li> <li class=md-nav__item> <a href=../../../../ChatCompletion/ class=md-nav__link> <span class=md-ellipsis> ChatCompletion </span> </a> </li> <li class=md-nav__item> <a href=../../../../ChatResult/ class=md-nav__link> <span class=md-ellipsis> ChatResult </span> </a> </li> <li class=md-nav__item> <a href=../../../../Completion/ class=md-nav__link> <span class=md-ellipsis> Completion </span> </a> </li> <li class=md-nav__item> <a href=../../../../ConversableAgent/ class=md-nav__link> <span class=md-ellipsis> ConversableAgent </span> </a> </li> <li class=md-nav__item> <a href=../../../../GroupChat/ class=md-nav__link> <span class=md-ellipsis> GroupChat </span> </a> </li> <li class=md-nav__item> <a href=../../../../GroupChatManager/ class=md-nav__link> <span class=md-ellipsis> GroupChatManager </span> </a> </li> <li class=md-nav__item> <a href=../../../../InvalidCarryOverTypeError/ class=md-nav__link> <span class=md-ellipsis> InvalidCarryOverTypeError </span> </a> </li> <li class=md-nav__item> <a href=../../../../ModelClient/ class=md-nav__link> <span class=md-ellipsis> ModelClient </span> </a> </li> <li class=md-nav__item> <a href=../../../../NoEligibleSpeakerError/ class=md-nav__link> <span class=md-ellipsis> NoEligibleSpeakerError </span> </a> </li> <li class=md-nav__item> <a href=../../../../OnCondition/ class=md-nav__link> <span class=md-ellipsis> OnCondition </span> </a> </li> <li class=md-nav__item> <a href=../../../../OpenAIWrapper/ class=md-nav__link> <span class=md-ellipsis> OpenAIWrapper </span> </a> </li> <li class=md-nav__item> <a href=../../../../ReasoningAgent/ class=md-nav__link> <span class=md-ellipsis> ReasoningAgent </span> </a> </li> <li class=md-nav__item> <a href=../../../../SenderRequiredError/ class=md-nav__link> <span class=md-ellipsis> SenderRequiredError </span> </a> </li> <li class=md-nav__item> <a href=../../../../ThinkNode/ class=md-nav__link> <span class=md-ellipsis> ThinkNode </span> </a> </li> <li class=md-nav__item> <a href=../../../../UndefinedNextAgentError/ class=md-nav__link> <span class=md-ellipsis> UndefinedNextAgentError </span> </a> </li> <li class=md-nav__item> <a href=../../../../UserProxyAgent/ class=md-nav__link> <span class=md-ellipsis> UserProxyAgent </span> </a> </li> <li class=md-nav__item> <a href=../../../../a_initiate_swarm_chat/ class=md-nav__link> <span class=md-ellipsis> a_initiate_swarm_chat </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_from_dotenv/ class=md-nav__link> <span class=md-ellipsis> config_list_from_dotenv </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_from_json/ class=md-nav__link> <span class=md-ellipsis> config_list_from_json </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_from_models/ class=md-nav__link> <span class=md-ellipsis> config_list_from_models </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_gpt4_gpt35/ class=md-nav__link> <span class=md-ellipsis> config_list_gpt4_gpt35 </span> </a> </li> <li class=md-nav__item> <a href=../../../../config_list_openai_aoai/ class=md-nav__link> <span class=md-ellipsis> config_list_openai_aoai </span> </a> </li> <li class=md-nav__item> <a href=../../../../filter_config/ class=md-nav__link> <span class=md-ellipsis> filter_config </span> </a> </li> <li class=md-nav__item> <a href=../../../../gather_usage_summary/ class=md-nav__link> <span class=md-ellipsis> gather_usage_summary </span> </a> </li> <li class=md-nav__item> <a href=../../../../get_config_list/ class=md-nav__link> <span class=md-ellipsis> get_config_list </span> </a> </li> <li class=md-nav__item> <a href=../../../../initiate_chats/ class=md-nav__link> <span class=md-ellipsis> initiate_chats </span> </a> </li> <li class=md-nav__item> <a href=../../../../initiate_swarm_chat/ class=md-nav__link> <span class=md-ellipsis> initiate_swarm_chat </span> </a> </li> <li class=md-nav__item> <a href=../../../../register_function/ class=md-nav__link> <span class=md-ellipsis> register_function </span> </a> </li> <li class=md-nav__item> <a href=../../../../visualize_tree/ class=md-nav__link> <span class=md-ellipsis> visualize_tree </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_36 checked> <label class=md-nav__link for=__nav_3_1_36 id=__nav_3_1_36_label tabindex=0> <span class=md-ellipsis> agentchat </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_36_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_36> <span class="md-nav__icon md-icon"></span> agentchat </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../chat/a_initiate_chats/ class=md-nav__link> <span class=md-ellipsis> chat </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_36_2 checked> <label class=md-nav__link for=__nav_3_1_36_2 id=__nav_3_1_36_2_label tabindex=0> <span class=md-ellipsis> contrib </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_36_2_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_36_2> <span class="md-nav__icon md-icon"></span> contrib </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_36_2_1 checked> <label class=md-nav__link for=__nav_3_1_36_2_1 id=__nav_3_1_36_2_1_label tabindex=0> <span class=md-ellipsis> captainagent </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_1_36_2_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_36_2_1> <span class="md-nav__icon md-icon"></span> captainagent </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> AgentBuilder </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> AgentBuilder </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AgentBuilder </span> </a> <nav class=md-nav aria-label= AgentBuilder> <ul class=md-nav__list> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.online_server_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;online_server_name </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.DEFAULT_PROXY_AUTO_REPLY class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_PROXY_AUTO_REPLY </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.GROUP_CHAT_DESCRIPTION class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;GROUP_CHAT_DESCRIPTION </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.DEFAULT_DESCRIPTION class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_DESCRIPTION </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.CODING_AND_TASK_SKILL_INSTRUCTION class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;CODING_AND_TASK_SKILL_INSTRUCTION </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.CODING_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;CODING_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_NAME_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_NAME_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SYS_MSG_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_SYS_MSG_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_DESCRIPTION_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_DESCRIPTION_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SEARCHING_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_SEARCHING_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SELECTION_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_SELECTION_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.builder_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;builder_model </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_model </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_model_tags class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_model_tags </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.config_file_or_env class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;config_file_or_env </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.config_file_location class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;config_file_location </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.building_task class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;building_task </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_configs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_configs </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.open_ports class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;open_ports </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_procs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_procs </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_procs_assign class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_procs_assign </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.cached_configs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;cached_configs </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.max_agents class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;max_agents </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.set_builder_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_builder_model </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.set_agent_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_agent_model </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.clear_agent class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clear_agent </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.clear_all_agents class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clear_all_agents </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.build class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.build_from_library class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build_from_library </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.save class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.load class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../CaptainAgent/ class=md-nav__link> <span class=md-ellipsis> CaptainAgent </span> </a> </li> <li class=md-nav__item> <a href=../ToolBuilder/ class=md-nav__link> <span class=md-ellipsis> ToolBuilder </span> </a> </li> <li class=md-nav__item> <a href=../format_ag2_tool/ class=md-nav__link> <span class=md-ellipsis> format_ag2_tool </span> </a> </li> <li class=md-nav__item> <a href=../get_full_tool_description/ class=md-nav__link> <span class=md-ellipsis> get_full_tool_description </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../graph_rag/document/Document/ class=md-nav__link> <span class=md-ellipsis> graph_rag </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../rag/VectorDbQueryEngine/ class=md-nav__link> <span class=md-ellipsis> rag </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../swarm_agent/AFTER_WORK/ class=md-nav__link> <span class=md-ellipsis> swarm_agent </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../conversable_agent/UPDATE_SYSTEM_MESSAGE/ class=md-nav__link> <span class=md-ellipsis> conversable_agent </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../realtime/experimental/AudioObserver/ class=md-nav__link> <span class=md-ellipsis> realtime </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../agents/contrib/TimeReplyAgent/ class=md-nav__link> <span class=md-ellipsis> agents </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../cache/AbstractCache/ class=md-nav__link> <span class=md-ellipsis> cache </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../coding/CodeBlock/ class=md-nav__link> <span class=md-ellipsis> coding </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../doc_utils/export_module/ class=md-nav__link> <span class=md-ellipsis> doc_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../exception_utils/ModelToolNotSupportedError/ class=md-nav__link> <span class=md-ellipsis> exception_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../import_utils/optional_import_block/ class=md-nav__link> <span class=md-ellipsis> import_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../interop/CrewAIInteroperability/ class=md-nav__link> <span class=md-ellipsis> interop </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../io/IOConsole/ class=md-nav__link> <span class=md-ellipsis> io </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../logger/FileLogger/ class=md-nav__link> <span class=md-ellipsis> logger </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../messages/BaseMessage/ class=md-nav__link> <span class=md-ellipsis> messages </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../oai/oai_models/_models/BaseModel/ class=md-nav__link> <span class=md-ellipsis> oai </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../tools/BaseContext/ class=md-nav__link> <span class=md-ellipsis> tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../faq/FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AgentBuilder </span> </a> <nav class=md-nav aria-label= AgentBuilder> <ul class=md-nav__list> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.online_server_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;online_server_name </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.DEFAULT_PROXY_AUTO_REPLY class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_PROXY_AUTO_REPLY </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.GROUP_CHAT_DESCRIPTION class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;GROUP_CHAT_DESCRIPTION </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.DEFAULT_DESCRIPTION class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_DESCRIPTION </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.CODING_AND_TASK_SKILL_INSTRUCTION class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;CODING_AND_TASK_SKILL_INSTRUCTION </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.CODING_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;CODING_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_NAME_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_NAME_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SYS_MSG_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_SYS_MSG_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_DESCRIPTION_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_DESCRIPTION_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SEARCHING_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_SEARCHING_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SELECTION_PROMPT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;AGENT_SELECTION_PROMPT </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.builder_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;builder_model </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_model </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_model_tags class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_model_tags </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.config_file_or_env class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;config_file_or_env </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.config_file_location class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;config_file_location </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.building_task class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;building_task </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_configs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_configs </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.open_ports class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;open_ports </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_procs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_procs </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_procs_assign class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_procs_assign </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.cached_configs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;cached_configs </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.max_agents class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;max_agents </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.set_builder_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_builder_model </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.set_agent_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_agent_model </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.clear_agent class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clear_agent </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.clear_all_agents class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clear_all_agents </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.build class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.build_from_library class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build_from_library </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.save class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save </span> </a> </li> <li class=md-nav__item> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.load class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/website/mkdocs/docs/docs/api-reference/autogen/agentchat/contrib/captainagent/AgentBuilder.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>AgentBuilder</h1> <div class="doc doc-object doc-class"> <h2 id=autogen.agentchat.contrib.captainagent.AgentBuilder class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">autogen.agentchat.contrib.captainagent.AgentBuilder</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder class=headerlink title="Permanent link">#</a></h2> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>AgentBuilder</span><span class=p>(</span><span class=n>config_file_or_env</span><span class=o>=</span><span class=s1>&#39;OAI_CONFIG_LIST&#39;</span><span class=p>,</span> <span class=n>config_file_location</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>builder_model</span><span class=o>=</span><span class=p>[],</span> <span class=n>agent_model</span><span class=o>=</span><span class=p>[],</span> <span class=n>builder_model_tags</span><span class=o>=</span><span class=p>[],</span> <span class=n>agent_model_tags</span><span class=o>=</span><span class=p>[],</span> <span class=n>max_agents</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents first"> <p>AgentBuilder can help user build an automatic task solving process powered by multi-agent system. Specifically, our building pipeline includes initialize and build.</p> <p>(These APIs are experimental and may change in the future.)</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_file_or_env</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>path or environment of the OpenAI api configs.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;OAI_CONFIG_LIST&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>builder_model</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>specify a model as the backbone of build manager.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>[]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>agent_model</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>specify a model as the backbone of participant agents.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" title=typing.Union href=https://docs.python.org/3/library/typing.html#typing.Union>Union</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>[]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>endpoint_building_timeout</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>timeout for building up an endpoint server.</p> </div> <p> </p> </td> </tr> <tr class=doc-section-item> <td> <code>max_agents</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>max agents for each task.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>5</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-184 name=__codelineno-0-184></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
<a id=__codelineno-0-185 name=__codelineno-0-185></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-186 name=__codelineno-0-186></a>    <span class=n>config_file_or_env</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;OAI_CONFIG_LIST&quot;</span><span class=p>,</span>
<a id=__codelineno-0-187 name=__codelineno-0-187></a>    <span class=n>config_file_location</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
<a id=__codelineno-0-188 name=__codelineno-0-188></a>    <span class=n>builder_model</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>list</span><span class=p>]]</span> <span class=o>=</span> <span class=p>[],</span>
<a id=__codelineno-0-189 name=__codelineno-0-189></a>    <span class=n>agent_model</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>list</span><span class=p>]]</span> <span class=o>=</span> <span class=p>[],</span>
<a id=__codelineno-0-190 name=__codelineno-0-190></a>    <span class=n>builder_model_tags</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>]</span> <span class=o>=</span> <span class=p>[],</span>
<a id=__codelineno-0-191 name=__codelineno-0-191></a>    <span class=n>agent_model_tags</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>]</span> <span class=o>=</span> <span class=p>[],</span>
<a id=__codelineno-0-192 name=__codelineno-0-192></a>    <span class=n>max_agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span>
<a id=__codelineno-0-193 name=__codelineno-0-193></a><span class=p>):</span>
<a id=__codelineno-0-194 name=__codelineno-0-194></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(These APIs are experimental and may change in the future.)</span>
<a id=__codelineno-0-195 name=__codelineno-0-195></a>
<a id=__codelineno-0-196 name=__codelineno-0-196></a><span class=sd>    Args:</span>
<a id=__codelineno-0-197 name=__codelineno-0-197></a><span class=sd>        config_file_or_env: path or environment of the OpenAI api configs.</span>
<a id=__codelineno-0-198 name=__codelineno-0-198></a><span class=sd>        builder_model: specify a model as the backbone of build manager.</span>
<a id=__codelineno-0-199 name=__codelineno-0-199></a><span class=sd>        agent_model: specify a model as the backbone of participant agents.</span>
<a id=__codelineno-0-200 name=__codelineno-0-200></a><span class=sd>        endpoint_building_timeout: timeout for building up an endpoint server.</span>
<a id=__codelineno-0-201 name=__codelineno-0-201></a><span class=sd>        max_agents: max agents for each task.</span>
<a id=__codelineno-0-202 name=__codelineno-0-202></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-203 name=__codelineno-0-203></a>    <span class=n>builder_model</span> <span class=o>=</span> <span class=n>builder_model</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>builder_model</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span> <span class=k>else</span> <span class=p>[</span><span class=n>builder_model</span><span class=p>]</span>
<a id=__codelineno-0-204 name=__codelineno-0-204></a>    <span class=n>builder_filter_dict</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-0-205 name=__codelineno-0-205></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>builder_model</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-206 name=__codelineno-0-206></a>        <span class=n>builder_filter_dict</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=n>builder_model</span><span class=p>})</span>
<a id=__codelineno-0-207 name=__codelineno-0-207></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>builder_model_tags</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-208 name=__codelineno-0-208></a>        <span class=n>builder_filter_dict</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=s2>&quot;tags&quot;</span><span class=p>:</span> <span class=n>builder_model_tags</span><span class=p>})</span>
<a id=__codelineno-0-209 name=__codelineno-0-209></a>    <span class=n>builder_config_list</span> <span class=o>=</span> <span class=n>config_list_from_json</span><span class=p>(</span>
<a id=__codelineno-0-210 name=__codelineno-0-210></a>        <span class=n>config_file_or_env</span><span class=p>,</span> <span class=n>file_location</span><span class=o>=</span><span class=n>config_file_location</span><span class=p>,</span> <span class=n>filter_dict</span><span class=o>=</span><span class=n>builder_filter_dict</span>
<a id=__codelineno-0-211 name=__codelineno-0-211></a>    <span class=p>)</span>
<a id=__codelineno-0-212 name=__codelineno-0-212></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>builder_config_list</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-213 name=__codelineno-0-213></a>        <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span>
<a id=__codelineno-0-214 name=__codelineno-0-214></a>            <span class=sa>f</span><span class=s2>&quot;Fail to initialize build manager: </span><span class=si>{</span><span class=n>builder_model</span><span class=si>}{</span><span class=n>builder_model_tags</span><span class=si>}</span><span class=s2> does not exist in </span><span class=si>{</span><span class=n>config_file_or_env</span><span class=si>}</span><span class=s2>. &quot;</span>
<a id=__codelineno-0-215 name=__codelineno-0-215></a>            <span class=sa>f</span><span class=s1>&#39;If you want to change this model, please specify the &quot;builder_model&quot; in the constructor.&#39;</span>
<a id=__codelineno-0-216 name=__codelineno-0-216></a>        <span class=p>)</span>
<a id=__codelineno-0-217 name=__codelineno-0-217></a>    <span class=bp>self</span><span class=o>.</span><span class=n>builder_model</span> <span class=o>=</span> <span class=n>OpenAIWrapper</span><span class=p>(</span><span class=n>config_list</span><span class=o>=</span><span class=n>builder_config_list</span><span class=p>)</span>
<a id=__codelineno-0-218 name=__codelineno-0-218></a>
<a id=__codelineno-0-219 name=__codelineno-0-219></a>    <span class=bp>self</span><span class=o>.</span><span class=n>agent_model</span> <span class=o>=</span> <span class=n>agent_model</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>agent_model</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span> <span class=k>else</span> <span class=p>[</span><span class=n>agent_model</span><span class=p>]</span>
<a id=__codelineno-0-220 name=__codelineno-0-220></a>    <span class=bp>self</span><span class=o>.</span><span class=n>agent_model_tags</span> <span class=o>=</span> <span class=n>agent_model_tags</span>
<a id=__codelineno-0-221 name=__codelineno-0-221></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_file_or_env</span> <span class=o>=</span> <span class=n>config_file_or_env</span>
<a id=__codelineno-0-222 name=__codelineno-0-222></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_file_location</span> <span class=o>=</span> <span class=n>config_file_location</span>
<a id=__codelineno-0-223 name=__codelineno-0-223></a>
<a id=__codelineno-0-224 name=__codelineno-0-224></a>    <span class=bp>self</span><span class=o>.</span><span class=n>building_task</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-0-225 name=__codelineno-0-225></a>    <span class=bp>self</span><span class=o>.</span><span class=n>agent_configs</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-226 name=__codelineno-0-226></a>    <span class=bp>self</span><span class=o>.</span><span class=n>open_ports</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-227 name=__codelineno-0-227></a>    <span class=bp>self</span><span class=o>.</span><span class=n>agent_procs</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>sp</span><span class=o>.</span><span class=n>Popen</span><span class=p>,</span> <span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-0-228 name=__codelineno-0-228></a>    <span class=bp>self</span><span class=o>.</span><span class=n>agent_procs_assign</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>ConversableAgent</span><span class=p>,</span> <span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-0-229 name=__codelineno-0-229></a>    <span class=bp>self</span><span class=o>.</span><span class=n>cached_configs</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-0-230 name=__codelineno-0-230></a>
<a id=__codelineno-0-231 name=__codelineno-0-231></a>    <span class=bp>self</span><span class=o>.</span><span class=n>max_agents</span> <span class=o>=</span> <span class=n>max_agents</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.online_server_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">online_server_name</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.online_server_name class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>online_server_name</span> <span class=o>=</span> <span class=s1>&#39;online&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.DEFAULT_PROXY_AUTO_REPLY class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">DEFAULT_PROXY_AUTO_REPLY</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.DEFAULT_PROXY_AUTO_REPLY class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>DEFAULT_PROXY_AUTO_REPLY</span> <span class=o>=</span> <span class=s1>&#39;There is no code from the last 1 message for me to execute. Group chat manager should let other participants to continue the conversation. If the group chat manager want to end the conversation, you should let other participant reply me only with &quot;TERMINATE&quot;&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.GROUP_CHAT_DESCRIPTION class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">GROUP_CHAT_DESCRIPTION</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.GROUP_CHAT_DESCRIPTION class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>GROUP_CHAT_DESCRIPTION</span> <span class=o>=</span> <span class=s1>&#39; # Group chat instruction</span><span class=se>\n</span><span class=s1>You are now working in a group chat with different expert and a group chat manager.</span><span class=se>\n</span><span class=s1>You should refer to the previous message from other participant members or yourself, follow their topic and reply to them.</span><span class=se>\n\n</span><span class=s1>**Your role is**: </span><span class=si>{name}</span><span class=se>\n</span><span class=s1>Group chat members: </span><span class=si>{members}{user_proxy_desc}</span><span class=se>\n\n</span><span class=s1>When the task is complete and the result has been carefully verified, after obtaining agreement from the other members, you can end the conversation by replying only with &quot;TERMINATE&quot;.</span><span class=se>\n\n</span><span class=s1># Your profile</span><span class=se>\n</span><span class=si>{sys_msg}</span><span class=se>\n</span><span class=s1>&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.DEFAULT_DESCRIPTION class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">DEFAULT_DESCRIPTION</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.DEFAULT_DESCRIPTION class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>DEFAULT_DESCRIPTION</span> <span class=o>=</span> <span class=s2>&quot;## Your role</span><span class=se>\n</span><span class=s2>[Complete this part with expert&#39;s name and skill description]</span><span class=se>\n\n</span><span class=s2>## Task and skill instructions</span><span class=se>\n</span><span class=s2>- [Complete this part with task description]</span><span class=se>\n</span><span class=s2>- [Complete this part with skill description]</span><span class=se>\n</span><span class=s2>- [(Optional) Complete this part with other information]</span><span class=se>\n</span><span class=s2>&quot;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.CODING_AND_TASK_SKILL_INSTRUCTION class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">CODING_AND_TASK_SKILL_INSTRUCTION</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.CODING_AND_TASK_SKILL_INSTRUCTION class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>CODING_AND_TASK_SKILL_INSTRUCTION</span> <span class=o>=</span> <span class=s2>&quot;## Useful instructions for task-solving</span><span class=se>\n</span><span class=s2>- Solve the task step by step if you need to.</span><span class=se>\n</span><span class=s2>- When you find an answer, verify the answer carefully. Include verifiable evidence with possible test case in your response if possible.</span><span class=se>\n</span><span class=s2>- All your reply should be based on the provided facts.</span><span class=se>\n\n</span><span class=s2>## How to verify?</span><span class=se>\n</span><span class=s2>**You have to keep believing that everyone else&#39;s answers are wrong until they provide clear enough evidence.**</span><span class=se>\n</span><span class=s2>- Verifying with step-by-step backward reasoning.</span><span class=se>\n</span><span class=s2>- Write test cases according to the general task.</span><span class=se>\n\n</span><span class=s2>## How to use code?</span><span class=se>\n</span><span class=s2>- Suggest python code (in a python coding block) or shell script (in a sh coding block) for the Computer_terminal to execute.</span><span class=se>\n</span><span class=s2>- If missing python packages, you can install the package by suggesting a `pip install` code in the ```sh ... ``` block.</span><span class=se>\n</span><span class=s2>- When using code, you must indicate the script type in the coding block.</span><span class=se>\n</span><span class=s2>- Do not the coding block which requires users to modify.</span><span class=se>\n</span><span class=s2>- Do not suggest a coding block if it&#39;s not intended to be executed by the Computer_terminal.</span><span class=se>\n</span><span class=s2>- The Computer_terminal cannot modify your code.</span><span class=se>\n</span><span class=s2>- **Use &#39;print&#39; function for the output when relevant**.</span><span class=se>\n</span><span class=s2>- Check the execution result returned by the Computer_terminal.</span><span class=se>\n</span><span class=s2>- Do not ask Computer_terminal to copy and paste the result.</span><span class=se>\n</span><span class=s2>- If the result indicates there is an error, fix the error and output the code again. &quot;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.CODING_PROMPT class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">CODING_PROMPT</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.CODING_PROMPT class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>CODING_PROMPT</span> <span class=o>=</span> <span class=s1>&#39;Does the following task need programming (i.e., access external API or tool by coding) to solve,</span><span class=se>\n</span><span class=s1>or coding may help the following task become easier?</span><span class=se>\n\n</span><span class=s1>TASK: </span><span class=si>{task}</span><span class=se>\n\n</span><span class=s1>Answer only YES or NO.</span><span class=se>\n</span><span class=s1>&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_NAME_PROMPT class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">AGENT_NAME_PROMPT</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_NAME_PROMPT class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>AGENT_NAME_PROMPT</span> <span class=o>=</span> <span class=s1>&#39;# Your task</span><span class=se>\n</span><span class=s1>Suggest no more than </span><span class=si>{max_agents}</span><span class=s1> experts with their name according to the following user requirement.</span><span class=se>\n\n</span><span class=s1>## User requirement</span><span class=se>\n</span><span class=si>{task}</span><span class=se>\n\n</span><span class=s1># Task requirement</span><span class=se>\n</span><span class=s1>- Expert</span><span class=se>\&#39;</span><span class=s1>s name should follow the format: [skill]_Expert.</span><span class=se>\n</span><span class=s1>- Only reply the names of the experts, separated by &quot;,&quot;.</span><span class=se>\n</span><span class=s1>- If coding skills are required, they should be limited to Python and Shell.</span><span class=se>\n</span><span class=s1>For example: Python_Expert, Math_Expert, ... &#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SYS_MSG_PROMPT class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">AGENT_SYS_MSG_PROMPT</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SYS_MSG_PROMPT class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>AGENT_SYS_MSG_PROMPT</span> <span class=o>=</span> <span class=s1>&#39;# Your goal</span><span class=se>\n</span><span class=s1>- According to the task and expert name, write a high-quality description for the expert by filling the given template.</span><span class=se>\n</span><span class=s1>- Ensure that your description are clear and unambiguous, and include all necessary information.</span><span class=se>\n\n</span><span class=s1># Task</span><span class=se>\n</span><span class=si>{task}</span><span class=se>\n\n</span><span class=s1># Expert name</span><span class=se>\n</span><span class=si>{position}</span><span class=se>\n\n</span><span class=s1># Template</span><span class=se>\n</span><span class=si>{default_sys_msg}</span><span class=se>\n</span><span class=s1>&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_DESCRIPTION_PROMPT class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">AGENT_DESCRIPTION_PROMPT</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_DESCRIPTION_PROMPT class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>AGENT_DESCRIPTION_PROMPT</span> <span class=o>=</span> <span class=s2>&quot;# Your goal</span><span class=se>\n</span><span class=s2>Summarize the following expert&#39;s description in a sentence.</span><span class=se>\n\n</span><span class=s2># Expert name</span><span class=se>\n</span><span class=si>{position}</span><span class=se>\n\n</span><span class=s2># Expert&#39;s description</span><span class=se>\n</span><span class=si>{sys_msg}</span><span class=se>\n</span><span class=s2>&quot;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SEARCHING_PROMPT class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">AGENT_SEARCHING_PROMPT</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SEARCHING_PROMPT class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>AGENT_SEARCHING_PROMPT</span> <span class=o>=</span> <span class=s1>&#39;# Your goal</span><span class=se>\n</span><span class=s1>Considering the following task, what experts should be involved to the task?</span><span class=se>\n\n</span><span class=s1># TASK</span><span class=se>\n</span><span class=si>{task}</span><span class=se>\n\n</span><span class=s1># EXPERT LIST</span><span class=se>\n</span><span class=si>{agent_list}</span><span class=se>\n\n</span><span class=s1># Requirement</span><span class=se>\n</span><span class=s1>- You should consider if the experts</span><span class=se>\&#39;</span><span class=s1> name and profile match the task.</span><span class=se>\n</span><span class=s1>- Considering the effort, you should select less then </span><span class=si>{max_agents}</span><span class=s1> experts; less is better.</span><span class=se>\n</span><span class=s1>- Separate expert names by commas and use &quot;_&quot; instead of space. For example, Product_manager,Programmer</span><span class=se>\n</span><span class=s1>- Only return the list of expert names.</span><span class=se>\n</span><span class=s1>&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SELECTION_PROMPT class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">AGENT_SELECTION_PROMPT</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.AGENT_SELECTION_PROMPT class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>AGENT_SELECTION_PROMPT</span> <span class=o>=</span> <span class=s1>&#39;# Your goal</span><span class=se>\n</span><span class=s1>Match roles in the role set to each expert in expert set.</span><span class=se>\n\n</span><span class=s1># Skill set</span><span class=se>\n</span><span class=si>{skills}</span><span class=se>\n\n</span><span class=s1># Expert pool (formatting with name: description)</span><span class=se>\n</span><span class=si>{expert_pool}</span><span class=se>\n\n</span><span class=s1># Answer format</span><span class=se>\n</span><span class=s1>```json</span><span class=se>\n</span><span class=s1>{{</span><span class=se>\n</span><span class=s1>    &quot;skill_1 description&quot;: &quot;expert_name: expert_description&quot;, // if there exists an expert that suitable for skill_1</span><span class=se>\n</span><span class=s1>    &quot;skill_2 description&quot;: &quot;None&quot;, // if there is no experts that suitable for skill_2</span><span class=se>\n</span><span class=s1>    ...</span><span class=se>\n</span><span class=s1>}}</span><span class=se>\n</span><span class=s1>```</span><span class=se>\n</span><span class=s1>&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.builder_model class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">builder_model</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.builder_model class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>builder_model</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=autogen.OpenAIWrapper href=../../../../OpenAIWrapper/#autogen.OpenAIWrapper>OpenAIWrapper</a></span><span class=p>(</span><span class=n><span title=autogen.OpenAIWrapper(config_list)>config_list</span></span><span class=o>=</span><span class=n><span title=builder_config_list>builder_config_list</span></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.agent_model class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">agent_model</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_model class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>agent_model</span> <span class=o>=</span> <span class=n><span title=autogen.agentchat.contrib.captainagent.agent_builder.AgentBuilder(agent_model)>agent_model</span></span> <span class=k>if</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#isinstance>isinstance</a></span><span class=p>(</span><span class=n><span title=autogen.agentchat.contrib.captainagent.agent_builder.AgentBuilder(agent_model)>agent_model</span></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a></span><span class=p>)</span> <span class=k>else</span> <span class=p>[</span><span class=n><span title=autogen.agentchat.contrib.captainagent.agent_builder.AgentBuilder(agent_model)>agent_model</span></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.agent_model_tags class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">agent_model_tags</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_model_tags class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>agent_model_tags</span> <span class=o>=</span> <span class=n><span title=autogen.agentchat.contrib.captainagent.agent_builder.AgentBuilder(agent_model_tags)>agent_model_tags</span></span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.config_file_or_env class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">config_file_or_env</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.config_file_or_env class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>config_file_or_env</span> <span class=o>=</span> <span class=n><span title=autogen.agentchat.contrib.captainagent.agent_builder.AgentBuilder(config_file_or_env)>config_file_or_env</span></span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.config_file_location class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">config_file_location</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.config_file_location class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>config_file_location</span> <span class=o>=</span> <span class=n><span title=autogen.agentchat.contrib.captainagent.agent_builder.AgentBuilder(config_file_location)>config_file_location</span></span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.building_task class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">building_task</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.building_task class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>building_task</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.agent_configs class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">agent_configs</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_configs class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>agent_configs</span> <span class=o>=</span> <span class=p>[]</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.open_ports class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">open_ports</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.open_ports class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>open_ports</span> <span class=o>=</span> <span class=p>[]</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.agent_procs class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">agent_procs</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_procs class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>agent_procs</span> <span class=o>=</span> <span class=p>{}</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.agent_procs_assign class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">agent_procs_assign</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.agent_procs_assign class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>agent_procs_assign</span> <span class=o>=</span> <span class=p>{}</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.cached_configs class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">cached_configs</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.cached_configs class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>cached_configs</span> <span class=o>=</span> <span class=p>{}</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.max_agents class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">max_agents</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.max_agents class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>max_agents</span> <span class=o>=</span> <span class=n><span title=autogen.agentchat.contrib.captainagent.agent_builder.AgentBuilder(max_agents)>max_agents</span></span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.set_builder_model class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">set_builder_model</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.set_builder_model class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_builder_model</span><span class=p>(</span><span class=n>model</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-233 name=__codelineno-0-233></a><span class=k>def</span><span class=w> </span><span class=nf>set_builder_model</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-0-234 name=__codelineno-0-234></a>    <span class=bp>self</span><span class=o>.</span><span class=n>builder_model</span> <span class=o>=</span> <span class=n>model</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.set_agent_model class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">set_agent_model</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.set_agent_model class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_agent_model</span><span class=p>(</span><span class=n>model</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-236 name=__codelineno-0-236></a><span class=k>def</span><span class=w> </span><span class=nf>set_agent_model</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-0-237 name=__codelineno-0-237></a>    <span class=bp>self</span><span class=o>.</span><span class=n>agent_model</span> <span class=o>=</span> <span class=n>model</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.clear_agent class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">clear_agent</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.clear_agent class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>clear_agent</span><span class=p>(</span><span class=n>agent_name</span><span class=p>,</span> <span class=n>recycle_endpoint</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Clear a specific agent by name.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>agent_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>the name of agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>recycle_endpoint</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>trigger for recycle the endpoint server. If true, the endpoint will be recycled when there is no agent depending on.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-337 name=__codelineno-0-337></a><span class=k>def</span><span class=w> </span><span class=nf>clear_agent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agent_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>recycle_endpoint</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span><span class=p>):</span>
<a id=__codelineno-0-338 name=__codelineno-0-338></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Clear a specific agent by name.</span>
<a id=__codelineno-0-339 name=__codelineno-0-339></a>
<a id=__codelineno-0-340 name=__codelineno-0-340></a><span class=sd>    Args:</span>
<a id=__codelineno-0-341 name=__codelineno-0-341></a><span class=sd>        agent_name: the name of agent.</span>
<a id=__codelineno-0-342 name=__codelineno-0-342></a><span class=sd>        recycle_endpoint: trigger for recycle the endpoint server. If true, the endpoint will be recycled</span>
<a id=__codelineno-0-343 name=__codelineno-0-343></a><span class=sd>            when there is no agent depending on.</span>
<a id=__codelineno-0-344 name=__codelineno-0-344></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-345 name=__codelineno-0-345></a>    <span class=n>_</span><span class=p>,</span> <span class=n>server_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agent_procs_assign</span><span class=p>[</span><span class=n>agent_name</span><span class=p>]</span>
<a id=__codelineno-0-346 name=__codelineno-0-346></a>    <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>agent_procs_assign</span><span class=p>[</span><span class=n>agent_name</span><span class=p>]</span>
<a id=__codelineno-0-347 name=__codelineno-0-347></a>    <span class=k>if</span> <span class=n>recycle_endpoint</span><span class=p>:</span>
<a id=__codelineno-0-348 name=__codelineno-0-348></a>        <span class=k>if</span> <span class=n>server_id</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>online_server_name</span><span class=p>:</span>
<a id=__codelineno-0-349 name=__codelineno-0-349></a>            <span class=k>return</span>
<a id=__codelineno-0-350 name=__codelineno-0-350></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-351 name=__codelineno-0-351></a>            <span class=k>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>iter_sid</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>agent_procs_assign</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
<a id=__codelineno-0-352 name=__codelineno-0-352></a>                <span class=k>if</span> <span class=n>server_id</span> <span class=o>==</span> <span class=n>iter_sid</span><span class=p>:</span>
<a id=__codelineno-0-353 name=__codelineno-0-353></a>                    <span class=k>return</span>
<a id=__codelineno-0-354 name=__codelineno-0-354></a>            <span class=bp>self</span><span class=o>.</span><span class=n>agent_procs</span><span class=p>[</span><span class=n>server_id</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
<a id=__codelineno-0-355 name=__codelineno-0-355></a>            <span class=bp>self</span><span class=o>.</span><span class=n>open_ports</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>server_id</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
<a id=__codelineno-0-356 name=__codelineno-0-356></a>    <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Agent </span><span class=si>{</span><span class=n>agent_name</span><span class=si>}</span><span class=s2> has been cleared.&quot;</span><span class=p>,</span> <span class=s2>&quot;yellow&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.clear_all_agents class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">clear_all_agents</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.clear_all_agents class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>clear_all_agents</span><span class=p>(</span><span class=n>recycle_endpoint</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Clear all cached agents.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-358 name=__codelineno-0-358></a><span class=k>def</span><span class=w> </span><span class=nf>clear_all_agents</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>recycle_endpoint</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span><span class=p>):</span>
<a id=__codelineno-0-359 name=__codelineno-0-359></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Clear all cached agents.&quot;&quot;&quot;</span>
<a id=__codelineno-0-360 name=__codelineno-0-360></a>    <span class=k>for</span> <span class=n>agent_name</span> <span class=ow>in</span> <span class=p>[</span><span class=n>agent_name</span> <span class=k>for</span> <span class=n>agent_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>agent_procs_assign</span><span class=p>]:</span>
<a id=__codelineno-0-361 name=__codelineno-0-361></a>        <span class=bp>self</span><span class=o>.</span><span class=n>clear_agent</span><span class=p>(</span><span class=n>agent_name</span><span class=p>,</span> <span class=n>recycle_endpoint</span><span class=p>)</span>
<a id=__codelineno-0-362 name=__codelineno-0-362></a>    <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=s2>&quot;All agents have been cleared.&quot;</span><span class=p>,</span> <span class=s2>&quot;yellow&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.build class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">build</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.build class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>build</span><span class=p>(</span><span class=n>building_task</span><span class=p>,</span> <span class=n>default_llm_config</span><span class=p>,</span> <span class=n>coding</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>code_execution_config</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>use_oai_assistant</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>user_proxy</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_agents</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Auto build agents based on the building task.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>building_task</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>instruction that helps build manager (gpt-4) to decide what agent should be built.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>coding</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>use to identify if the user proxy (a code interpreter) should be added.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>code_execution_config</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>specific configs for user proxy (e.g., last_n_messages, work_dir, ...).</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>default_llm_config</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>specific configs for LLM (e.g., config_list, seed, temperature, ...).</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>use_oai_assistant</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>use OpenAI assistant api instead of self-constructed agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>user_proxy</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>user proxy's class that can be used to replace the default user proxy.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-internal" title=autogen.ConversableAgent href=../../../../ConversableAgent/#autogen.ConversableAgent>ConversableAgent</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>agent_list</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>a list of agents.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title=autogen.ConversableAgent href=../../../../ConversableAgent/#autogen.ConversableAgent>ConversableAgent</a>]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>cached_configs</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>cached configs.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span>
<span class=normal><a href=#__codelineno-0-462>462</a></span>
<span class=normal><a href=#__codelineno-0-463>463</a></span>
<span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span>
<span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span>
<span class=normal><a href=#__codelineno-0-480>480</a></span>
<span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-364 name=__codelineno-0-364></a><span class=k>def</span><span class=w> </span><span class=nf>build</span><span class=p>(</span>
<a id=__codelineno-0-365 name=__codelineno-0-365></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-366 name=__codelineno-0-366></a>    <span class=n>building_task</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<a id=__codelineno-0-367 name=__codelineno-0-367></a>    <span class=n>default_llm_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span>
<a id=__codelineno-0-368 name=__codelineno-0-368></a>    <span class=n>coding</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-369 name=__codelineno-0-369></a>    <span class=n>code_execution_config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-370 name=__codelineno-0-370></a>    <span class=n>use_oai_assistant</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-371 name=__codelineno-0-371></a>    <span class=n>user_proxy</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>ConversableAgent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-372 name=__codelineno-0-372></a>    <span class=n>max_agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-373 name=__codelineno-0-373></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
<a id=__codelineno-0-374 name=__codelineno-0-374></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>ConversableAgent</span><span class=p>],</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-375 name=__codelineno-0-375></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Auto build agents based on the building task.</span>
<a id=__codelineno-0-376 name=__codelineno-0-376></a>
<a id=__codelineno-0-377 name=__codelineno-0-377></a><span class=sd>    Args:</span>
<a id=__codelineno-0-378 name=__codelineno-0-378></a><span class=sd>        building_task: instruction that helps build manager (gpt-4) to decide what agent should be built.</span>
<a id=__codelineno-0-379 name=__codelineno-0-379></a><span class=sd>        coding: use to identify if the user proxy (a code interpreter) should be added.</span>
<a id=__codelineno-0-380 name=__codelineno-0-380></a><span class=sd>        code_execution_config: specific configs for user proxy (e.g., last_n_messages, work_dir, ...).</span>
<a id=__codelineno-0-381 name=__codelineno-0-381></a><span class=sd>        default_llm_config: specific configs for LLM (e.g., config_list, seed, temperature, ...).</span>
<a id=__codelineno-0-382 name=__codelineno-0-382></a><span class=sd>        use_oai_assistant: use OpenAI assistant api instead of self-constructed agent.</span>
<a id=__codelineno-0-383 name=__codelineno-0-383></a><span class=sd>        user_proxy: user proxy&#39;s class that can be used to replace the default user proxy.</span>
<a id=__codelineno-0-384 name=__codelineno-0-384></a>
<a id=__codelineno-0-385 name=__codelineno-0-385></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-386 name=__codelineno-0-386></a><span class=sd>        agent_list: a list of agents.</span>
<a id=__codelineno-0-387 name=__codelineno-0-387></a><span class=sd>        cached_configs: cached configs.</span>
<a id=__codelineno-0-388 name=__codelineno-0-388></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-389 name=__codelineno-0-389></a>    <span class=k>if</span> <span class=n>code_execution_config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-390 name=__codelineno-0-390></a>        <span class=n>code_execution_config</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-391 name=__codelineno-0-391></a>            <span class=s2>&quot;last_n_messages&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-0-392 name=__codelineno-0-392></a>            <span class=s2>&quot;work_dir&quot;</span><span class=p>:</span> <span class=s2>&quot;groupchat&quot;</span><span class=p>,</span>
<a id=__codelineno-0-393 name=__codelineno-0-393></a>            <span class=s2>&quot;use_docker&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-394 name=__codelineno-0-394></a>            <span class=s2>&quot;timeout&quot;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
<a id=__codelineno-0-395 name=__codelineno-0-395></a>        <span class=p>}</span>
<a id=__codelineno-0-396 name=__codelineno-0-396></a>
<a id=__codelineno-0-397 name=__codelineno-0-397></a>    <span class=k>if</span> <span class=n>max_agents</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-398 name=__codelineno-0-398></a>        <span class=n>max_agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_agents</span>
<a id=__codelineno-0-399 name=__codelineno-0-399></a>
<a id=__codelineno-0-400 name=__codelineno-0-400></a>    <span class=n>agent_configs</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-401 name=__codelineno-0-401></a>    <span class=bp>self</span><span class=o>.</span><span class=n>building_task</span> <span class=o>=</span> <span class=n>building_task</span>
<a id=__codelineno-0-402 name=__codelineno-0-402></a>
<a id=__codelineno-0-403 name=__codelineno-0-403></a>    <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=s2>&quot;==&gt; Generating agents...&quot;</span><span class=p>,</span> <span class=s2>&quot;green&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-404 name=__codelineno-0-404></a>    <span class=n>resp_agent_name</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-405 name=__codelineno-0-405></a>        <span class=bp>self</span><span class=o>.</span><span class=n>builder_model</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
<a id=__codelineno-0-406 name=__codelineno-0-406></a>            <span class=n>messages</span><span class=o>=</span><span class=p>[</span>
<a id=__codelineno-0-407 name=__codelineno-0-407></a>                <span class=p>{</span>
<a id=__codelineno-0-408 name=__codelineno-0-408></a>                    <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span>
<a id=__codelineno-0-409 name=__codelineno-0-409></a>                    <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>AGENT_NAME_PROMPT</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>task</span><span class=o>=</span><span class=n>building_task</span><span class=p>,</span> <span class=n>max_agents</span><span class=o>=</span><span class=n>max_agents</span><span class=p>),</span>
<a id=__codelineno-0-410 name=__codelineno-0-410></a>                <span class=p>}</span>
<a id=__codelineno-0-411 name=__codelineno-0-411></a>            <span class=p>]</span>
<a id=__codelineno-0-412 name=__codelineno-0-412></a>        <span class=p>)</span>
<a id=__codelineno-0-413 name=__codelineno-0-413></a>        <span class=o>.</span><span class=n>choices</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-0-414 name=__codelineno-0-414></a>        <span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>content</span>
<a id=__codelineno-0-415 name=__codelineno-0-415></a>    <span class=p>)</span>
<a id=__codelineno-0-416 name=__codelineno-0-416></a>    <span class=n>agent_name_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>agent_name</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;_&quot;</span><span class=p>)</span> <span class=k>for</span> <span class=n>agent_name</span> <span class=ow>in</span> <span class=n>resp_agent_name</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;,&quot;</span><span class=p>)]</span>
<a id=__codelineno-0-417 name=__codelineno-0-417></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>agent_name_list</span><span class=si>}</span><span class=s2> are generated.&quot;</span><span class=p>,</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-418 name=__codelineno-0-418></a>
<a id=__codelineno-0-419 name=__codelineno-0-419></a>    <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=s2>&quot;==&gt; Generating system message...&quot;</span><span class=p>,</span> <span class=s2>&quot;green&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-420 name=__codelineno-0-420></a>    <span class=n>agent_sys_msg_list</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-421 name=__codelineno-0-421></a>    <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>agent_name_list</span><span class=p>:</span>
<a id=__codelineno-0-422 name=__codelineno-0-422></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Preparing system message for </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-423 name=__codelineno-0-423></a>        <span class=n>resp_agent_sys_msg</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-424 name=__codelineno-0-424></a>            <span class=bp>self</span><span class=o>.</span><span class=n>builder_model</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
<a id=__codelineno-0-425 name=__codelineno-0-425></a>                <span class=n>messages</span><span class=o>=</span><span class=p>[</span>
<a id=__codelineno-0-426 name=__codelineno-0-426></a>                    <span class=p>{</span>
<a id=__codelineno-0-427 name=__codelineno-0-427></a>                        <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span>
<a id=__codelineno-0-428 name=__codelineno-0-428></a>                        <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>AGENT_SYS_MSG_PROMPT</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
<a id=__codelineno-0-429 name=__codelineno-0-429></a>                            <span class=n>task</span><span class=o>=</span><span class=n>building_task</span><span class=p>,</span>
<a id=__codelineno-0-430 name=__codelineno-0-430></a>                            <span class=n>position</span><span class=o>=</span><span class=n>name</span><span class=p>,</span>
<a id=__codelineno-0-431 name=__codelineno-0-431></a>                            <span class=n>default_sys_msg</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>DEFAULT_DESCRIPTION</span><span class=p>,</span>
<a id=__codelineno-0-432 name=__codelineno-0-432></a>                        <span class=p>),</span>
<a id=__codelineno-0-433 name=__codelineno-0-433></a>                    <span class=p>}</span>
<a id=__codelineno-0-434 name=__codelineno-0-434></a>                <span class=p>]</span>
<a id=__codelineno-0-435 name=__codelineno-0-435></a>            <span class=p>)</span>
<a id=__codelineno-0-436 name=__codelineno-0-436></a>            <span class=o>.</span><span class=n>choices</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-0-437 name=__codelineno-0-437></a>            <span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>content</span>
<a id=__codelineno-0-438 name=__codelineno-0-438></a>        <span class=p>)</span>
<a id=__codelineno-0-439 name=__codelineno-0-439></a>        <span class=n>agent_sys_msg_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>resp_agent_sys_msg</span><span class=p>)</span>
<a id=__codelineno-0-440 name=__codelineno-0-440></a>
<a id=__codelineno-0-441 name=__codelineno-0-441></a>    <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=s2>&quot;==&gt; Generating description...&quot;</span><span class=p>,</span> <span class=s2>&quot;green&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-442 name=__codelineno-0-442></a>    <span class=n>agent_description_list</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-443 name=__codelineno-0-443></a>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>sys_msg</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=nb>zip</span><span class=p>(</span><span class=n>agent_name_list</span><span class=p>,</span> <span class=n>agent_sys_msg_list</span><span class=p>)):</span>
<a id=__codelineno-0-444 name=__codelineno-0-444></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Preparing description for </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-445 name=__codelineno-0-445></a>        <span class=n>resp_agent_description</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-446 name=__codelineno-0-446></a>            <span class=bp>self</span><span class=o>.</span><span class=n>builder_model</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
<a id=__codelineno-0-447 name=__codelineno-0-447></a>                <span class=n>messages</span><span class=o>=</span><span class=p>[</span>
<a id=__codelineno-0-448 name=__codelineno-0-448></a>                    <span class=p>{</span>
<a id=__codelineno-0-449 name=__codelineno-0-449></a>                        <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span>
<a id=__codelineno-0-450 name=__codelineno-0-450></a>                        <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>AGENT_DESCRIPTION_PROMPT</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>position</span><span class=o>=</span><span class=n>name</span><span class=p>,</span> <span class=n>sys_msg</span><span class=o>=</span><span class=n>sys_msg</span><span class=p>),</span>
<a id=__codelineno-0-451 name=__codelineno-0-451></a>                    <span class=p>}</span>
<a id=__codelineno-0-452 name=__codelineno-0-452></a>                <span class=p>]</span>
<a id=__codelineno-0-453 name=__codelineno-0-453></a>            <span class=p>)</span>
<a id=__codelineno-0-454 name=__codelineno-0-454></a>            <span class=o>.</span><span class=n>choices</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-0-455 name=__codelineno-0-455></a>            <span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>content</span>
<a id=__codelineno-0-456 name=__codelineno-0-456></a>        <span class=p>)</span>
<a id=__codelineno-0-457 name=__codelineno-0-457></a>        <span class=n>agent_description_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>resp_agent_description</span><span class=p>)</span>
<a id=__codelineno-0-458 name=__codelineno-0-458></a>
<a id=__codelineno-0-459 name=__codelineno-0-459></a>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>sys_msg</span><span class=p>,</span> <span class=n>description</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=nb>zip</span><span class=p>(</span><span class=n>agent_name_list</span><span class=p>,</span> <span class=n>agent_sys_msg_list</span><span class=p>,</span> <span class=n>agent_description_list</span><span class=p>)):</span>
<a id=__codelineno-0-460 name=__codelineno-0-460></a>        <span class=n>agent_configs</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
<a id=__codelineno-0-461 name=__codelineno-0-461></a>            <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span>
<a id=__codelineno-0-462 name=__codelineno-0-462></a>            <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>agent_model</span><span class=p>,</span>
<a id=__codelineno-0-463 name=__codelineno-0-463></a>            <span class=s2>&quot;tags&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>agent_model_tags</span><span class=p>,</span>
<a id=__codelineno-0-464 name=__codelineno-0-464></a>            <span class=s2>&quot;system_message&quot;</span><span class=p>:</span> <span class=n>sys_msg</span><span class=p>,</span>
<a id=__codelineno-0-465 name=__codelineno-0-465></a>            <span class=s2>&quot;description&quot;</span><span class=p>:</span> <span class=n>description</span><span class=p>,</span>
<a id=__codelineno-0-466 name=__codelineno-0-466></a>        <span class=p>})</span>
<a id=__codelineno-0-467 name=__codelineno-0-467></a>
<a id=__codelineno-0-468 name=__codelineno-0-468></a>    <span class=k>if</span> <span class=n>coding</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-469 name=__codelineno-0-469></a>        <span class=n>resp</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-470 name=__codelineno-0-470></a>            <span class=bp>self</span><span class=o>.</span><span class=n>builder_model</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
<a id=__codelineno-0-471 name=__codelineno-0-471></a>                <span class=n>messages</span><span class=o>=</span><span class=p>[{</span><span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span> <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>CODING_PROMPT</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>task</span><span class=o>=</span><span class=n>building_task</span><span class=p>)}]</span>
<a id=__codelineno-0-472 name=__codelineno-0-472></a>            <span class=p>)</span>
<a id=__codelineno-0-473 name=__codelineno-0-473></a>            <span class=o>.</span><span class=n>choices</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-0-474 name=__codelineno-0-474></a>            <span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>content</span>
<a id=__codelineno-0-475 name=__codelineno-0-475></a>        <span class=p>)</span>
<a id=__codelineno-0-476 name=__codelineno-0-476></a>        <span class=n>coding</span> <span class=o>=</span> <span class=n>resp</span> <span class=o>==</span> <span class=s2>&quot;YES&quot;</span>
<a id=__codelineno-0-477 name=__codelineno-0-477></a>
<a id=__codelineno-0-478 name=__codelineno-0-478></a>    <span class=bp>self</span><span class=o>.</span><span class=n>cached_configs</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
<a id=__codelineno-0-479 name=__codelineno-0-479></a>        <span class=s2>&quot;building_task&quot;</span><span class=p>:</span> <span class=n>building_task</span><span class=p>,</span>
<a id=__codelineno-0-480 name=__codelineno-0-480></a>        <span class=s2>&quot;agent_configs&quot;</span><span class=p>:</span> <span class=n>agent_configs</span><span class=p>,</span>
<a id=__codelineno-0-481 name=__codelineno-0-481></a>        <span class=s2>&quot;coding&quot;</span><span class=p>:</span> <span class=n>coding</span><span class=p>,</span>
<a id=__codelineno-0-482 name=__codelineno-0-482></a>        <span class=s2>&quot;default_llm_config&quot;</span><span class=p>:</span> <span class=n>default_llm_config</span><span class=p>,</span>
<a id=__codelineno-0-483 name=__codelineno-0-483></a>        <span class=s2>&quot;code_execution_config&quot;</span><span class=p>:</span> <span class=n>code_execution_config</span><span class=p>,</span>
<a id=__codelineno-0-484 name=__codelineno-0-484></a>    <span class=p>})</span>
<a id=__codelineno-0-485 name=__codelineno-0-485></a>    <span class=n>_config_check</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cached_configs</span><span class=p>)</span>
<a id=__codelineno-0-486 name=__codelineno-0-486></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_build_agents</span><span class=p>(</span><span class=n>use_oai_assistant</span><span class=p>,</span> <span class=n>user_proxy</span><span class=o>=</span><span class=n>user_proxy</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.build_from_library class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">build_from_library</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.build_from_library class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>build_from_library</span><span class=p>(</span><span class=n>building_task</span><span class=p>,</span> <span class=n>library_path_or_json</span><span class=p>,</span> <span class=n>default_llm_config</span><span class=p>,</span> <span class=n>top_k</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>coding</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>code_execution_config</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>use_oai_assistant</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>embedding_model</span><span class=o>=</span><span class=s1>&#39;all-mpnet-base-v2&#39;</span><span class=p>,</span> <span class=n>user_proxy</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Build agents from a library. The library is a list of agent configs, which contains the name and system_message for each agent. We use a build manager to decide what agent in that library should be involved to the task.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>building_task</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>instruction that helps build manager (gpt-4) to decide what agent should be built.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>library_path_or_json</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>path or JSON string config of agent library.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>default_llm_config</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>specific configs for LLM (e.g., config_list, seed, temperature, ...).</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>coding</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>use to identify if the user proxy (a code interpreter) should be added.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>code_execution_config</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>specific configs for user proxy (e.g., last_n_messages, work_dir, ...).</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>use_oai_assistant</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>use OpenAI assistant api instead of self-constructed agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>embedding_model</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>a Sentence-Transformers model use for embedding similarity to select agents from library. As reference, chromadb use "all-mpnet-base-v2" as default.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;all-mpnet-base-v2&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>user_proxy</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>user proxy's class that can be used to replace the default user proxy.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-internal" title=autogen.ConversableAgent href=../../../../ConversableAgent/#autogen.ConversableAgent>ConversableAgent</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>agent_list</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>a list of agents.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title=autogen.ConversableAgent href=../../../../ConversableAgent/#autogen.ConversableAgent>ConversableAgent</a>]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>cached_configs</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>cached configs.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span>
<span class=normal><a href=#__codelineno-0-510>510</a></span>
<span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span>
<span class=normal><a href=#__codelineno-0-517>517</a></span>
<span class=normal><a href=#__codelineno-0-518>518</a></span>
<span class=normal><a href=#__codelineno-0-519>519</a></span>
<span class=normal><a href=#__codelineno-0-520>520</a></span>
<span class=normal><a href=#__codelineno-0-521>521</a></span>
<span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span>
<span class=normal><a href=#__codelineno-0-542>542</a></span>
<span class=normal><a href=#__codelineno-0-543>543</a></span>
<span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span>
<span class=normal><a href=#__codelineno-0-549>549</a></span>
<span class=normal><a href=#__codelineno-0-550>550</a></span>
<span class=normal><a href=#__codelineno-0-551>551</a></span>
<span class=normal><a href=#__codelineno-0-552>552</a></span>
<span class=normal><a href=#__codelineno-0-553>553</a></span>
<span class=normal><a href=#__codelineno-0-554>554</a></span>
<span class=normal><a href=#__codelineno-0-555>555</a></span>
<span class=normal><a href=#__codelineno-0-556>556</a></span>
<span class=normal><a href=#__codelineno-0-557>557</a></span>
<span class=normal><a href=#__codelineno-0-558>558</a></span>
<span class=normal><a href=#__codelineno-0-559>559</a></span>
<span class=normal><a href=#__codelineno-0-560>560</a></span>
<span class=normal><a href=#__codelineno-0-561>561</a></span>
<span class=normal><a href=#__codelineno-0-562>562</a></span>
<span class=normal><a href=#__codelineno-0-563>563</a></span>
<span class=normal><a href=#__codelineno-0-564>564</a></span>
<span class=normal><a href=#__codelineno-0-565>565</a></span>
<span class=normal><a href=#__codelineno-0-566>566</a></span>
<span class=normal><a href=#__codelineno-0-567>567</a></span>
<span class=normal><a href=#__codelineno-0-568>568</a></span>
<span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span>
<span class=normal><a href=#__codelineno-0-572>572</a></span>
<span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span>
<span class=normal><a href=#__codelineno-0-579>579</a></span>
<span class=normal><a href=#__codelineno-0-580>580</a></span>
<span class=normal><a href=#__codelineno-0-581>581</a></span>
<span class=normal><a href=#__codelineno-0-582>582</a></span>
<span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span>
<span class=normal><a href=#__codelineno-0-586>586</a></span>
<span class=normal><a href=#__codelineno-0-587>587</a></span>
<span class=normal><a href=#__codelineno-0-588>588</a></span>
<span class=normal><a href=#__codelineno-0-589>589</a></span>
<span class=normal><a href=#__codelineno-0-590>590</a></span>
<span class=normal><a href=#__codelineno-0-591>591</a></span>
<span class=normal><a href=#__codelineno-0-592>592</a></span>
<span class=normal><a href=#__codelineno-0-593>593</a></span>
<span class=normal><a href=#__codelineno-0-594>594</a></span>
<span class=normal><a href=#__codelineno-0-595>595</a></span>
<span class=normal><a href=#__codelineno-0-596>596</a></span>
<span class=normal><a href=#__codelineno-0-597>597</a></span>
<span class=normal><a href=#__codelineno-0-598>598</a></span>
<span class=normal><a href=#__codelineno-0-599>599</a></span>
<span class=normal><a href=#__codelineno-0-600>600</a></span>
<span class=normal><a href=#__codelineno-0-601>601</a></span>
<span class=normal><a href=#__codelineno-0-602>602</a></span>
<span class=normal><a href=#__codelineno-0-603>603</a></span>
<span class=normal><a href=#__codelineno-0-604>604</a></span>
<span class=normal><a href=#__codelineno-0-605>605</a></span>
<span class=normal><a href=#__codelineno-0-606>606</a></span>
<span class=normal><a href=#__codelineno-0-607>607</a></span>
<span class=normal><a href=#__codelineno-0-608>608</a></span>
<span class=normal><a href=#__codelineno-0-609>609</a></span>
<span class=normal><a href=#__codelineno-0-610>610</a></span>
<span class=normal><a href=#__codelineno-0-611>611</a></span>
<span class=normal><a href=#__codelineno-0-612>612</a></span>
<span class=normal><a href=#__codelineno-0-613>613</a></span>
<span class=normal><a href=#__codelineno-0-614>614</a></span>
<span class=normal><a href=#__codelineno-0-615>615</a></span>
<span class=normal><a href=#__codelineno-0-616>616</a></span>
<span class=normal><a href=#__codelineno-0-617>617</a></span>
<span class=normal><a href=#__codelineno-0-618>618</a></span>
<span class=normal><a href=#__codelineno-0-619>619</a></span>
<span class=normal><a href=#__codelineno-0-620>620</a></span>
<span class=normal><a href=#__codelineno-0-621>621</a></span>
<span class=normal><a href=#__codelineno-0-622>622</a></span>
<span class=normal><a href=#__codelineno-0-623>623</a></span>
<span class=normal><a href=#__codelineno-0-624>624</a></span>
<span class=normal><a href=#__codelineno-0-625>625</a></span>
<span class=normal><a href=#__codelineno-0-626>626</a></span>
<span class=normal><a href=#__codelineno-0-627>627</a></span>
<span class=normal><a href=#__codelineno-0-628>628</a></span>
<span class=normal><a href=#__codelineno-0-629>629</a></span>
<span class=normal><a href=#__codelineno-0-630>630</a></span>
<span class=normal><a href=#__codelineno-0-631>631</a></span>
<span class=normal><a href=#__codelineno-0-632>632</a></span>
<span class=normal><a href=#__codelineno-0-633>633</a></span>
<span class=normal><a href=#__codelineno-0-634>634</a></span>
<span class=normal><a href=#__codelineno-0-635>635</a></span>
<span class=normal><a href=#__codelineno-0-636>636</a></span>
<span class=normal><a href=#__codelineno-0-637>637</a></span>
<span class=normal><a href=#__codelineno-0-638>638</a></span>
<span class=normal><a href=#__codelineno-0-639>639</a></span>
<span class=normal><a href=#__codelineno-0-640>640</a></span>
<span class=normal><a href=#__codelineno-0-641>641</a></span>
<span class=normal><a href=#__codelineno-0-642>642</a></span>
<span class=normal><a href=#__codelineno-0-643>643</a></span>
<span class=normal><a href=#__codelineno-0-644>644</a></span>
<span class=normal><a href=#__codelineno-0-645>645</a></span>
<span class=normal><a href=#__codelineno-0-646>646</a></span>
<span class=normal><a href=#__codelineno-0-647>647</a></span>
<span class=normal><a href=#__codelineno-0-648>648</a></span>
<span class=normal><a href=#__codelineno-0-649>649</a></span>
<span class=normal><a href=#__codelineno-0-650>650</a></span>
<span class=normal><a href=#__codelineno-0-651>651</a></span>
<span class=normal><a href=#__codelineno-0-652>652</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-488 name=__codelineno-0-488></a><span class=k>def</span><span class=w> </span><span class=nf>build_from_library</span><span class=p>(</span>
<a id=__codelineno-0-489 name=__codelineno-0-489></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-490 name=__codelineno-0-490></a>    <span class=n>building_task</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<a id=__codelineno-0-491 name=__codelineno-0-491></a>    <span class=n>library_path_or_json</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<a id=__codelineno-0-492 name=__codelineno-0-492></a>    <span class=n>default_llm_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span>
<a id=__codelineno-0-493 name=__codelineno-0-493></a>    <span class=n>top_k</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span>
<a id=__codelineno-0-494 name=__codelineno-0-494></a>    <span class=n>coding</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-495 name=__codelineno-0-495></a>    <span class=n>code_execution_config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-496 name=__codelineno-0-496></a>    <span class=n>use_oai_assistant</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-497 name=__codelineno-0-497></a>    <span class=n>embedding_model</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;all-mpnet-base-v2&quot;</span><span class=p>,</span>
<a id=__codelineno-0-498 name=__codelineno-0-498></a>    <span class=n>user_proxy</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>ConversableAgent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-499 name=__codelineno-0-499></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
<a id=__codelineno-0-500 name=__codelineno-0-500></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>ConversableAgent</span><span class=p>],</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-501 name=__codelineno-0-501></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Build agents from a library.</span>
<a id=__codelineno-0-502 name=__codelineno-0-502></a><span class=sd>    The library is a list of agent configs, which contains the name and system_message for each agent.</span>
<a id=__codelineno-0-503 name=__codelineno-0-503></a><span class=sd>    We use a build manager to decide what agent in that library should be involved to the task.</span>
<a id=__codelineno-0-504 name=__codelineno-0-504></a>
<a id=__codelineno-0-505 name=__codelineno-0-505></a><span class=sd>    Args:</span>
<a id=__codelineno-0-506 name=__codelineno-0-506></a><span class=sd>        building_task: instruction that helps build manager (gpt-4) to decide what agent should be built.</span>
<a id=__codelineno-0-507 name=__codelineno-0-507></a><span class=sd>        library_path_or_json: path or JSON string config of agent library.</span>
<a id=__codelineno-0-508 name=__codelineno-0-508></a><span class=sd>        default_llm_config: specific configs for LLM (e.g., config_list, seed, temperature, ...).</span>
<a id=__codelineno-0-509 name=__codelineno-0-509></a><span class=sd>        coding: use to identify if the user proxy (a code interpreter) should be added.</span>
<a id=__codelineno-0-510 name=__codelineno-0-510></a><span class=sd>        code_execution_config: specific configs for user proxy (e.g., last_n_messages, work_dir, ...).</span>
<a id=__codelineno-0-511 name=__codelineno-0-511></a><span class=sd>        use_oai_assistant: use OpenAI assistant api instead of self-constructed agent.</span>
<a id=__codelineno-0-512 name=__codelineno-0-512></a><span class=sd>        embedding_model: a Sentence-Transformers model use for embedding similarity to select agents from library.</span>
<a id=__codelineno-0-513 name=__codelineno-0-513></a><span class=sd>            As reference, chromadb use &quot;all-mpnet-base-v2&quot; as default.</span>
<a id=__codelineno-0-514 name=__codelineno-0-514></a><span class=sd>        user_proxy: user proxy&#39;s class that can be used to replace the default user proxy.</span>
<a id=__codelineno-0-515 name=__codelineno-0-515></a>
<a id=__codelineno-0-516 name=__codelineno-0-516></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-517 name=__codelineno-0-517></a><span class=sd>        agent_list: a list of agents.</span>
<a id=__codelineno-0-518 name=__codelineno-0-518></a><span class=sd>        cached_configs: cached configs.</span>
<a id=__codelineno-0-519 name=__codelineno-0-519></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-520 name=__codelineno-0-520></a>    <span class=kn>import</span><span class=w> </span><span class=nn>sqlite3</span>
<a id=__codelineno-0-521 name=__codelineno-0-521></a>
<a id=__codelineno-0-522 name=__codelineno-0-522></a>    <span class=c1># Some system will have an unexpected sqlite3 version.</span>
<a id=__codelineno-0-523 name=__codelineno-0-523></a>    <span class=c1># Check if the user has installed pysqlite3.</span>
<a id=__codelineno-0-524 name=__codelineno-0-524></a>    <span class=k>if</span> <span class=nb>int</span><span class=p>(</span><span class=n>sqlite3</span><span class=o>.</span><span class=n>version</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>)[</span><span class=mi>0</span><span class=p>])</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>:</span>
<a id=__codelineno-0-525 name=__codelineno-0-525></a>        <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-526 name=__codelineno-0-526></a>            <span class=nb>__import__</span><span class=p>(</span><span class=s2>&quot;pysqlite3&quot;</span><span class=p>)</span>
<a id=__codelineno-0-527 name=__codelineno-0-527></a>            <span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
<a id=__codelineno-0-528 name=__codelineno-0-528></a>
<a id=__codelineno-0-529 name=__codelineno-0-529></a>            <span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=p>[</span><span class=s2>&quot;sqlite3&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;pysqlite3&quot;</span><span class=p>)</span>
<a id=__codelineno-0-530 name=__codelineno-0-530></a>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-0-531 name=__codelineno-0-531></a>            <span class=k>raise</span> <span class=n>e</span>
<a id=__codelineno-0-532 name=__codelineno-0-532></a>    <span class=kn>import</span><span class=w> </span><span class=nn>chromadb</span>
<a id=__codelineno-0-533 name=__codelineno-0-533></a>    <span class=kn>from</span><span class=w> </span><span class=nn>chromadb.utils</span><span class=w> </span><span class=kn>import</span> <span class=n>embedding_functions</span>
<a id=__codelineno-0-534 name=__codelineno-0-534></a>
<a id=__codelineno-0-535 name=__codelineno-0-535></a>    <span class=k>if</span> <span class=n>code_execution_config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-536 name=__codelineno-0-536></a>        <span class=n>code_execution_config</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-537 name=__codelineno-0-537></a>            <span class=s2>&quot;last_n_messages&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-0-538 name=__codelineno-0-538></a>            <span class=s2>&quot;work_dir&quot;</span><span class=p>:</span> <span class=s2>&quot;groupchat&quot;</span><span class=p>,</span>
<a id=__codelineno-0-539 name=__codelineno-0-539></a>            <span class=s2>&quot;use_docker&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-540 name=__codelineno-0-540></a>            <span class=s2>&quot;timeout&quot;</span><span class=p>:</span> <span class=mi>120</span><span class=p>,</span>
<a id=__codelineno-0-541 name=__codelineno-0-541></a>        <span class=p>}</span>
<a id=__codelineno-0-542 name=__codelineno-0-542></a>
<a id=__codelineno-0-543 name=__codelineno-0-543></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-544 name=__codelineno-0-544></a>        <span class=n>agent_library</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>library_path_or_json</span><span class=p>)</span>
<a id=__codelineno-0-545 name=__codelineno-0-545></a>    <span class=k>except</span> <span class=n>json</span><span class=o>.</span><span class=n>decoder</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>:</span>
<a id=__codelineno-0-546 name=__codelineno-0-546></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>library_path_or_json</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-0-547 name=__codelineno-0-547></a>            <span class=n>agent_library</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
<a id=__codelineno-0-548 name=__codelineno-0-548></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-0-549 name=__codelineno-0-549></a>        <span class=k>raise</span> <span class=n>e</span>
<a id=__codelineno-0-550 name=__codelineno-0-550></a>
<a id=__codelineno-0-551 name=__codelineno-0-551></a>    <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=s2>&quot;==&gt; Looking for suitable agents in the library...&quot;</span><span class=p>,</span> <span class=s2>&quot;green&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-552 name=__codelineno-0-552></a>    <span class=n>skills</span> <span class=o>=</span> <span class=n>building_task</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;:&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-553 name=__codelineno-0-553></a>    <span class=c1># skills = [line.split(&quot;-&quot;, 1)[1].strip() if line.startswith(&quot;-&quot;) else line for line in lines]</span>
<a id=__codelineno-0-554 name=__codelineno-0-554></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>skills</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
<a id=__codelineno-0-555 name=__codelineno-0-555></a>        <span class=n>skills</span> <span class=o>=</span> <span class=p>[</span><span class=n>building_task</span><span class=p>]</span>
<a id=__codelineno-0-556 name=__codelineno-0-556></a>
<a id=__codelineno-0-557 name=__codelineno-0-557></a>    <span class=n>chroma_client</span> <span class=o>=</span> <span class=n>chromadb</span><span class=o>.</span><span class=n>Client</span><span class=p>()</span>
<a id=__codelineno-0-558 name=__codelineno-0-558></a>    <span class=n>collection</span> <span class=o>=</span> <span class=n>chroma_client</span><span class=o>.</span><span class=n>create_collection</span><span class=p>(</span>
<a id=__codelineno-0-559 name=__codelineno-0-559></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;agent_list&quot;</span><span class=p>,</span>
<a id=__codelineno-0-560 name=__codelineno-0-560></a>        <span class=n>embedding_function</span><span class=o>=</span><span class=n>embedding_functions</span><span class=o>.</span><span class=n>SentenceTransformerEmbeddingFunction</span><span class=p>(</span><span class=n>model_name</span><span class=o>=</span><span class=n>embedding_model</span><span class=p>),</span>
<a id=__codelineno-0-561 name=__codelineno-0-561></a>    <span class=p>)</span>
<a id=__codelineno-0-562 name=__codelineno-0-562></a>    <span class=n>collection</span><span class=o>.</span><span class=n>add</span><span class=p>(</span>
<a id=__codelineno-0-563 name=__codelineno-0-563></a>        <span class=n>documents</span><span class=o>=</span><span class=p>[</span><span class=n>agent</span><span class=p>[</span><span class=s2>&quot;description&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=n>agent_library</span><span class=p>],</span>
<a id=__codelineno-0-564 name=__codelineno-0-564></a>        <span class=n>metadatas</span><span class=o>=</span><span class=p>[{</span><span class=s2>&quot;source&quot;</span><span class=p>:</span> <span class=s2>&quot;agent_profile&quot;</span><span class=p>}</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>agent_library</span><span class=p>))],</span>
<a id=__codelineno-0-565 name=__codelineno-0-565></a>        <span class=n>ids</span><span class=o>=</span><span class=p>[</span><span class=sa>f</span><span class=s2>&quot;agent_</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>agent_library</span><span class=p>))],</span>
<a id=__codelineno-0-566 name=__codelineno-0-566></a>    <span class=p>)</span>
<a id=__codelineno-0-567 name=__codelineno-0-567></a>    <span class=n>agent_desc_list</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
<a id=__codelineno-0-568 name=__codelineno-0-568></a>    <span class=k>for</span> <span class=n>skill</span> <span class=ow>in</span> <span class=n>skills</span><span class=p>:</span>
<a id=__codelineno-0-569 name=__codelineno-0-569></a>        <span class=n>recall</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>collection</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=n>query_texts</span><span class=o>=</span><span class=p>[</span><span class=n>skill</span><span class=p>],</span> <span class=n>n_results</span><span class=o>=</span><span class=n>top_k</span><span class=p>)[</span><span class=s2>&quot;documents&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>])</span>
<a id=__codelineno-0-570 name=__codelineno-0-570></a>        <span class=n>agent_desc_list</span> <span class=o>=</span> <span class=n>agent_desc_list</span><span class=o>.</span><span class=n>union</span><span class=p>(</span><span class=n>recall</span><span class=p>)</span>
<a id=__codelineno-0-571 name=__codelineno-0-571></a>
<a id=__codelineno-0-572 name=__codelineno-0-572></a>    <span class=n>agent_config_list</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-573 name=__codelineno-0-573></a>    <span class=k>for</span> <span class=n>description</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=n>agent_desc_list</span><span class=p>):</span>
<a id=__codelineno-0-574 name=__codelineno-0-574></a>        <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=n>agent_library</span><span class=p>:</span>
<a id=__codelineno-0-575 name=__codelineno-0-575></a>            <span class=k>if</span> <span class=n>agent</span><span class=p>[</span><span class=s2>&quot;description&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>description</span><span class=p>:</span>
<a id=__codelineno-0-576 name=__codelineno-0-576></a>                <span class=n>agent_config_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>agent</span><span class=o>.</span><span class=n>copy</span><span class=p>())</span>
<a id=__codelineno-0-577 name=__codelineno-0-577></a>                <span class=k>break</span>
<a id=__codelineno-0-578 name=__codelineno-0-578></a>    <span class=n>chroma_client</span><span class=o>.</span><span class=n>delete_collection</span><span class=p>(</span><span class=n>collection</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
<a id=__codelineno-0-579 name=__codelineno-0-579></a>
<a id=__codelineno-0-580 name=__codelineno-0-580></a>    <span class=c1># double recall from the searching result</span>
<a id=__codelineno-0-581 name=__codelineno-0-581></a>    <span class=n>expert_pool</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>agent</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>agent</span><span class=p>[</span><span class=s1>&#39;description&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=n>agent_config_list</span><span class=p>]</span>
<a id=__codelineno-0-582 name=__codelineno-0-582></a>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
<a id=__codelineno-0-583 name=__codelineno-0-583></a>        <span class=n>skill_agent_pair_json</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-584 name=__codelineno-0-584></a>            <span class=bp>self</span><span class=o>.</span><span class=n>builder_model</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
<a id=__codelineno-0-585 name=__codelineno-0-585></a>                <span class=n>messages</span><span class=o>=</span><span class=p>[</span>
<a id=__codelineno-0-586 name=__codelineno-0-586></a>                    <span class=p>{</span>
<a id=__codelineno-0-587 name=__codelineno-0-587></a>                        <span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span>
<a id=__codelineno-0-588 name=__codelineno-0-588></a>                        <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>AGENT_SELECTION_PROMPT</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
<a id=__codelineno-0-589 name=__codelineno-0-589></a>                            <span class=n>skills</span><span class=o>=</span><span class=n>building_task</span><span class=p>,</span> <span class=n>expert_pool</span><span class=o>=</span><span class=n>expert_pool</span><span class=p>,</span> <span class=n>max_agents</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>max_agents</span>
<a id=__codelineno-0-590 name=__codelineno-0-590></a>                        <span class=p>),</span>
<a id=__codelineno-0-591 name=__codelineno-0-591></a>                    <span class=p>}</span>
<a id=__codelineno-0-592 name=__codelineno-0-592></a>                <span class=p>]</span>
<a id=__codelineno-0-593 name=__codelineno-0-593></a>            <span class=p>)</span>
<a id=__codelineno-0-594 name=__codelineno-0-594></a>            <span class=o>.</span><span class=n>choices</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-0-595 name=__codelineno-0-595></a>            <span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>content</span>
<a id=__codelineno-0-596 name=__codelineno-0-596></a>        <span class=p>)</span>
<a id=__codelineno-0-597 name=__codelineno-0-597></a>        <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-598 name=__codelineno-0-598></a>            <span class=n>skill_agent_pair_json</span> <span class=o>=</span> <span class=n>_retrieve_json</span><span class=p>(</span><span class=n>skill_agent_pair_json</span><span class=p>)</span>
<a id=__codelineno-0-599 name=__codelineno-0-599></a>            <span class=n>skill_agent_pair</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>skill_agent_pair_json</span><span class=p>)</span>
<a id=__codelineno-0-600 name=__codelineno-0-600></a>            <span class=k>break</span>
<a id=__codelineno-0-601 name=__codelineno-0-601></a>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
<a id=__codelineno-0-602 name=__codelineno-0-602></a>            <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-603 name=__codelineno-0-603></a>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<a id=__codelineno-0-604 name=__codelineno-0-604></a>            <span class=k>continue</span>
<a id=__codelineno-0-605 name=__codelineno-0-605></a>
<a id=__codelineno-0-606 name=__codelineno-0-606></a>    <span class=n>recalled_agent_config_list</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-607 name=__codelineno-0-607></a>    <span class=n>recalled_name_desc</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-608 name=__codelineno-0-608></a>    <span class=k>for</span> <span class=n>skill</span><span class=p>,</span> <span class=n>agent_profile</span> <span class=ow>in</span> <span class=n>skill_agent_pair</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<a id=__codelineno-0-609 name=__codelineno-0-609></a>        <span class=c1># If no suitable agent, generate an agent</span>
<a id=__codelineno-0-610 name=__codelineno-0-610></a>        <span class=k>if</span> <span class=n>agent_profile</span> <span class=o>==</span> <span class=s2>&quot;None&quot;</span><span class=p>:</span>
<a id=__codelineno-0-611 name=__codelineno-0-611></a>            <span class=n>_</span><span class=p>,</span> <span class=n>agent_config_temp</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>build</span><span class=p>(</span>
<a id=__codelineno-0-612 name=__codelineno-0-612></a>                <span class=n>building_task</span><span class=o>=</span><span class=n>skill</span><span class=p>,</span>
<a id=__codelineno-0-613 name=__codelineno-0-613></a>                <span class=n>default_llm_config</span><span class=o>=</span><span class=n>default_llm_config</span><span class=o>.</span><span class=n>copy</span><span class=p>(),</span>
<a id=__codelineno-0-614 name=__codelineno-0-614></a>                <span class=n>coding</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-615 name=__codelineno-0-615></a>                <span class=n>use_oai_assistant</span><span class=o>=</span><span class=n>use_oai_assistant</span><span class=p>,</span>
<a id=__codelineno-0-616 name=__codelineno-0-616></a>                <span class=n>max_agents</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-0-617 name=__codelineno-0-617></a>            <span class=p>)</span>
<a id=__codelineno-0-618 name=__codelineno-0-618></a>            <span class=bp>self</span><span class=o>.</span><span class=n>clear_agent</span><span class=p>(</span><span class=n>agent_config_temp</span><span class=p>[</span><span class=s2>&quot;agent_configs&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>])</span>
<a id=__codelineno-0-619 name=__codelineno-0-619></a>            <span class=n>recalled_agent_config_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>agent_config_temp</span><span class=p>[</span><span class=s2>&quot;agent_configs&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>])</span>
<a id=__codelineno-0-620 name=__codelineno-0-620></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-621 name=__codelineno-0-621></a>            <span class=k>if</span> <span class=n>agent_profile</span> <span class=ow>in</span> <span class=n>recalled_name_desc</span><span class=p>:</span>
<a id=__codelineno-0-622 name=__codelineno-0-622></a>                <span class=c1># prevent identical agents</span>
<a id=__codelineno-0-623 name=__codelineno-0-623></a>                <span class=k>continue</span>
<a id=__codelineno-0-624 name=__codelineno-0-624></a>            <span class=n>recalled_name_desc</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>agent_profile</span><span class=p>)</span>
<a id=__codelineno-0-625 name=__codelineno-0-625></a>            <span class=n>name</span> <span class=o>=</span> <span class=n>agent_profile</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;:&quot;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
<a id=__codelineno-0-626 name=__codelineno-0-626></a>            <span class=n>desc</span> <span class=o>=</span> <span class=n>agent_profile</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;:&quot;</span><span class=p>)[</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
<a id=__codelineno-0-627 name=__codelineno-0-627></a>            <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=n>agent_config_list</span><span class=p>:</span>
<a id=__codelineno-0-628 name=__codelineno-0-628></a>                <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=n>agent</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=ow>and</span> <span class=n>desc</span> <span class=o>==</span> <span class=n>agent</span><span class=p>[</span><span class=s2>&quot;description&quot;</span><span class=p>]:</span>
<a id=__codelineno-0-629 name=__codelineno-0-629></a>                    <span class=n>recalled_agent_config_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>agent</span><span class=o>.</span><span class=n>copy</span><span class=p>())</span>
<a id=__codelineno-0-630 name=__codelineno-0-630></a>
<a id=__codelineno-0-631 name=__codelineno-0-631></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=p>[</span><span class=n>agent</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>agent</span><span class=w> </span><span class=ow>in</span><span class=w> </span><span class=n>recalled_agent_config_list</span><span class=p>]</span><span class=si>}</span><span class=s2> are selected.&quot;</span><span class=p>,</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-632 name=__codelineno-0-632></a>
<a id=__codelineno-0-633 name=__codelineno-0-633></a>    <span class=k>if</span> <span class=n>coding</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-634 name=__codelineno-0-634></a>        <span class=n>resp</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-635 name=__codelineno-0-635></a>            <span class=bp>self</span><span class=o>.</span><span class=n>builder_model</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
<a id=__codelineno-0-636 name=__codelineno-0-636></a>                <span class=n>messages</span><span class=o>=</span><span class=p>[{</span><span class=s2>&quot;role&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span> <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>CODING_PROMPT</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>task</span><span class=o>=</span><span class=n>building_task</span><span class=p>)}]</span>
<a id=__codelineno-0-637 name=__codelineno-0-637></a>            <span class=p>)</span>
<a id=__codelineno-0-638 name=__codelineno-0-638></a>            <span class=o>.</span><span class=n>choices</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-0-639 name=__codelineno-0-639></a>            <span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>content</span>
<a id=__codelineno-0-640 name=__codelineno-0-640></a>        <span class=p>)</span>
<a id=__codelineno-0-641 name=__codelineno-0-641></a>        <span class=n>coding</span> <span class=o>=</span> <span class=n>resp</span> <span class=o>==</span> <span class=s2>&quot;YES&quot;</span>
<a id=__codelineno-0-642 name=__codelineno-0-642></a>
<a id=__codelineno-0-643 name=__codelineno-0-643></a>    <span class=bp>self</span><span class=o>.</span><span class=n>cached_configs</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
<a id=__codelineno-0-644 name=__codelineno-0-644></a>        <span class=s2>&quot;building_task&quot;</span><span class=p>:</span> <span class=n>building_task</span><span class=p>,</span>
<a id=__codelineno-0-645 name=__codelineno-0-645></a>        <span class=s2>&quot;agent_configs&quot;</span><span class=p>:</span> <span class=n>recalled_agent_config_list</span><span class=p>,</span>
<a id=__codelineno-0-646 name=__codelineno-0-646></a>        <span class=s2>&quot;coding&quot;</span><span class=p>:</span> <span class=n>coding</span><span class=p>,</span>
<a id=__codelineno-0-647 name=__codelineno-0-647></a>        <span class=s2>&quot;default_llm_config&quot;</span><span class=p>:</span> <span class=n>default_llm_config</span><span class=p>,</span>
<a id=__codelineno-0-648 name=__codelineno-0-648></a>        <span class=s2>&quot;code_execution_config&quot;</span><span class=p>:</span> <span class=n>code_execution_config</span><span class=p>,</span>
<a id=__codelineno-0-649 name=__codelineno-0-649></a>    <span class=p>})</span>
<a id=__codelineno-0-650 name=__codelineno-0-650></a>    <span class=n>_config_check</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cached_configs</span><span class=p>)</span>
<a id=__codelineno-0-651 name=__codelineno-0-651></a>
<a id=__codelineno-0-652 name=__codelineno-0-652></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_build_agents</span><span class=p>(</span><span class=n>use_oai_assistant</span><span class=p>,</span> <span class=n>user_proxy</span><span class=o>=</span><span class=n>user_proxy</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.save class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.save class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save</span><span class=p>(</span><span class=n>filepath</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Save building configs. If the filepath is not specific, this function will create a filename by encrypt the building_task string by md5 with "save_config_" prefix, and save config to the local path.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>filepath</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>save path.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <details class=return open> <summary>Return</summary> <p>filepath: path save.</p> </details> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-697>697</a></span>
<span class=normal><a href=#__codelineno-0-698>698</a></span>
<span class=normal><a href=#__codelineno-0-699>699</a></span>
<span class=normal><a href=#__codelineno-0-700>700</a></span>
<span class=normal><a href=#__codelineno-0-701>701</a></span>
<span class=normal><a href=#__codelineno-0-702>702</a></span>
<span class=normal><a href=#__codelineno-0-703>703</a></span>
<span class=normal><a href=#__codelineno-0-704>704</a></span>
<span class=normal><a href=#__codelineno-0-705>705</a></span>
<span class=normal><a href=#__codelineno-0-706>706</a></span>
<span class=normal><a href=#__codelineno-0-707>707</a></span>
<span class=normal><a href=#__codelineno-0-708>708</a></span>
<span class=normal><a href=#__codelineno-0-709>709</a></span>
<span class=normal><a href=#__codelineno-0-710>710</a></span>
<span class=normal><a href=#__codelineno-0-711>711</a></span>
<span class=normal><a href=#__codelineno-0-712>712</a></span>
<span class=normal><a href=#__codelineno-0-713>713</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-697 name=__codelineno-0-697></a><span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filepath</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-698 name=__codelineno-0-698></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save building configs. If the filepath is not specific, this function will create a filename by encrypt the</span>
<a id=__codelineno-0-699 name=__codelineno-0-699></a><span class=sd>    building_task string by md5 with &quot;save_config_&quot; prefix, and save config to the local path.</span>
<a id=__codelineno-0-700 name=__codelineno-0-700></a>
<a id=__codelineno-0-701 name=__codelineno-0-701></a><span class=sd>    Args:</span>
<a id=__codelineno-0-702 name=__codelineno-0-702></a><span class=sd>        filepath: save path.</span>
<a id=__codelineno-0-703 name=__codelineno-0-703></a>
<a id=__codelineno-0-704 name=__codelineno-0-704></a><span class=sd>    Return:</span>
<a id=__codelineno-0-705 name=__codelineno-0-705></a><span class=sd>        filepath: path save.</span>
<a id=__codelineno-0-706 name=__codelineno-0-706></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-707 name=__codelineno-0-707></a>    <span class=k>if</span> <span class=n>filepath</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-708 name=__codelineno-0-708></a>        <span class=n>filepath</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;./save_config_</span><span class=si>{</span><span class=n>hashlib</span><span class=o>.</span><span class=n>md5</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>building_task</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span><span class=o>.</span><span class=n>hexdigest</span><span class=p>()</span><span class=si>}</span><span class=s2>.json&quot;</span>
<a id=__codelineno-0-709 name=__codelineno-0-709></a>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filepath</span><span class=p>,</span> <span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>save_file</span><span class=p>:</span>
<a id=__codelineno-0-710 name=__codelineno-0-710></a>        <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cached_configs</span><span class=p>,</span> <span class=n>save_file</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
<a id=__codelineno-0-711 name=__codelineno-0-711></a>    <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Building config saved to </span><span class=si>{</span><span class=n>filepath</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;green&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-712 name=__codelineno-0-712></a>
<a id=__codelineno-0-713 name=__codelineno-0-713></a>    <span class=k>return</span> <span class=n>filepath</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.agentchat.contrib.captainagent.AgentBuilder.load class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">load</span> <a href=#autogen.agentchat.contrib.captainagent.AgentBuilder.load class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>load</span><span class=p>(</span><span class=n>filepath</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config_json</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>use_oai_assistant</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Load building configs and call the build function to complete building without calling online LLMs' api.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>filepath</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>filepath or JSON string for the save config.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>config_json</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>JSON string for the save config.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>use_oai_assistant</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>use OpenAI assistant api instead of self-constructed agent.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>agent_list</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>a list of agents.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title=autogen.ConversableAgent href=../../../../ConversableAgent/#autogen.ConversableAgent>ConversableAgent</a>]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>cached_configs</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>cached configs.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>]</code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/contrib/captainagent/agent_builder.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-715>715</a></span>
<span class=normal><a href=#__codelineno-0-716>716</a></span>
<span class=normal><a href=#__codelineno-0-717>717</a></span>
<span class=normal><a href=#__codelineno-0-718>718</a></span>
<span class=normal><a href=#__codelineno-0-719>719</a></span>
<span class=normal><a href=#__codelineno-0-720>720</a></span>
<span class=normal><a href=#__codelineno-0-721>721</a></span>
<span class=normal><a href=#__codelineno-0-722>722</a></span>
<span class=normal><a href=#__codelineno-0-723>723</a></span>
<span class=normal><a href=#__codelineno-0-724>724</a></span>
<span class=normal><a href=#__codelineno-0-725>725</a></span>
<span class=normal><a href=#__codelineno-0-726>726</a></span>
<span class=normal><a href=#__codelineno-0-727>727</a></span>
<span class=normal><a href=#__codelineno-0-728>728</a></span>
<span class=normal><a href=#__codelineno-0-729>729</a></span>
<span class=normal><a href=#__codelineno-0-730>730</a></span>
<span class=normal><a href=#__codelineno-0-731>731</a></span>
<span class=normal><a href=#__codelineno-0-732>732</a></span>
<span class=normal><a href=#__codelineno-0-733>733</a></span>
<span class=normal><a href=#__codelineno-0-734>734</a></span>
<span class=normal><a href=#__codelineno-0-735>735</a></span>
<span class=normal><a href=#__codelineno-0-736>736</a></span>
<span class=normal><a href=#__codelineno-0-737>737</a></span>
<span class=normal><a href=#__codelineno-0-738>738</a></span>
<span class=normal><a href=#__codelineno-0-739>739</a></span>
<span class=normal><a href=#__codelineno-0-740>740</a></span>
<span class=normal><a href=#__codelineno-0-741>741</a></span>
<span class=normal><a href=#__codelineno-0-742>742</a></span>
<span class=normal><a href=#__codelineno-0-743>743</a></span>
<span class=normal><a href=#__codelineno-0-744>744</a></span>
<span class=normal><a href=#__codelineno-0-745>745</a></span>
<span class=normal><a href=#__codelineno-0-746>746</a></span>
<span class=normal><a href=#__codelineno-0-747>747</a></span>
<span class=normal><a href=#__codelineno-0-748>748</a></span>
<span class=normal><a href=#__codelineno-0-749>749</a></span>
<span class=normal><a href=#__codelineno-0-750>750</a></span>
<span class=normal><a href=#__codelineno-0-751>751</a></span>
<span class=normal><a href=#__codelineno-0-752>752</a></span>
<span class=normal><a href=#__codelineno-0-753>753</a></span>
<span class=normal><a href=#__codelineno-0-754>754</a></span>
<span class=normal><a href=#__codelineno-0-755>755</a></span>
<span class=normal><a href=#__codelineno-0-756>756</a></span>
<span class=normal><a href=#__codelineno-0-757>757</a></span>
<span class=normal><a href=#__codelineno-0-758>758</a></span>
<span class=normal><a href=#__codelineno-0-759>759</a></span>
<span class=normal><a href=#__codelineno-0-760>760</a></span>
<span class=normal><a href=#__codelineno-0-761>761</a></span>
<span class=normal><a href=#__codelineno-0-762>762</a></span>
<span class=normal><a href=#__codelineno-0-763>763</a></span>
<span class=normal><a href=#__codelineno-0-764>764</a></span>
<span class=normal><a href=#__codelineno-0-765>765</a></span>
<span class=normal><a href=#__codelineno-0-766>766</a></span>
<span class=normal><a href=#__codelineno-0-767>767</a></span>
<span class=normal><a href=#__codelineno-0-768>768</a></span>
<span class=normal><a href=#__codelineno-0-769>769</a></span>
<span class=normal><a href=#__codelineno-0-770>770</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-715 name=__codelineno-0-715></a><span class=k>def</span><span class=w> </span><span class=nf>load</span><span class=p>(</span>
<a id=__codelineno-0-716 name=__codelineno-0-716></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-717 name=__codelineno-0-717></a>    <span class=n>filepath</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-718 name=__codelineno-0-718></a>    <span class=n>config_json</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-719 name=__codelineno-0-719></a>    <span class=n>use_oai_assistant</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-720 name=__codelineno-0-720></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
<a id=__codelineno-0-721 name=__codelineno-0-721></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>ConversableAgent</span><span class=p>],</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]:</span>
<a id=__codelineno-0-722 name=__codelineno-0-722></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Load building configs and call the build function to complete building without calling online LLMs&#39; api.</span>
<a id=__codelineno-0-723 name=__codelineno-0-723></a>
<a id=__codelineno-0-724 name=__codelineno-0-724></a><span class=sd>    Args:</span>
<a id=__codelineno-0-725 name=__codelineno-0-725></a><span class=sd>        filepath: filepath or JSON string for the save config.</span>
<a id=__codelineno-0-726 name=__codelineno-0-726></a><span class=sd>        config_json: JSON string for the save config.</span>
<a id=__codelineno-0-727 name=__codelineno-0-727></a><span class=sd>        use_oai_assistant: use OpenAI assistant api instead of self-constructed agent.</span>
<a id=__codelineno-0-728 name=__codelineno-0-728></a>
<a id=__codelineno-0-729 name=__codelineno-0-729></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-730 name=__codelineno-0-730></a><span class=sd>        agent_list: a list of agents.</span>
<a id=__codelineno-0-731 name=__codelineno-0-731></a><span class=sd>        cached_configs: cached configs.</span>
<a id=__codelineno-0-732 name=__codelineno-0-732></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-733 name=__codelineno-0-733></a>    <span class=c1># load json string.</span>
<a id=__codelineno-0-734 name=__codelineno-0-734></a>    <span class=k>if</span> <span class=n>config_json</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-735 name=__codelineno-0-735></a>        <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=s2>&quot;Loading config from JSON...&quot;</span><span class=p>,</span> <span class=s2>&quot;green&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-736 name=__codelineno-0-736></a>        <span class=n>cached_configs</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>config_json</span><span class=p>)</span>
<a id=__codelineno-0-737 name=__codelineno-0-737></a>
<a id=__codelineno-0-738 name=__codelineno-0-738></a>    <span class=c1># load from path.</span>
<a id=__codelineno-0-739 name=__codelineno-0-739></a>    <span class=k>if</span> <span class=n>filepath</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-740 name=__codelineno-0-740></a>        <span class=nb>print</span><span class=p>(</span><span class=n>colored</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Loading config from </span><span class=si>{</span><span class=n>filepath</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;green&quot;</span><span class=p>),</span> <span class=n>flush</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-741 name=__codelineno-0-741></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filepath</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-0-742 name=__codelineno-0-742></a>            <span class=n>cached_configs</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
<a id=__codelineno-0-743 name=__codelineno-0-743></a>
<a id=__codelineno-0-744 name=__codelineno-0-744></a>    <span class=n>_config_check</span><span class=p>(</span><span class=n>cached_configs</span><span class=p>)</span>
<a id=__codelineno-0-745 name=__codelineno-0-745></a>
<a id=__codelineno-0-746 name=__codelineno-0-746></a>    <span class=n>agent_configs</span> <span class=o>=</span> <span class=n>cached_configs</span><span class=p>[</span><span class=s2>&quot;agent_configs&quot;</span><span class=p>]</span>
<a id=__codelineno-0-747 name=__codelineno-0-747></a>    <span class=n>default_llm_config</span> <span class=o>=</span> <span class=n>cached_configs</span><span class=p>[</span><span class=s2>&quot;default_llm_config&quot;</span><span class=p>]</span>
<a id=__codelineno-0-748 name=__codelineno-0-748></a>    <span class=n>coding</span> <span class=o>=</span> <span class=n>cached_configs</span><span class=p>[</span><span class=s2>&quot;coding&quot;</span><span class=p>]</span>
<a id=__codelineno-0-749 name=__codelineno-0-749></a>
<a id=__codelineno-0-750 name=__codelineno-0-750></a>    <span class=k>if</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;code_execution_config&quot;</span><span class=p>)</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-751 name=__codelineno-0-751></a>        <span class=c1># for test</span>
<a id=__codelineno-0-752 name=__codelineno-0-752></a>        <span class=bp>self</span><span class=o>.</span><span class=n>cached_configs</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
<a id=__codelineno-0-753 name=__codelineno-0-753></a>            <span class=s2>&quot;building_task&quot;</span><span class=p>:</span> <span class=n>cached_configs</span><span class=p>[</span><span class=s2>&quot;building_task&quot;</span><span class=p>],</span>
<a id=__codelineno-0-754 name=__codelineno-0-754></a>            <span class=s2>&quot;agent_configs&quot;</span><span class=p>:</span> <span class=n>agent_configs</span><span class=p>,</span>
<a id=__codelineno-0-755 name=__codelineno-0-755></a>            <span class=s2>&quot;coding&quot;</span><span class=p>:</span> <span class=n>coding</span><span class=p>,</span>
<a id=__codelineno-0-756 name=__codelineno-0-756></a>            <span class=s2>&quot;default_llm_config&quot;</span><span class=p>:</span> <span class=n>default_llm_config</span><span class=p>,</span>
<a id=__codelineno-0-757 name=__codelineno-0-757></a>            <span class=s2>&quot;code_execution_config&quot;</span><span class=p>:</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;code_execution_config&quot;</span><span class=p>],</span>
<a id=__codelineno-0-758 name=__codelineno-0-758></a>        <span class=p>})</span>
<a id=__codelineno-0-759 name=__codelineno-0-759></a>        <span class=k>del</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;code_execution_config&quot;</span><span class=p>]</span>
<a id=__codelineno-0-760 name=__codelineno-0-760></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_build_agents</span><span class=p>(</span><span class=n>use_oai_assistant</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-761 name=__codelineno-0-761></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-762 name=__codelineno-0-762></a>        <span class=n>code_execution_config</span> <span class=o>=</span> <span class=n>cached_configs</span><span class=p>[</span><span class=s2>&quot;code_execution_config&quot;</span><span class=p>]</span>
<a id=__codelineno-0-763 name=__codelineno-0-763></a>        <span class=bp>self</span><span class=o>.</span><span class=n>cached_configs</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
<a id=__codelineno-0-764 name=__codelineno-0-764></a>            <span class=s2>&quot;building_task&quot;</span><span class=p>:</span> <span class=n>cached_configs</span><span class=p>[</span><span class=s2>&quot;building_task&quot;</span><span class=p>],</span>
<a id=__codelineno-0-765 name=__codelineno-0-765></a>            <span class=s2>&quot;agent_configs&quot;</span><span class=p>:</span> <span class=n>agent_configs</span><span class=p>,</span>
<a id=__codelineno-0-766 name=__codelineno-0-766></a>            <span class=s2>&quot;coding&quot;</span><span class=p>:</span> <span class=n>coding</span><span class=p>,</span>
<a id=__codelineno-0-767 name=__codelineno-0-767></a>            <span class=s2>&quot;default_llm_config&quot;</span><span class=p>:</span> <span class=n>default_llm_config</span><span class=p>,</span>
<a id=__codelineno-0-768 name=__codelineno-0-768></a>            <span class=s2>&quot;code_execution_config&quot;</span><span class=p>:</span> <span class=n>code_execution_config</span><span class=p>,</span>
<a id=__codelineno-0-769 name=__codelineno-0-769></a>        <span class=p>})</span>
<a id=__codelineno-0-770 name=__codelineno-0-770></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_build_agents</span><span class=p>(</span><span class=n>use_oai_assistant</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-02-27T03:35:23+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-02-27</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../../chat/a_initiate_chats/ class="md-footer__link md-footer__link--prev" aria-label="Previous: a_initiate_chats"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> a_initiate_chats </div> </div> </a> <a href=../CaptainAgent/ class="md-footer__link md-footer__link--next" aria-label="Next: CaptainAgent"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> CaptainAgent </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../../../assets/javascripts/bundle.f1b6f286.min.js></script> <script src=../../../../../../../js/timeago.min.js></script> <script src=../../../../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>
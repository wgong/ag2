<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=https://ag2ai.github.io/ag2/latest/docs/api-reference/autogen/GroupChat/ rel=canonical><link href=../ConversableAgent/ rel=prev><link href=../GroupChatManager/ rel=next><link rel=icon href=../../../../assets/img/favicon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.4"><title>GroupChat - AG2</title><link rel=stylesheet href=../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../css/timeago.css><link rel=stylesheet href=../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../stylesheets/extra.7747e8.min.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - GroupChat"><meta property=og:description content="A programming framework for agentic AI"><meta content=https://ag2ai.github.io/ag2/latest/docs/api-reference/autogen/GroupChat/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - GroupChat"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link href=../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#autogen.GroupChat class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> You're viewing the <strong class=primary-text>work in progress</strong> version of the documentation. Please click <a rel=me href=http://docs.ag2.ai><strong>here</strong></a> for the latest. </div> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> GroupChat </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../home/home/ class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../user-guide/basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../AfterWork/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../faq/FAQ/ class=md-tabs__link> FAQs </a> </li> <li class=md-tabs__item> <a href=../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../home/home/ class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../user-guide/basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> autogen </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> autogen </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../AfterWork/ class=md-nav__link> <span class=md-ellipsis> AfterWork </span> </a> </li> <li class=md-nav__item> <a href=../AfterWorkOption/ class=md-nav__link> <span class=md-ellipsis> AfterWorkOption </span> </a> </li> <li class=md-nav__item> <a href=../Agent/ class=md-nav__link> <span class=md-ellipsis> Agent </span> </a> </li> <li class=md-nav__item> <a href=../AgentNameConflictError/ class=md-nav__link> <span class=md-ellipsis> AgentNameConflictError </span> </a> </li> <li class=md-nav__item> <a href=../AssistantAgent/ class=md-nav__link> <span class=md-ellipsis> AssistantAgent </span> </a> </li> <li class=md-nav__item> <a href=../Cache/ class=md-nav__link> <span class=md-ellipsis> Cache </span> </a> </li> <li class=md-nav__item> <a href=../ChatCompletion/ class=md-nav__link> <span class=md-ellipsis> ChatCompletion </span> </a> </li> <li class=md-nav__item> <a href=../ChatResult/ class=md-nav__link> <span class=md-ellipsis> ChatResult </span> </a> </li> <li class=md-nav__item> <a href=../Completion/ class=md-nav__link> <span class=md-ellipsis> Completion </span> </a> </li> <li class=md-nav__item> <a href=../ConversableAgent/ class=md-nav__link> <span class=md-ellipsis> ConversableAgent </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> GroupChat </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> GroupChat </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#autogen.GroupChat class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GroupChat </span> </a> <nav class=md-nav aria-label= GroupChat> <ul class=md-nav__list> <li class=md-nav__item> <a href=#autogen.GroupChat.agents class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agents </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.messages class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;messages </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.max_round class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;max_round </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.admin_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;admin_name </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.func_call_filter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;func_call_filter </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.speaker_selection_method class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;speaker_selection_method </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.max_retries_for_selecting_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;max_retries_for_selecting_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.allow_repeat_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;allow_repeat_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.allowed_or_disallowed_speaker_transitions class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;allowed_or_disallowed_speaker_transitions </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.speaker_transitions_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;speaker_transitions_type </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.enable_clear_history class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;enable_clear_history </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.send_introductions class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;send_introductions </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_message_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_message_template </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_prompt_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_prompt_template </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_multiple_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_multiple_template </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_none_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_none_template </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_transform_messages class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_transform_messages </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_verbose class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_verbose </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_model_client_cls class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_model_client_cls </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_llm_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_llm_config </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.role_for_select_speaker_messages class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;role_for_select_speaker_messages </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.DEFAULT_INTRO_MSG class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_INTRO_MSG </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.allowed_speaker_transitions_dict class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;allowed_speaker_transitions_dict </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.agent_names class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_names </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.reset class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.append class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;append </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.agent_by_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;agent_by_name </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.nested_agents class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;nested_agents </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.next_agent class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;next_agent </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_msg class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_speaker_msg </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_prompt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_speaker_prompt </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.introductions_msg class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;introductions_msg </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.manual_select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;manual_select_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.random_select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;random_select_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.a_select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_select_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.a_auto_select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_auto_select_speaker </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../GroupChatManager/ class=md-nav__link> <span class=md-ellipsis> GroupChatManager </span> </a> </li> <li class=md-nav__item> <a href=../InvalidCarryOverTypeError/ class=md-nav__link> <span class=md-ellipsis> InvalidCarryOverTypeError </span> </a> </li> <li class=md-nav__item> <a href=../ModelClient/ class=md-nav__link> <span class=md-ellipsis> ModelClient </span> </a> </li> <li class=md-nav__item> <a href=../NoEligibleSpeakerError/ class=md-nav__link> <span class=md-ellipsis> NoEligibleSpeakerError </span> </a> </li> <li class=md-nav__item> <a href=../OnCondition/ class=md-nav__link> <span class=md-ellipsis> OnCondition </span> </a> </li> <li class=md-nav__item> <a href=../OpenAIWrapper/ class=md-nav__link> <span class=md-ellipsis> OpenAIWrapper </span> </a> </li> <li class=md-nav__item> <a href=../ReasoningAgent/ class=md-nav__link> <span class=md-ellipsis> ReasoningAgent </span> </a> </li> <li class=md-nav__item> <a href=../SenderRequiredError/ class=md-nav__link> <span class=md-ellipsis> SenderRequiredError </span> </a> </li> <li class=md-nav__item> <a href=../ThinkNode/ class=md-nav__link> <span class=md-ellipsis> ThinkNode </span> </a> </li> <li class=md-nav__item> <a href=../UndefinedNextAgentError/ class=md-nav__link> <span class=md-ellipsis> UndefinedNextAgentError </span> </a> </li> <li class=md-nav__item> <a href=../UserProxyAgent/ class=md-nav__link> <span class=md-ellipsis> UserProxyAgent </span> </a> </li> <li class=md-nav__item> <a href=../a_initiate_swarm_chat/ class=md-nav__link> <span class=md-ellipsis> a_initiate_swarm_chat </span> </a> </li> <li class=md-nav__item> <a href=../config_list_from_dotenv/ class=md-nav__link> <span class=md-ellipsis> config_list_from_dotenv </span> </a> </li> <li class=md-nav__item> <a href=../config_list_from_json/ class=md-nav__link> <span class=md-ellipsis> config_list_from_json </span> </a> </li> <li class=md-nav__item> <a href=../config_list_from_models/ class=md-nav__link> <span class=md-ellipsis> config_list_from_models </span> </a> </li> <li class=md-nav__item> <a href=../config_list_gpt4_gpt35/ class=md-nav__link> <span class=md-ellipsis> config_list_gpt4_gpt35 </span> </a> </li> <li class=md-nav__item> <a href=../config_list_openai_aoai/ class=md-nav__link> <span class=md-ellipsis> config_list_openai_aoai </span> </a> </li> <li class=md-nav__item> <a href=../filter_config/ class=md-nav__link> <span class=md-ellipsis> filter_config </span> </a> </li> <li class=md-nav__item> <a href=../gather_usage_summary/ class=md-nav__link> <span class=md-ellipsis> gather_usage_summary </span> </a> </li> <li class=md-nav__item> <a href=../get_config_list/ class=md-nav__link> <span class=md-ellipsis> get_config_list </span> </a> </li> <li class=md-nav__item> <a href=../initiate_chats/ class=md-nav__link> <span class=md-ellipsis> initiate_chats </span> </a> </li> <li class=md-nav__item> <a href=../initiate_swarm_chat/ class=md-nav__link> <span class=md-ellipsis> initiate_swarm_chat </span> </a> </li> <li class=md-nav__item> <a href=../register_function/ class=md-nav__link> <span class=md-ellipsis> register_function </span> </a> </li> <li class=md-nav__item> <a href=../visualize_tree/ class=md-nav__link> <span class=md-ellipsis> visualize_tree </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../agentchat/chat/a_initiate_chats/ class=md-nav__link> <span class=md-ellipsis> agentchat </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../agents/contrib/TimeReplyAgent/ class=md-nav__link> <span class=md-ellipsis> agents </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../cache/AbstractCache/ class=md-nav__link> <span class=md-ellipsis> cache </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../coding/CodeBlock/ class=md-nav__link> <span class=md-ellipsis> coding </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../doc_utils/export_module/ class=md-nav__link> <span class=md-ellipsis> doc_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../exception_utils/ModelToolNotSupportedError/ class=md-nav__link> <span class=md-ellipsis> exception_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../import_utils/optional_import_block/ class=md-nav__link> <span class=md-ellipsis> import_utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../interop/CrewAIInteroperability/ class=md-nav__link> <span class=md-ellipsis> interop </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../io/IOConsole/ class=md-nav__link> <span class=md-ellipsis> io </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../logger/FileLogger/ class=md-nav__link> <span class=md-ellipsis> logger </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../messages/BaseMessage/ class=md-nav__link> <span class=md-ellipsis> messages </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../oai/oai_models/_models/BaseModel/ class=md-nav__link> <span class=md-ellipsis> oai </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../tools/BaseContext/ class=md-nav__link> <span class=md-ellipsis> tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../faq/FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#autogen.GroupChat class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GroupChat </span> </a> <nav class=md-nav aria-label= GroupChat> <ul class=md-nav__list> <li class=md-nav__item> <a href=#autogen.GroupChat.agents class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agents </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.messages class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;messages </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.max_round class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;max_round </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.admin_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;admin_name </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.func_call_filter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;func_call_filter </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.speaker_selection_method class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;speaker_selection_method </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.max_retries_for_selecting_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;max_retries_for_selecting_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.allow_repeat_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;allow_repeat_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.allowed_or_disallowed_speaker_transitions class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;allowed_or_disallowed_speaker_transitions </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.speaker_transitions_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;speaker_transitions_type </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.enable_clear_history class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;enable_clear_history </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.send_introductions class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;send_introductions </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_message_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_message_template </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_prompt_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_prompt_template </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_multiple_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_multiple_template </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_none_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_none_template </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_transform_messages class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_transform_messages </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_verbose class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_verbose </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_model_client_cls class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_model_client_cls </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_auto_llm_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;select_speaker_auto_llm_config </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.role_for_select_speaker_messages class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;role_for_select_speaker_messages </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.DEFAULT_INTRO_MSG class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_INTRO_MSG </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.allowed_speaker_transitions_dict class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;allowed_speaker_transitions_dict </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.agent_names class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agent_names </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.reset class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.append class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;append </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.agent_by_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;agent_by_name </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.nested_agents class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;nested_agents </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.next_agent class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;next_agent </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_msg class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_speaker_msg </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker_prompt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_speaker_prompt </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.introductions_msg class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;introductions_msg </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.manual_select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;manual_select_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.random_select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;random_select_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.a_select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_select_speaker </span> </a> </li> <li class=md-nav__item> <a href=#autogen.GroupChat.a_auto_select_speaker class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;a_auto_select_speaker </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/website/mkdocs/docs/docs/api-reference/autogen/GroupChat.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1>GroupChat</h1> <div class="doc doc-object doc-class"> <h2 id=autogen.GroupChat class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">autogen.GroupChat</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small> </span> <a href=#autogen.GroupChat class=headerlink title="Permanent link">#</a></h2> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>GroupChat</span><span class=p>(</span><span class=n>agents</span><span class=p>,</span> <span class=n>messages</span><span class=o>=</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a></span><span class=p>(),</span> <span class=n>max_round</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>admin_name</span><span class=o>=</span><span class=s1>&#39;Admin&#39;</span><span class=p>,</span> <span class=n>func_call_filter</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>speaker_selection_method</span><span class=o>=</span><span class=s1>&#39;auto&#39;</span><span class=p>,</span> <span class=n>max_retries_for_selecting_speaker</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>allow_repeat_speaker</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>allowed_or_disallowed_speaker_transitions</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>speaker_transitions_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>enable_clear_history</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>send_introductions</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>select_speaker_message_template</span><span class=o>=</span><span class=s1>&#39;You are in a role play game. The following roles are available:</span><span class=se>\n</span><span class=s1>                </span><span class=si>{roles}</span><span class=s1>.</span><span class=se>\n</span><span class=s1>                Read the following conversation.</span><span class=se>\n</span><span class=s1>                Then select the next role from </span><span class=si>{agentlist}</span><span class=s1> to play. Only return the role.&#39;</span><span class=p>,</span> <span class=n>select_speaker_prompt_template</span><span class=o>=</span><span class=n><span title=autogen.agentchat.groupchat.SELECT_SPEAKER_PROMPT_TEMPLATE>SELECT_SPEAKER_PROMPT_TEMPLATE</span></span><span class=p>,</span> <span class=n>select_speaker_auto_multiple_template</span><span class=o>=</span><span class=s1>&#39;You provided more than one name in your text, please return just the name of the next speaker. To determine the speaker use these prioritised rules:</span><span class=se>\n</span><span class=s1>    1. If the context refers to themselves as a speaker e.g. &quot;As the...&quot; , choose that speaker</span><span class=se>\&#39;</span><span class=s1>s name</span><span class=se>\n</span><span class=s1>    2. If it refers to the &quot;next&quot; speaker name, choose that name</span><span class=se>\n</span><span class=s1>    3. Otherwise, choose the first provided speaker</span><span class=se>\&#39;</span><span class=s1>s name in the context</span><span class=se>\n</span><span class=s1>    The names are case-sensitive and should not be abbreviated or changed.</span><span class=se>\n</span><span class=s1>    Respond with ONLY the name of the speaker and DO NOT provide a reason.&#39;</span><span class=p>,</span> <span class=n>select_speaker_auto_none_template</span><span class=o>=</span><span class=s1>&#39;You didn</span><span class=se>\&#39;</span><span class=s1>t choose a speaker. As a reminder, to determine the speaker use these prioritised rules:</span><span class=se>\n</span><span class=s1>    1. If the context refers to themselves as a speaker e.g. &quot;As the...&quot; , choose that speaker</span><span class=se>\&#39;</span><span class=s1>s name</span><span class=se>\n</span><span class=s1>    2. If it refers to the &quot;next&quot; speaker name, choose that name</span><span class=se>\n</span><span class=s1>    3. Otherwise, choose the first provided speaker</span><span class=se>\&#39;</span><span class=s1>s name in the context</span><span class=se>\n</span><span class=s1>    The names are case-sensitive and should not be abbreviated or changed.</span><span class=se>\n</span><span class=s1>    The only names that are accepted are </span><span class=si>{agentlist}</span><span class=s1>.</span><span class=se>\n</span><span class=s1>    Respond with ONLY the name of the speaker and DO NOT provide a reason.&#39;</span><span class=p>,</span> <span class=n>select_speaker_transform_messages</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>select_speaker_auto_verbose</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>select_speaker_auto_model_client_cls</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>select_speaker_auto_llm_config</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>role_for_select_speaker_messages</span><span class=o>=</span><span class=s1>&#39;system&#39;</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents first"> <p>(In preview) A group chat class that contains the following data fields: - agents: a list of participating agents. - messages: a list of messages in the group chat. - max_round: the maximum number of rounds. - admin_name: the name of the admin agent if there is one. Default is "Admin". KeyBoardInterrupt will make the admin agent take over. - func_call_filter: whether to enforce function call filter. Default is True. When set to True and when a message is a function call suggestion, the next speaker will be chosen from an agent which contains the corresponding function name in its <code>function_map</code>. - select_speaker_message_template: customize the select speaker message (used in "auto" speaker selection), which appears first in the message context and generally includes the agent descriptions and list of agents. If the string contains "<code>{roles}</code>" it will replaced with the agent's and their role descriptions. If the string contains "<code>{agentlist}</code>" it will be replaced with a comma-separated list of agent names in square brackets. The default value is: "You are in a role play game. The following roles are available: <code>{roles}</code>. Read the following conversation. Then select the next role from <code>{agentlist}</code> to play. Only return the role." - select_speaker_prompt_template: customize the select speaker prompt (used in "auto" speaker selection), which appears last in the message context and generally includes the list of agents and guidance for the LLM to select the next agent. If the string contains "<code>{agentlist}</code>" it will be replaced with a comma-separated list of agent names in square brackets. The default value is: "Read the above conversation. Then select the next role from <code>{agentlist}</code> to play. Only return the role." To ignore this prompt being used, set this to None. If set to None, ensure your instructions for selecting a speaker are in the select_speaker_message_template string. - select_speaker_auto_multiple_template: customize the follow-up prompt used when selecting a speaker fails with a response that contains multiple agent names. This prompt guides the LLM to return just one agent name. Applies only to "auto" speaker selection method. If the string contains "<code>{agentlist}</code>" it will be replaced with a comma-separated list of agent names in square brackets. The default value is: "You provided more than one name in your text, please return just the name of the next speaker. To determine the speaker use these prioritised rules: 1. If the context refers to themselves as a speaker e.g. "As the..." , choose that speaker's name 2. If it refers to the "next" speaker name, choose that name 3. Otherwise, choose the first provided speaker's name in the context The names are case-sensitive and should not be abbreviated or changed. Respond with ONLY the name of the speaker and DO NOT provide a reason." - select_speaker_auto_none_template: customize the follow-up prompt used when selecting a speaker fails with a response that contains no agent names. This prompt guides the LLM to return an agent name and provides a list of agent names. Applies only to "auto" speaker selection method. If the string contains "<code>{agentlist}</code>" it will be replaced with a comma-separated list of agent names in square brackets. The default value is: "You didn't choose a speaker. As a reminder, to determine the speaker use these prioritised rules: 1. If the context refers to themselves as a speaker e.g. "As the..." , choose that speaker's name 2. If it refers to the "next" speaker name, choose that name 3. Otherwise, choose the first provided speaker's name in the context The names are case-sensitive and should not be abbreviated or changed. The only names that are accepted are <code>{agentlist}</code>. Respond with ONLY the name of the speaker and DO NOT provide a reason." - speaker_selection_method: the method for selecting the next speaker. Default is "auto". Could be any of the following (case insensitive), will raise ValueError if not recognized: - "auto": the next speaker is selected automatically by LLM. - "manual": the next speaker is selected manually by user input. - "random": the next speaker is selected randomly. - "round_robin": the next speaker is selected in a round robin fashion, i.e., iterating in the same order as provided in <code>agents</code>. - a customized speaker selection function (Callable): the function will be called to select the next speaker. The function should take the last speaker and the group chat as input and return one of the following: 1. an <code>Agent</code> class, it must be one of the agents in the group chat. 2. a string from ['auto', 'manual', 'random', 'round_robin'] to select a default method to use. 3. None, which would terminate the conversation gracefully. <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>def</span><span class=w> </span><span class=nf>custom_speaker_selection_func</span><span class=p>(</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>last_speaker</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span> <span class=n>groupchat</span><span class=p>:</span> <span class=n>GroupChat</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Agent</span><span class=p>,</span> <span class=nb>str</span><span class=p>,</span> <span class=kc>None</span><span class=p>]:</span>
</code></pre></div> - max_retries_for_selecting_speaker: the maximum number of times the speaker selection requery process will run. If, during speaker selection, multiple agent names or no agent names are returned by the LLM as the next agent, it will be queried again up to the maximum number of times until a single agent is returned or it exhausts the maximum attempts. Applies only to "auto" speaker selection method. Default is 2. - select_speaker_transform_messages: (optional) the message transformations to apply to the nested select speaker agent-to-agent chat messages. Takes a TransformMessages object, defaults to None and is only utilised when the speaker selection method is "auto". - select_speaker_auto_verbose: whether to output the select speaker responses and selections If set to True, the outputs from the two agents in the nested select speaker chat will be output, along with whether the responses were successful, or not, in selecting an agent Applies only to "auto" speaker selection method. - allow_repeat_speaker: whether to allow the same speaker to speak consecutively. Default is True, in which case all speakers are allowed to speak consecutively. If <code>allow_repeat_speaker</code> is a list of Agents, then only those listed agents are allowed to repeat. If set to False, then no speakers are allowed to repeat. <code>allow_repeat_speaker</code> and <code>allowed_or_disallowed_speaker_transitions</code> are mutually exclusive. - allowed_or_disallowed_speaker_transitions: dict. The keys are source agents, and the values are agents that the key agent can/can't transit to, depending on speaker_transitions_type. Default is None, which means all agents can transit to all other agents. <code>allow_repeat_speaker</code> and <code>allowed_or_disallowed_speaker_transitions</code> are mutually exclusive. - speaker_transitions_type: whether the speaker_transitions_type is a dictionary containing lists of allowed agents or disallowed agents. "allowed" means the <code>allowed_or_disallowed_speaker_transitions</code> is a dictionary containing lists of allowed agents. If set to "disallowed", then the <code>allowed_or_disallowed_speaker_transitions</code> is a dictionary containing lists of disallowed agents. Must be supplied if <code>allowed_or_disallowed_speaker_transitions</code> is not None. - enable_clear_history: enable possibility to clear history of messages for agents manually by providing "clear history" phrase in user prompt. This is experimental feature. See description of GroupChatManager.clear_agents_history function for more info. - send_introductions: send a round of introductions at the start of the group chat, so agents know who they can speak to (default: False) - select_speaker_auto_model_client_cls: Custom model client class for the internal speaker select agent used during 'auto' speaker selection (optional) - select_speaker_auto_llm_config: LLM config for the internal speaker select agent used during 'auto' speaker selection (optional) - role_for_select_speaker_messages: sets the role name for speaker selection when in 'auto' mode, typically 'user' or 'system'. (default: 'system')</p> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.agents class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">agents</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.agents class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>agents</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.messages class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">messages</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.messages class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>messages</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=dataclasses.field href=https://docs.python.org/3/library/dataclasses.html#dataclasses.field>field</a></span><span class=p>(</span><span class=n><span title=dataclasses.field(default_factory)>default_factory</span></span><span class=o>=</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.max_round class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">max_round</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.max_round class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>max_round</span> <span class=o>=</span> <span class=mi>10</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.admin_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">admin_name</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.admin_name class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>admin_name</span> <span class=o>=</span> <span class=s1>&#39;Admin&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.func_call_filter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">func_call_filter</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.func_call_filter class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>func_call_filter</span> <span class=o>=</span> <span class=kc>True</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.speaker_selection_method class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">speaker_selection_method</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.speaker_selection_method class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>speaker_selection_method</span> <span class=o>=</span> <span class=s1>&#39;auto&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.max_retries_for_selecting_speaker class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">max_retries_for_selecting_speaker</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.max_retries_for_selecting_speaker class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>max_retries_for_selecting_speaker</span> <span class=o>=</span> <span class=mi>2</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.allow_repeat_speaker class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">allow_repeat_speaker</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.allow_repeat_speaker class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>allow_repeat_speaker</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.allowed_or_disallowed_speaker_transitions class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">allowed_or_disallowed_speaker_transitions</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.allowed_or_disallowed_speaker_transitions class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>allowed_or_disallowed_speaker_transitions</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.speaker_transitions_type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">speaker_transitions_type</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.speaker_transitions_type class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>speaker_transitions_type</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.enable_clear_history class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">enable_clear_history</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.enable_clear_history class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>enable_clear_history</span> <span class=o>=</span> <span class=kc>False</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.send_introductions class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">send_introductions</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.send_introductions class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>send_introductions</span> <span class=o>=</span> <span class=kc>False</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.select_speaker_message_template class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">select_speaker_message_template</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.select_speaker_message_template class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>select_speaker_message_template</span> <span class=o>=</span> <span class=s1>&#39;You are in a role play game. The following roles are available:</span><span class=se>\n</span><span class=s1>                </span><span class=si>{roles}</span><span class=s1>.</span><span class=se>\n</span><span class=s1>                Read the following conversation.</span><span class=se>\n</span><span class=s1>                Then select the next role from </span><span class=si>{agentlist}</span><span class=s1> to play. Only return the role.&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.select_speaker_prompt_template class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">select_speaker_prompt_template</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.select_speaker_prompt_template class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>select_speaker_prompt_template</span> <span class=o>=</span> <span class=n><span title=autogen.agentchat.groupchat.SELECT_SPEAKER_PROMPT_TEMPLATE>SELECT_SPEAKER_PROMPT_TEMPLATE</span></span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.select_speaker_auto_multiple_template class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">select_speaker_auto_multiple_template</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.select_speaker_auto_multiple_template class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>select_speaker_auto_multiple_template</span> <span class=o>=</span> <span class=s1>&#39;You provided more than one name in your text, please return just the name of the next speaker. To determine the speaker use these prioritised rules:</span><span class=se>\n</span><span class=s1>    1. If the context refers to themselves as a speaker e.g. &quot;As the...&quot; , choose that speaker</span><span class=se>\&#39;</span><span class=s1>s name</span><span class=se>\n</span><span class=s1>    2. If it refers to the &quot;next&quot; speaker name, choose that name</span><span class=se>\n</span><span class=s1>    3. Otherwise, choose the first provided speaker</span><span class=se>\&#39;</span><span class=s1>s name in the context</span><span class=se>\n</span><span class=s1>    The names are case-sensitive and should not be abbreviated or changed.</span><span class=se>\n</span><span class=s1>    Respond with ONLY the name of the speaker and DO NOT provide a reason.&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.select_speaker_auto_none_template class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">select_speaker_auto_none_template</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.select_speaker_auto_none_template class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>select_speaker_auto_none_template</span> <span class=o>=</span> <span class=s1>&#39;You didn</span><span class=se>\&#39;</span><span class=s1>t choose a speaker. As a reminder, to determine the speaker use these prioritised rules:</span><span class=se>\n</span><span class=s1>    1. If the context refers to themselves as a speaker e.g. &quot;As the...&quot; , choose that speaker</span><span class=se>\&#39;</span><span class=s1>s name</span><span class=se>\n</span><span class=s1>    2. If it refers to the &quot;next&quot; speaker name, choose that name</span><span class=se>\n</span><span class=s1>    3. Otherwise, choose the first provided speaker</span><span class=se>\&#39;</span><span class=s1>s name in the context</span><span class=se>\n</span><span class=s1>    The names are case-sensitive and should not be abbreviated or changed.</span><span class=se>\n</span><span class=s1>    The only names that are accepted are </span><span class=si>{agentlist}</span><span class=s1>.</span><span class=se>\n</span><span class=s1>    Respond with ONLY the name of the speaker and DO NOT provide a reason.&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.select_speaker_transform_messages class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">select_speaker_transform_messages</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.select_speaker_transform_messages class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>select_speaker_transform_messages</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.select_speaker_auto_verbose class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">select_speaker_auto_verbose</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.select_speaker_auto_verbose class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>select_speaker_auto_verbose</span> <span class=o>=</span> <span class=kc>False</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.select_speaker_auto_model_client_cls class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">select_speaker_auto_model_client_cls</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.select_speaker_auto_model_client_cls class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>select_speaker_auto_model_client_cls</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.select_speaker_auto_llm_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">select_speaker_auto_llm_config</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.select_speaker_auto_llm_config class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>select_speaker_auto_llm_config</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.role_for_select_speaker_messages class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">role_for_select_speaker_messages</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.role_for_select_speaker_messages class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>role_for_select_speaker_messages</span> <span class=o>=</span> <span class=s1>&#39;system&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.DEFAULT_INTRO_MSG class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">DEFAULT_INTRO_MSG</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.DEFAULT_INTRO_MSG class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>DEFAULT_INTRO_MSG</span> <span class=o>=</span> <span class=s1>&#39;Hello everyone. We have assembled a great team today to answer questions and solve tasks. In attendance are:&#39;</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.allowed_speaker_transitions_dict class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">allowed_speaker_transitions_dict</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#autogen.GroupChat.allowed_speaker_transitions_dict class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>allowed_speaker_transitions_dict</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=dataclasses.field href=https://docs.python.org/3/library/dataclasses.html#dataclasses.field>field</a></span><span class=p>(</span><span class=n><span title=dataclasses.field(init)>init</span></span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=autogen.GroupChat.agent_names class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">agent_names</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#autogen.GroupChat.agent_names class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>agent_names</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the names of the agents in the group chat.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.reset class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">reset</span> <a href=#autogen.GroupChat.reset class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>reset</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Reset the group chat.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-298 name=__codelineno-0-298></a><span class=k>def</span><span class=w> </span><span class=nf>reset</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a id=__codelineno-0-299 name=__codelineno-0-299></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Reset the group chat.&quot;&quot;&quot;</span>
<a id=__codelineno-0-300 name=__codelineno-0-300></a>    <span class=bp>self</span><span class=o>.</span><span class=n>messages</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.append class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">append</span> <a href=#autogen.GroupChat.append class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>append</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>speaker</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Append a message to the group chat. We cast the content to str here so that it can be managed by text-based model.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span>
<span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-302 name=__codelineno-0-302></a><span class=k>def</span><span class=w> </span><span class=nf>append</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>speaker</span><span class=p>:</span> <span class=n>Agent</span><span class=p>):</span>
<a id=__codelineno-0-303 name=__codelineno-0-303></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Append a message to the group chat.</span>
<a id=__codelineno-0-304 name=__codelineno-0-304></a><span class=sd>    We cast the content to str here so that it can be managed by text-based</span>
<a id=__codelineno-0-305 name=__codelineno-0-305></a><span class=sd>    model.</span>
<a id=__codelineno-0-306 name=__codelineno-0-306></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-307 name=__codelineno-0-307></a>    <span class=c1># set the name to speaker&#39;s name if the role is not function</span>
<a id=__codelineno-0-308 name=__codelineno-0-308></a>    <span class=c1># if the role is tool, it is OK to modify the name</span>
<a id=__codelineno-0-309 name=__codelineno-0-309></a>    <span class=k>if</span> <span class=n>message</span><span class=p>[</span><span class=s2>&quot;role&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;function&quot;</span><span class=p>:</span>
<a id=__codelineno-0-310 name=__codelineno-0-310></a>        <span class=n>message</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>speaker</span><span class=o>.</span><span class=n>name</span>
<a id=__codelineno-0-311 name=__codelineno-0-311></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>],</span> <span class=nb>str</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>],</span> <span class=nb>list</span><span class=p>):</span>
<a id=__codelineno-0-312 name=__codelineno-0-312></a>        <span class=n>message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>])</span>
<a id=__codelineno-0-313 name=__codelineno-0-313></a>    <span class=n>message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>content_str</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>])</span>
<a id=__codelineno-0-314 name=__codelineno-0-314></a>    <span class=bp>self</span><span class=o>.</span><span class=n>messages</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.agent_by_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">agent_by_name</span> <a href=#autogen.GroupChat.agent_by_name class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>agent_by_name</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>recursive</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>raise_on_name_conflict</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns the agent with a given name. If recursive is True, it will search in nested teams.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-316 name=__codelineno-0-316></a><span class=k>def</span><span class=w> </span><span class=nf>agent_by_name</span><span class=p>(</span>
<a id=__codelineno-0-317 name=__codelineno-0-317></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>recursive</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>raise_on_name_conflict</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<a id=__codelineno-0-318 name=__codelineno-0-318></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Agent</span><span class=p>]:</span>
<a id=__codelineno-0-319 name=__codelineno-0-319></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the agent with a given name. If recursive is True, it will search in nested teams.&quot;&quot;&quot;</span>
<a id=__codelineno-0-320 name=__codelineno-0-320></a>    <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>nested_agents</span><span class=p>()</span> <span class=k>if</span> <span class=n>recursive</span> <span class=k>else</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span>
<a id=__codelineno-0-321 name=__codelineno-0-321></a>    <span class=n>filtered_agents</span> <span class=o>=</span> <span class=p>[</span><span class=n>agent</span> <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=n>agents</span> <span class=k>if</span> <span class=n>agent</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>name</span><span class=p>]</span>
<a id=__codelineno-0-322 name=__codelineno-0-322></a>
<a id=__codelineno-0-323 name=__codelineno-0-323></a>    <span class=k>if</span> <span class=n>raise_on_name_conflict</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>filtered_agents</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
<a id=__codelineno-0-324 name=__codelineno-0-324></a>        <span class=k>raise</span> <span class=n>AgentNameConflictError</span><span class=p>()</span>
<a id=__codelineno-0-325 name=__codelineno-0-325></a>
<a id=__codelineno-0-326 name=__codelineno-0-326></a>    <span class=k>return</span> <span class=n>filtered_agents</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>if</span> <span class=n>filtered_agents</span> <span class=k>else</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.nested_agents class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">nested_agents</span> <a href=#autogen.GroupChat.nested_agents class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>nested_agents</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns all agents in the group chat manager.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-328 name=__codelineno-0-328></a><span class=k>def</span><span class=w> </span><span class=nf>nested_agents</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>Agent</span><span class=p>]:</span>
<a id=__codelineno-0-329 name=__codelineno-0-329></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns all agents in the group chat manager.&quot;&quot;&quot;</span>
<a id=__codelineno-0-330 name=__codelineno-0-330></a>    <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
<a id=__codelineno-0-331 name=__codelineno-0-331></a>    <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=n>agents</span><span class=p>:</span>
<a id=__codelineno-0-332 name=__codelineno-0-332></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>agent</span><span class=p>,</span> <span class=n>GroupChatManager</span><span class=p>):</span>
<a id=__codelineno-0-333 name=__codelineno-0-333></a>            <span class=c1># Recursive call for nested teams</span>
<a id=__codelineno-0-334 name=__codelineno-0-334></a>            <span class=n>agents</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>agent</span><span class=o>.</span><span class=n>groupchat</span><span class=o>.</span><span class=n>nested_agents</span><span class=p>())</span>
<a id=__codelineno-0-335 name=__codelineno-0-335></a>    <span class=k>return</span> <span class=n>agents</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.next_agent class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">next_agent</span> <a href=#autogen.GroupChat.next_agent class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>next_agent</span><span class=p>(</span><span class=n>agent</span><span class=p>,</span> <span class=n>agents</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the next agent in the list.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-337 name=__codelineno-0-337></a><span class=k>def</span><span class=w> </span><span class=nf>next_agent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agent</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span> <span class=n>agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>Agent</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Agent</span><span class=p>:</span>
<a id=__codelineno-0-338 name=__codelineno-0-338></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the next agent in the list.&quot;&quot;&quot;</span>
<a id=__codelineno-0-339 name=__codelineno-0-339></a>    <span class=k>if</span> <span class=n>agents</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-340 name=__codelineno-0-340></a>        <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span>
<a id=__codelineno-0-341 name=__codelineno-0-341></a>
<a id=__codelineno-0-342 name=__codelineno-0-342></a>    <span class=c1># Ensure the provided list of agents is a subset of self.agents</span>
<a id=__codelineno-0-343 name=__codelineno-0-343></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>set</span><span class=p>(</span><span class=n>agents</span><span class=p>)</span><span class=o>.</span><span class=n>issubset</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>)):</span>
<a id=__codelineno-0-344 name=__codelineno-0-344></a>        <span class=k>raise</span> <span class=n>UndefinedNextAgentError</span><span class=p>()</span>
<a id=__codelineno-0-345 name=__codelineno-0-345></a>
<a id=__codelineno-0-346 name=__codelineno-0-346></a>    <span class=c1># What index is the agent? (-1 if not present)</span>
<a id=__codelineno-0-347 name=__codelineno-0-347></a>    <span class=n>idx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agent_names</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>agent</span><span class=o>.</span><span class=n>name</span><span class=p>)</span> <span class=k>if</span> <span class=n>agent</span><span class=o>.</span><span class=n>name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>agent_names</span> <span class=k>else</span> <span class=o>-</span><span class=mi>1</span>
<a id=__codelineno-0-348 name=__codelineno-0-348></a>
<a id=__codelineno-0-349 name=__codelineno-0-349></a>    <span class=c1># Return the next agent</span>
<a id=__codelineno-0-350 name=__codelineno-0-350></a>    <span class=k>if</span> <span class=n>agents</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>:</span>
<a id=__codelineno-0-351 name=__codelineno-0-351></a>        <span class=k>return</span> <span class=n>agents</span><span class=p>[(</span><span class=n>idx</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=nb>len</span><span class=p>(</span><span class=n>agents</span><span class=p>)]</span>
<a id=__codelineno-0-352 name=__codelineno-0-352></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-353 name=__codelineno-0-353></a>        <span class=n>offset</span> <span class=o>=</span> <span class=n>idx</span> <span class=o>+</span> <span class=mi>1</span>
<a id=__codelineno-0-354 name=__codelineno-0-354></a>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>)):</span>
<a id=__codelineno-0-355 name=__codelineno-0-355></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>[(</span><span class=n>offset</span> <span class=o>+</span> <span class=n>i</span><span class=p>)</span> <span class=o>%</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>)]</span> <span class=ow>in</span> <span class=n>agents</span><span class=p>:</span>
<a id=__codelineno-0-356 name=__codelineno-0-356></a>                <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>[(</span><span class=n>offset</span> <span class=o>+</span> <span class=n>i</span><span class=p>)</span> <span class=o>%</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>)]</span>
<a id=__codelineno-0-357 name=__codelineno-0-357></a>
<a id=__codelineno-0-358 name=__codelineno-0-358></a>    <span class=c1># Explicitly handle cases where no valid next agent exists in the provided subset.</span>
<a id=__codelineno-0-359 name=__codelineno-0-359></a>    <span class=k>raise</span> <span class=n>UndefinedNextAgentError</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.select_speaker_msg class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">select_speaker_msg</span> <a href=#autogen.GroupChat.select_speaker_msg class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>select_speaker_msg</span><span class=p>(</span><span class=n>agents</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the system message for selecting the next speaker. This is always the <em>first</em> message in the context.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-361 name=__codelineno-0-361></a><span class=k>def</span><span class=w> </span><span class=nf>select_speaker_msg</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>Agent</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-362 name=__codelineno-0-362></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the system message for selecting the next speaker. This is always the *first* message in the context.&quot;&quot;&quot;</span>
<a id=__codelineno-0-363 name=__codelineno-0-363></a>    <span class=k>if</span> <span class=n>agents</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-364 name=__codelineno-0-364></a>        <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span>
<a id=__codelineno-0-365 name=__codelineno-0-365></a>
<a id=__codelineno-0-366 name=__codelineno-0-366></a>    <span class=n>roles</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_participant_roles</span><span class=p>(</span><span class=n>agents</span><span class=p>)</span>
<a id=__codelineno-0-367 name=__codelineno-0-367></a>    <span class=n>agentlist</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=p>[</span><span class=n>agent</span><span class=o>.</span><span class=n>name</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>agent</span><span class=w> </span><span class=ow>in</span><span class=w> </span><span class=n>agents</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-368 name=__codelineno-0-368></a>
<a id=__codelineno-0-369 name=__codelineno-0-369></a>    <span class=n>return_msg</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>select_speaker_message_template</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>roles</span><span class=o>=</span><span class=n>roles</span><span class=p>,</span> <span class=n>agentlist</span><span class=o>=</span><span class=n>agentlist</span><span class=p>)</span>
<a id=__codelineno-0-370 name=__codelineno-0-370></a>    <span class=k>return</span> <span class=n>return_msg</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.select_speaker_prompt class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">select_speaker_prompt</span> <a href=#autogen.GroupChat.select_speaker_prompt class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>select_speaker_prompt</span><span class=p>(</span><span class=n>agents</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the floating system prompt selecting the next speaker. This is always the <em>last</em> message in the context. Will return None if the select_speaker_prompt_template is None.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-372 name=__codelineno-0-372></a><span class=k>def</span><span class=w> </span><span class=nf>select_speaker_prompt</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>Agent</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-373 name=__codelineno-0-373></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the floating system prompt selecting the next speaker.</span>
<a id=__codelineno-0-374 name=__codelineno-0-374></a><span class=sd>    This is always the *last* message in the context.</span>
<a id=__codelineno-0-375 name=__codelineno-0-375></a><span class=sd>    Will return None if the select_speaker_prompt_template is None.</span>
<a id=__codelineno-0-376 name=__codelineno-0-376></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-377 name=__codelineno-0-377></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>select_speaker_prompt_template</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-378 name=__codelineno-0-378></a>        <span class=k>return</span> <span class=kc>None</span>
<a id=__codelineno-0-379 name=__codelineno-0-379></a>
<a id=__codelineno-0-380 name=__codelineno-0-380></a>    <span class=k>if</span> <span class=n>agents</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-381 name=__codelineno-0-381></a>        <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span>
<a id=__codelineno-0-382 name=__codelineno-0-382></a>
<a id=__codelineno-0-383 name=__codelineno-0-383></a>    <span class=n>agentlist</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=p>[</span><span class=n>agent</span><span class=o>.</span><span class=n>name</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>agent</span><span class=w> </span><span class=ow>in</span><span class=w> </span><span class=n>agents</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-384 name=__codelineno-0-384></a>
<a id=__codelineno-0-385 name=__codelineno-0-385></a>    <span class=n>return_prompt</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>select_speaker_prompt_template</span><span class=si>}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;</span><span class=si>{agentlist}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>agentlist</span><span class=p>)</span>
<a id=__codelineno-0-386 name=__codelineno-0-386></a>    <span class=k>return</span> <span class=n>return_prompt</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.introductions_msg class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">introductions_msg</span> <a href=#autogen.GroupChat.introductions_msg class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>introductions_msg</span><span class=p>(</span><span class=n>agents</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the system message for selecting the next speaker. This is always the <em>first</em> message in the context.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-388 name=__codelineno-0-388></a><span class=k>def</span><span class=w> </span><span class=nf>introductions_msg</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>Agent</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-0-389 name=__codelineno-0-389></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the system message for selecting the next speaker. This is always the *first* message in the context.&quot;&quot;&quot;</span>
<a id=__codelineno-0-390 name=__codelineno-0-390></a>    <span class=k>if</span> <span class=n>agents</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-391 name=__codelineno-0-391></a>        <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span>
<a id=__codelineno-0-392 name=__codelineno-0-392></a>
<a id=__codelineno-0-393 name=__codelineno-0-393></a>    <span class=c1># Use the class attribute instead of a hardcoded string</span>
<a id=__codelineno-0-394 name=__codelineno-0-394></a>    <span class=n>intro_msg</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>DEFAULT_INTRO_MSG</span>
<a id=__codelineno-0-395 name=__codelineno-0-395></a>    <span class=n>participant_roles</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_participant_roles</span><span class=p>(</span><span class=n>agents</span><span class=p>)</span>
<a id=__codelineno-0-396 name=__codelineno-0-396></a>
<a id=__codelineno-0-397 name=__codelineno-0-397></a>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>intro_msg</span><span class=si>}</span><span class=se>\n\n</span><span class=si>{</span><span class=n>participant_roles</span><span class=si>}</span><span class=s2>&quot;</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.manual_select_speaker class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">manual_select_speaker</span> <a href=#autogen.GroupChat.manual_select_speaker class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>manual_select_speaker</span><span class=p>(</span><span class=n>agents</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Manually select the next speaker.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-399 name=__codelineno-0-399></a><span class=k>def</span><span class=w> </span><span class=nf>manual_select_speaker</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>Agent</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Agent</span><span class=p>,</span> <span class=kc>None</span><span class=p>]:</span>
<a id=__codelineno-0-400 name=__codelineno-0-400></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Manually select the next speaker.&quot;&quot;&quot;</span>
<a id=__codelineno-0-401 name=__codelineno-0-401></a>    <span class=n>iostream</span> <span class=o>=</span> <span class=n>IOStream</span><span class=o>.</span><span class=n>get_default</span><span class=p>()</span>
<a id=__codelineno-0-402 name=__codelineno-0-402></a>
<a id=__codelineno-0-403 name=__codelineno-0-403></a>    <span class=k>if</span> <span class=n>agents</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-404 name=__codelineno-0-404></a>        <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span>
<a id=__codelineno-0-405 name=__codelineno-0-405></a>
<a id=__codelineno-0-406 name=__codelineno-0-406></a>    <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>SelectSpeakerMessage</span><span class=p>(</span><span class=n>agents</span><span class=o>=</span><span class=n>agents</span><span class=p>))</span>
<a id=__codelineno-0-407 name=__codelineno-0-407></a>
<a id=__codelineno-0-408 name=__codelineno-0-408></a>    <span class=n>try_count</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-409 name=__codelineno-0-409></a>    <span class=c1># Assume the user will enter a valid number within 3 tries, otherwise use auto selection to avoid blocking.</span>
<a id=__codelineno-0-410 name=__codelineno-0-410></a>    <span class=k>while</span> <span class=n>try_count</span> <span class=o>&lt;=</span> <span class=mi>3</span><span class=p>:</span>
<a id=__codelineno-0-411 name=__codelineno-0-411></a>        <span class=n>try_count</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-0-412 name=__codelineno-0-412></a>        <span class=k>if</span> <span class=n>try_count</span> <span class=o>&gt;=</span> <span class=mi>3</span><span class=p>:</span>
<a id=__codelineno-0-413 name=__codelineno-0-413></a>            <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>SelectSpeakerTryCountExceededMessage</span><span class=p>(</span><span class=n>try_count</span><span class=o>=</span><span class=n>try_count</span><span class=p>,</span> <span class=n>agents</span><span class=o>=</span><span class=n>agents</span><span class=p>))</span>
<a id=__codelineno-0-414 name=__codelineno-0-414></a>            <span class=k>break</span>
<a id=__codelineno-0-415 name=__codelineno-0-415></a>        <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-416 name=__codelineno-0-416></a>            <span class=n>i</span> <span class=o>=</span> <span class=n>iostream</span><span class=o>.</span><span class=n>input</span><span class=p>(</span>
<a id=__codelineno-0-417 name=__codelineno-0-417></a>                <span class=s2>&quot;Enter the number of the next speaker (enter nothing or `q` to use auto selection): &quot;</span>
<a id=__codelineno-0-418 name=__codelineno-0-418></a>            <span class=p>)</span>
<a id=__codelineno-0-419 name=__codelineno-0-419></a>            <span class=k>if</span> <span class=n>i</span> <span class=o>==</span> <span class=s2>&quot;&quot;</span> <span class=ow>or</span> <span class=n>i</span> <span class=o>==</span> <span class=s2>&quot;q&quot;</span><span class=p>:</span>
<a id=__codelineno-0-420 name=__codelineno-0-420></a>                <span class=k>break</span>
<a id=__codelineno-0-421 name=__codelineno-0-421></a>            <span class=n>i</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
<a id=__codelineno-0-422 name=__codelineno-0-422></a>            <span class=k>if</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=nb>len</span><span class=p>(</span><span class=n>agents</span><span class=p>):</span>
<a id=__codelineno-0-423 name=__codelineno-0-423></a>                <span class=k>return</span> <span class=n>agents</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-424 name=__codelineno-0-424></a>            <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-425 name=__codelineno-0-425></a>                <span class=k>raise</span> <span class=ne>ValueError</span>
<a id=__codelineno-0-426 name=__codelineno-0-426></a>        <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
<a id=__codelineno-0-427 name=__codelineno-0-427></a>            <span class=n>iostream</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>SelectSpeakerInvalidInputMessage</span><span class=p>(</span><span class=n>agents</span><span class=o>=</span><span class=n>agents</span><span class=p>))</span>
<a id=__codelineno-0-428 name=__codelineno-0-428></a>    <span class=k>return</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.random_select_speaker class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">random_select_speaker</span> <a href=#autogen.GroupChat.random_select_speaker class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>random_select_speaker</span><span class=p>(</span><span class=n>agents</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Randomly select the next speaker.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-430 name=__codelineno-0-430></a><span class=k>def</span><span class=w> </span><span class=nf>random_select_speaker</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>Agent</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Agent</span><span class=p>,</span> <span class=kc>None</span><span class=p>]:</span>
<a id=__codelineno-0-431 name=__codelineno-0-431></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Randomly select the next speaker.&quot;&quot;&quot;</span>
<a id=__codelineno-0-432 name=__codelineno-0-432></a>    <span class=k>if</span> <span class=n>agents</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-433 name=__codelineno-0-433></a>        <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span>
<a id=__codelineno-0-434 name=__codelineno-0-434></a>    <span class=k>return</span> <span class=n>random</span><span class=o>.</span><span class=n>choice</span><span class=p>(</span><span class=n>agents</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.select_speaker class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">select_speaker</span> <a href=#autogen.GroupChat.select_speaker class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>select_speaker</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>,</span> <span class=n>selector</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Select the next speaker (with requery).</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-567>567</a></span>
<span class=normal><a href=#__codelineno-0-568>568</a></span>
<span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span>
<span class=normal><a href=#__codelineno-0-572>572</a></span>
<span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-567 name=__codelineno-0-567></a><span class=k>def</span><span class=w> </span><span class=nf>select_speaker</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>last_speaker</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span> <span class=n>selector</span><span class=p>:</span> <span class=n>ConversableAgent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Agent</span><span class=p>:</span>
<a id=__codelineno-0-568 name=__codelineno-0-568></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Select the next speaker (with requery).&quot;&quot;&quot;</span>
<a id=__codelineno-0-569 name=__codelineno-0-569></a>    <span class=c1># Prepare the list of available agents and select an agent if selection method allows (non-auto)</span>
<a id=__codelineno-0-570 name=__codelineno-0-570></a>    <span class=n>selected_agent</span><span class=p>,</span> <span class=n>agents</span><span class=p>,</span> <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_prepare_and_select_agents</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>)</span>
<a id=__codelineno-0-571 name=__codelineno-0-571></a>    <span class=k>if</span> <span class=n>selected_agent</span><span class=p>:</span>
<a id=__codelineno-0-572 name=__codelineno-0-572></a>        <span class=k>return</span> <span class=n>selected_agent</span>
<a id=__codelineno-0-573 name=__codelineno-0-573></a>    <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>speaker_selection_method</span> <span class=o>==</span> <span class=s2>&quot;manual&quot;</span><span class=p>:</span>
<a id=__codelineno-0-574 name=__codelineno-0-574></a>        <span class=c1># An agent has not been selected while in manual mode, so move to the next agent</span>
<a id=__codelineno-0-575 name=__codelineno-0-575></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>next_agent</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>)</span>
<a id=__codelineno-0-576 name=__codelineno-0-576></a>
<a id=__codelineno-0-577 name=__codelineno-0-577></a>    <span class=c1># auto speaker selection with 2-agent chat</span>
<a id=__codelineno-0-578 name=__codelineno-0-578></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_auto_select_speaker</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>,</span> <span class=n>selector</span><span class=p>,</span> <span class=n>messages</span><span class=p>,</span> <span class=n>agents</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.a_select_speaker class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_select_speaker</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.GroupChat.a_select_speaker class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_select_speaker</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>,</span> <span class=n>selector</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Select the next speaker (with requery), asynchronously.</p> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-580>580</a></span>
<span class=normal><a href=#__codelineno-0-581>581</a></span>
<span class=normal><a href=#__codelineno-0-582>582</a></span>
<span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span>
<span class=normal><a href=#__codelineno-0-586>586</a></span>
<span class=normal><a href=#__codelineno-0-587>587</a></span>
<span class=normal><a href=#__codelineno-0-588>588</a></span>
<span class=normal><a href=#__codelineno-0-589>589</a></span>
<span class=normal><a href=#__codelineno-0-590>590</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-580 name=__codelineno-0-580></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_select_speaker</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>last_speaker</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span> <span class=n>selector</span><span class=p>:</span> <span class=n>ConversableAgent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Agent</span><span class=p>:</span>
<a id=__codelineno-0-581 name=__codelineno-0-581></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Select the next speaker (with requery), asynchronously.&quot;&quot;&quot;</span>
<a id=__codelineno-0-582 name=__codelineno-0-582></a>    <span class=n>selected_agent</span><span class=p>,</span> <span class=n>agents</span><span class=p>,</span> <span class=n>messages</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_prepare_and_select_agents</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>)</span>
<a id=__codelineno-0-583 name=__codelineno-0-583></a>    <span class=k>if</span> <span class=n>selected_agent</span><span class=p>:</span>
<a id=__codelineno-0-584 name=__codelineno-0-584></a>        <span class=k>return</span> <span class=n>selected_agent</span>
<a id=__codelineno-0-585 name=__codelineno-0-585></a>    <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>speaker_selection_method</span> <span class=o>==</span> <span class=s2>&quot;manual&quot;</span><span class=p>:</span>
<a id=__codelineno-0-586 name=__codelineno-0-586></a>        <span class=c1># An agent has not been selected while in manual mode, so move to the next agent</span>
<a id=__codelineno-0-587 name=__codelineno-0-587></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>next_agent</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>)</span>
<a id=__codelineno-0-588 name=__codelineno-0-588></a>
<a id=__codelineno-0-589 name=__codelineno-0-589></a>    <span class=c1># auto speaker selection with 2-agent chat</span>
<a id=__codelineno-0-590 name=__codelineno-0-590></a>    <span class=k>return</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>a_auto_select_speaker</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>,</span> <span class=n>selector</span><span class=p>,</span> <span class=n>messages</span><span class=p>,</span> <span class=n>agents</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=autogen.GroupChat.a_auto_select_speaker class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">a_auto_select_speaker</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#autogen.GroupChat.a_auto_select_speaker class=headerlink title="Permanent link">#</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>a_auto_select_speaker</span><span class=p>(</span><span class=n>last_speaker</span><span class=p>,</span> <span class=n>selector</span><span class=p>,</span> <span class=n>messages</span><span class=p>,</span> <span class=n>agents</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>(Asynchronous) Selects next speaker for the "auto" speaker selection method. Utilises its own two-agent chat to determine the next speaker and supports requerying.</p> <p>Speaker selection for "auto" speaker selection method: 1. Create a two-agent chat with a speaker selector agent and a speaker validator agent, like a nested chat 2. Inject the group messages into the new chat 3. Run the two-agent chat, evaluating the result of response from the speaker selector agent: - If a single agent is provided then we return it and finish. If not, we add an additional message to this nested chat in an attempt to guide the LLM to a single agent response 4. Chat continues until a single agent is nominated or there are no more attempts left 5. If we run out of turns and no single agent can be determined, the next speaker in the list of agents is returned</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>last_speaker</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>The previous speaker in the group chat</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../Agent/#autogen.Agent>Agent</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>selector</code> </td> <td class=doc-param-details> <div class=doc-md-description> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.conversable_agent.ConversableAgent href=../ConversableAgent/#autogen.ConversableAgent>ConversableAgent</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>messages</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Current chat messages</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<span title=List>List</span>[<span title=Dict>Dict</span>]]</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>agents</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Valid list of agents for speaker selection</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title=typing.Optional href=https://docs.python.org/3/library/typing.html#typing.Optional>Optional</a>[<span title=List>List</span>[<a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../Agent/#autogen.Agent>Agent</a>]]</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>Dict</code> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>a counter for mentioned agents.</p> </div> <p> <span class=doc-returns-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" title=autogen.agentchat.agent.Agent href=../Agent/#autogen.Agent>Agent</a></code> </span> </p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>autogen/agentchat/groupchat.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-773>773</a></span>
<span class=normal><a href=#__codelineno-0-774>774</a></span>
<span class=normal><a href=#__codelineno-0-775>775</a></span>
<span class=normal><a href=#__codelineno-0-776>776</a></span>
<span class=normal><a href=#__codelineno-0-777>777</a></span>
<span class=normal><a href=#__codelineno-0-778>778</a></span>
<span class=normal><a href=#__codelineno-0-779>779</a></span>
<span class=normal><a href=#__codelineno-0-780>780</a></span>
<span class=normal><a href=#__codelineno-0-781>781</a></span>
<span class=normal><a href=#__codelineno-0-782>782</a></span>
<span class=normal><a href=#__codelineno-0-783>783</a></span>
<span class=normal><a href=#__codelineno-0-784>784</a></span>
<span class=normal><a href=#__codelineno-0-785>785</a></span>
<span class=normal><a href=#__codelineno-0-786>786</a></span>
<span class=normal><a href=#__codelineno-0-787>787</a></span>
<span class=normal><a href=#__codelineno-0-788>788</a></span>
<span class=normal><a href=#__codelineno-0-789>789</a></span>
<span class=normal><a href=#__codelineno-0-790>790</a></span>
<span class=normal><a href=#__codelineno-0-791>791</a></span>
<span class=normal><a href=#__codelineno-0-792>792</a></span>
<span class=normal><a href=#__codelineno-0-793>793</a></span>
<span class=normal><a href=#__codelineno-0-794>794</a></span>
<span class=normal><a href=#__codelineno-0-795>795</a></span>
<span class=normal><a href=#__codelineno-0-796>796</a></span>
<span class=normal><a href=#__codelineno-0-797>797</a></span>
<span class=normal><a href=#__codelineno-0-798>798</a></span>
<span class=normal><a href=#__codelineno-0-799>799</a></span>
<span class=normal><a href=#__codelineno-0-800>800</a></span>
<span class=normal><a href=#__codelineno-0-801>801</a></span>
<span class=normal><a href=#__codelineno-0-802>802</a></span>
<span class=normal><a href=#__codelineno-0-803>803</a></span>
<span class=normal><a href=#__codelineno-0-804>804</a></span>
<span class=normal><a href=#__codelineno-0-805>805</a></span>
<span class=normal><a href=#__codelineno-0-806>806</a></span>
<span class=normal><a href=#__codelineno-0-807>807</a></span>
<span class=normal><a href=#__codelineno-0-808>808</a></span>
<span class=normal><a href=#__codelineno-0-809>809</a></span>
<span class=normal><a href=#__codelineno-0-810>810</a></span>
<span class=normal><a href=#__codelineno-0-811>811</a></span>
<span class=normal><a href=#__codelineno-0-812>812</a></span>
<span class=normal><a href=#__codelineno-0-813>813</a></span>
<span class=normal><a href=#__codelineno-0-814>814</a></span>
<span class=normal><a href=#__codelineno-0-815>815</a></span>
<span class=normal><a href=#__codelineno-0-816>816</a></span>
<span class=normal><a href=#__codelineno-0-817>817</a></span>
<span class=normal><a href=#__codelineno-0-818>818</a></span>
<span class=normal><a href=#__codelineno-0-819>819</a></span>
<span class=normal><a href=#__codelineno-0-820>820</a></span>
<span class=normal><a href=#__codelineno-0-821>821</a></span>
<span class=normal><a href=#__codelineno-0-822>822</a></span>
<span class=normal><a href=#__codelineno-0-823>823</a></span>
<span class=normal><a href=#__codelineno-0-824>824</a></span>
<span class=normal><a href=#__codelineno-0-825>825</a></span>
<span class=normal><a href=#__codelineno-0-826>826</a></span>
<span class=normal><a href=#__codelineno-0-827>827</a></span>
<span class=normal><a href=#__codelineno-0-828>828</a></span>
<span class=normal><a href=#__codelineno-0-829>829</a></span>
<span class=normal><a href=#__codelineno-0-830>830</a></span>
<span class=normal><a href=#__codelineno-0-831>831</a></span>
<span class=normal><a href=#__codelineno-0-832>832</a></span>
<span class=normal><a href=#__codelineno-0-833>833</a></span>
<span class=normal><a href=#__codelineno-0-834>834</a></span>
<span class=normal><a href=#__codelineno-0-835>835</a></span>
<span class=normal><a href=#__codelineno-0-836>836</a></span>
<span class=normal><a href=#__codelineno-0-837>837</a></span>
<span class=normal><a href=#__codelineno-0-838>838</a></span>
<span class=normal><a href=#__codelineno-0-839>839</a></span>
<span class=normal><a href=#__codelineno-0-840>840</a></span>
<span class=normal><a href=#__codelineno-0-841>841</a></span>
<span class=normal><a href=#__codelineno-0-842>842</a></span>
<span class=normal><a href=#__codelineno-0-843>843</a></span>
<span class=normal><a href=#__codelineno-0-844>844</a></span>
<span class=normal><a href=#__codelineno-0-845>845</a></span>
<span class=normal><a href=#__codelineno-0-846>846</a></span>
<span class=normal><a href=#__codelineno-0-847>847</a></span>
<span class=normal><a href=#__codelineno-0-848>848</a></span>
<span class=normal><a href=#__codelineno-0-849>849</a></span>
<span class=normal><a href=#__codelineno-0-850>850</a></span>
<span class=normal><a href=#__codelineno-0-851>851</a></span>
<span class=normal><a href=#__codelineno-0-852>852</a></span>
<span class=normal><a href=#__codelineno-0-853>853</a></span>
<span class=normal><a href=#__codelineno-0-854>854</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-773 name=__codelineno-0-773></a><span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>a_auto_select_speaker</span><span class=p>(</span>
<a id=__codelineno-0-774 name=__codelineno-0-774></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-775 name=__codelineno-0-775></a>    <span class=n>last_speaker</span><span class=p>:</span> <span class=n>Agent</span><span class=p>,</span>
<a id=__codelineno-0-776 name=__codelineno-0-776></a>    <span class=n>selector</span><span class=p>:</span> <span class=n>ConversableAgent</span><span class=p>,</span>
<a id=__codelineno-0-777 name=__codelineno-0-777></a>    <span class=n>messages</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]],</span>
<a id=__codelineno-0-778 name=__codelineno-0-778></a>    <span class=n>agents</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=n>Agent</span><span class=p>]],</span>
<a id=__codelineno-0-779 name=__codelineno-0-779></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Agent</span><span class=p>:</span>
<a id=__codelineno-0-780 name=__codelineno-0-780></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;(Asynchronous) Selects next speaker for the &quot;auto&quot; speaker selection method. Utilises its own two-agent chat to determine the next speaker and supports requerying.</span>
<a id=__codelineno-0-781 name=__codelineno-0-781></a>
<a id=__codelineno-0-782 name=__codelineno-0-782></a><span class=sd>    Speaker selection for &quot;auto&quot; speaker selection method:</span>
<a id=__codelineno-0-783 name=__codelineno-0-783></a><span class=sd>    1. Create a two-agent chat with a speaker selector agent and a speaker validator agent, like a nested chat</span>
<a id=__codelineno-0-784 name=__codelineno-0-784></a><span class=sd>    2. Inject the group messages into the new chat</span>
<a id=__codelineno-0-785 name=__codelineno-0-785></a><span class=sd>    3. Run the two-agent chat, evaluating the result of response from the speaker selector agent:</span>
<a id=__codelineno-0-786 name=__codelineno-0-786></a><span class=sd>        - If a single agent is provided then we return it and finish. If not, we add an additional message to this nested chat in an attempt to guide the LLM to a single agent response</span>
<a id=__codelineno-0-787 name=__codelineno-0-787></a><span class=sd>    4. Chat continues until a single agent is nominated or there are no more attempts left</span>
<a id=__codelineno-0-788 name=__codelineno-0-788></a><span class=sd>    5. If we run out of turns and no single agent can be determined, the next speaker in the list of agents is returned</span>
<a id=__codelineno-0-789 name=__codelineno-0-789></a>
<a id=__codelineno-0-790 name=__codelineno-0-790></a><span class=sd>    Args:</span>
<a id=__codelineno-0-791 name=__codelineno-0-791></a><span class=sd>        last_speaker Agent: The previous speaker in the group chat</span>
<a id=__codelineno-0-792 name=__codelineno-0-792></a><span class=sd>        selector ConversableAgent:</span>
<a id=__codelineno-0-793 name=__codelineno-0-793></a><span class=sd>        messages Optional[List[Dict]]: Current chat messages</span>
<a id=__codelineno-0-794 name=__codelineno-0-794></a><span class=sd>        agents Optional[List[Agent]]: Valid list of agents for speaker selection</span>
<a id=__codelineno-0-795 name=__codelineno-0-795></a>
<a id=__codelineno-0-796 name=__codelineno-0-796></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-797 name=__codelineno-0-797></a><span class=sd>        Dict: a counter for mentioned agents.</span>
<a id=__codelineno-0-798 name=__codelineno-0-798></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-799 name=__codelineno-0-799></a>    <span class=c1># If no agents are passed in, assign all the group chat&#39;s agents</span>
<a id=__codelineno-0-800 name=__codelineno-0-800></a>    <span class=k>if</span> <span class=n>agents</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-801 name=__codelineno-0-801></a>        <span class=n>agents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span>
<a id=__codelineno-0-802 name=__codelineno-0-802></a>
<a id=__codelineno-0-803 name=__codelineno-0-803></a>    <span class=c1># The maximum number of speaker selection attempts (including requeries)</span>
<a id=__codelineno-0-804 name=__codelineno-0-804></a>    <span class=c1># We track these and use them in the validation function as we can&#39;t</span>
<a id=__codelineno-0-805 name=__codelineno-0-805></a>    <span class=c1># access the max_turns from within validate_speaker_name</span>
<a id=__codelineno-0-806 name=__codelineno-0-806></a>    <span class=n>max_attempts</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_retries_for_selecting_speaker</span>
<a id=__codelineno-0-807 name=__codelineno-0-807></a>    <span class=n>attempts_left</span> <span class=o>=</span> <span class=n>max_attempts</span>
<a id=__codelineno-0-808 name=__codelineno-0-808></a>    <span class=n>attempt</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-0-809 name=__codelineno-0-809></a>
<a id=__codelineno-0-810 name=__codelineno-0-810></a>    <span class=c1># Registered reply function for checking_agent, checks the result of the response for agent names</span>
<a id=__codelineno-0-811 name=__codelineno-0-811></a>    <span class=k>def</span><span class=w> </span><span class=nf>validate_speaker_name</span><span class=p>(</span>
<a id=__codelineno-0-812 name=__codelineno-0-812></a>        <span class=n>recipient</span><span class=p>,</span> <span class=n>messages</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>config</span>
<a id=__codelineno-0-813 name=__codelineno-0-813></a>    <span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]]]:</span>
<a id=__codelineno-0-814 name=__codelineno-0-814></a>        <span class=c1># The number of retries left, starting at max_retries_for_selecting_speaker</span>
<a id=__codelineno-0-815 name=__codelineno-0-815></a>        <span class=k>nonlocal</span> <span class=n>attempts_left</span>
<a id=__codelineno-0-816 name=__codelineno-0-816></a>        <span class=k>nonlocal</span> <span class=n>attempt</span>
<a id=__codelineno-0-817 name=__codelineno-0-817></a>
<a id=__codelineno-0-818 name=__codelineno-0-818></a>        <span class=n>attempt</span> <span class=o>=</span> <span class=n>attempt</span> <span class=o>+</span> <span class=mi>1</span>
<a id=__codelineno-0-819 name=__codelineno-0-819></a>        <span class=n>attempts_left</span> <span class=o>=</span> <span class=n>attempts_left</span> <span class=o>-</span> <span class=mi>1</span>
<a id=__codelineno-0-820 name=__codelineno-0-820></a>
<a id=__codelineno-0-821 name=__codelineno-0-821></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_validate_speaker_name</span><span class=p>(</span><span class=n>recipient</span><span class=p>,</span> <span class=n>messages</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>config</span><span class=p>,</span> <span class=n>attempts_left</span><span class=p>,</span> <span class=n>attempt</span><span class=p>,</span> <span class=n>agents</span><span class=p>)</span>
<a id=__codelineno-0-822 name=__codelineno-0-822></a>
<a id=__codelineno-0-823 name=__codelineno-0-823></a>    <span class=c1># Two-agent chat for speaker selection</span>
<a id=__codelineno-0-824 name=__codelineno-0-824></a>
<a id=__codelineno-0-825 name=__codelineno-0-825></a>    <span class=c1># Agent for checking the response from the speaker_select_agent</span>
<a id=__codelineno-0-826 name=__codelineno-0-826></a>    <span class=n>checking_agent</span><span class=p>,</span> <span class=n>speaker_selection_agent</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_internal_agents</span><span class=p>(</span>
<a id=__codelineno-0-827 name=__codelineno-0-827></a>        <span class=n>agents</span><span class=p>,</span> <span class=n>max_attempts</span><span class=p>,</span> <span class=n>messages</span><span class=p>,</span> <span class=n>validate_speaker_name</span><span class=p>,</span> <span class=n>selector</span>
<a id=__codelineno-0-828 name=__codelineno-0-828></a>    <span class=p>)</span>
<a id=__codelineno-0-829 name=__codelineno-0-829></a>
<a id=__codelineno-0-830 name=__codelineno-0-830></a>    <span class=c1># Create the starting message</span>
<a id=__codelineno-0-831 name=__codelineno-0-831></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>select_speaker_prompt_template</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-832 name=__codelineno-0-832></a>        <span class=n>start_message</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-833 name=__codelineno-0-833></a>            <span class=s2>&quot;content&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>select_speaker_prompt</span><span class=p>(</span><span class=n>agents</span><span class=p>),</span>
<a id=__codelineno-0-834 name=__codelineno-0-834></a>            <span class=s2>&quot;override_role&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>role_for_select_speaker_messages</span><span class=p>,</span>
<a id=__codelineno-0-835 name=__codelineno-0-835></a>        <span class=p>}</span>
<a id=__codelineno-0-836 name=__codelineno-0-836></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-837 name=__codelineno-0-837></a>        <span class=n>start_message</span> <span class=o>=</span> <span class=n>messages</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-838 name=__codelineno-0-838></a>
<a id=__codelineno-0-839 name=__codelineno-0-839></a>    <span class=c1># Add the message transforms, if any, to the speaker selection agent</span>
<a id=__codelineno-0-840 name=__codelineno-0-840></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_speaker_selection_transforms</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-841 name=__codelineno-0-841></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_speaker_selection_transforms</span><span class=o>.</span><span class=n>add_to_agent</span><span class=p>(</span><span class=n>speaker_selection_agent</span><span class=p>)</span>
<a id=__codelineno-0-842 name=__codelineno-0-842></a>
<a id=__codelineno-0-843 name=__codelineno-0-843></a>    <span class=c1># Run the speaker selection chat</span>
<a id=__codelineno-0-844 name=__codelineno-0-844></a>    <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>checking_agent</span><span class=o>.</span><span class=n>a_initiate_chat</span><span class=p>(</span>
<a id=__codelineno-0-845 name=__codelineno-0-845></a>        <span class=n>speaker_selection_agent</span><span class=p>,</span>
<a id=__codelineno-0-846 name=__codelineno-0-846></a>        <span class=n>cache</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>  <span class=c1># don&#39;t use caching for the speaker selection chat</span>
<a id=__codelineno-0-847 name=__codelineno-0-847></a>        <span class=n>message</span><span class=o>=</span><span class=n>start_message</span><span class=p>,</span>
<a id=__codelineno-0-848 name=__codelineno-0-848></a>        <span class=n>max_turns</span><span class=o>=</span><span class=mi>2</span>
<a id=__codelineno-0-849 name=__codelineno-0-849></a>        <span class=o>*</span> <span class=nb>max</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>max_attempts</span><span class=p>),</span>  <span class=c1># Limiting the chat to the number of attempts, including the initial one</span>
<a id=__codelineno-0-850 name=__codelineno-0-850></a>        <span class=n>clear_history</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-851 name=__codelineno-0-851></a>        <span class=n>silent</span><span class=o>=</span><span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>select_speaker_auto_verbose</span><span class=p>,</span>  <span class=c1># Base silence on the verbose attribute</span>
<a id=__codelineno-0-852 name=__codelineno-0-852></a>    <span class=p>)</span>
<a id=__codelineno-0-853 name=__codelineno-0-853></a>
<a id=__codelineno-0-854 name=__codelineno-0-854></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_process_speaker_selection_result</span><span class=p>(</span><span class=n>result</span><span class=p>,</span> <span class=n>last_speaker</span><span class=p>,</span> <span class=n>agents</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-02-27T03:35:20+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-02-27</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ConversableAgent/ class="md-footer__link md-footer__link--prev" aria-label="Previous: ConversableAgent"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> ConversableAgent </div> </div> </a> <a href=../GroupChatManager/ class="md-footer__link md-footer__link--next" aria-label="Next: GroupChatManager"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> GroupChatManager </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../assets/javascripts/bundle.f1b6f286.min.js></script> <script src=../../../../js/timeago.min.js></script> <script src=../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>